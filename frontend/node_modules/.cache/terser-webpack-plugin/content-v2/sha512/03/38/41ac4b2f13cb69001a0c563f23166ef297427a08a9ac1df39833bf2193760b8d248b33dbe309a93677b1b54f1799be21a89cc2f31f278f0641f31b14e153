{"code":"(this[\"webpackJsonpstarter-bt5\"]=this[\"webpackJsonpstarter-bt5\"]||[]).push([[19],{127:function(e,t,s){\"use strict\";s.d(t,\"b\",(function(){return o})),s.d(t,\"a\",(function(){return i}));var a=s(155),n=s.n(a),r=\"http://localhost:8080/\",o=function(e){return n.a.post(r+\"users/register\",{firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password,confirmPassword:e.confirmPassword}).then((function(e){return e}))},i=function(e){return n.a.post(r+\"users/login\",{email:e.email,password:e.password}).then((function(e){return localStorage.setItem(\"usertoken\",e.data.token),e.data})).catch((function(e){console.log(e)}))}},129:function(e,t,s){},318:function(e,t,s){\"use strict\";s.r(t);var a=s(45),n=s(85),r=s(77),o=s(88),i=s(92),c=s(167),l=s(1),d=s(9),m=s(127),u=(s(129),s(4)),h=function(e){Object(i.a)(s,e);var t=Object(c.a)(s);function s(){var e;return Object(n.a)(this,s),(e=t.call(this)).handleFormSubmit=function(t){t.preventDefault();var s={email:e.state.email,password:e.state.password};Object(m.a)(s).then((function(t){t&&e.props.history.push(\"/profile\")}))},e.state={email:\"\",password:\"\",errors:{}},e.onChange=e.onChange.bind(Object(o.a)(e)),e.submitted=!1,e}return Object(r.a)(s,[{key:\"onChange\",value:function(e){this.setState(Object(a.a)({},e.target.name,e.target.value))}},{key:\"render\",value:function(){return Object(u.jsxs)(\"div\",{className:\"main-content-container\",children:[Object(u.jsx)(\"div\",{className:\"form\",children:Object(u.jsxs)(\"form\",{className:\"signForm\",children:[Object(u.jsx)(\"h1\",{className:\"h3 mb-3 font-weight-normal\",children:\"Sign in to Lightspeed Retail (X-Series)\"}),Object(u.jsx)(\"div\",{className:\"notStore\",children:Object(u.jsx)(d.b,{to:\"/register\",children:\"Not your store?\"})}),Object(u.jsxs)(\"div\",{className:\"form-group\",children:[Object(u.jsx)(\"label\",{htmlFor:\"email\",children:\"Email address\"}),Object(u.jsx)(\"input\",{type:\"email\",className:\"form-control\",name:\"email\",placeholder:\"Enter email\",value:this.state.email,onChange:this.onChange})]}),Object(u.jsxs)(\"div\",{className:\"form-group\",children:[Object(u.jsx)(\"label\",{htmlFor:\"password\",children:\"Password\"}),Object(u.jsx)(\"input\",{type:\"password\",className:\"form-control\",name:\"password\",placeholder:\"Password\",value:this.state.password,onChange:this.onChange})]}),Object(u.jsxs)(\"div\",{className:\"loginButton\",children:[Object(u.jsx)(d.b,{to:\"/\",children:\"Forgot your password?\"}),Object(u.jsx)(\"button\",{type:\"submit\",onClick:this.handleFormSubmit,className:\"btn btn-primary\",children:\"Sign in\"})]})]})}),Object(u.jsx)(\"div\",{className:\"vd-signin-background\",style:{backgroundImage:'url(\"https://vendfrontendassets.freetls.fastly.net/images/backgrounds/login-background-xseries.jpg\")'}})]})}}]),s}(l.Component);t.default=h}}]);","name":"static/js/19.f745b457.chunk.js","map":{"version":3,"sources":["static/js/19.f745b457.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","d","register","login","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","n","api_url","newUser","a","post","firstName","lastName","email","password","confirmPassword","then","response","user","localStorage","setItem","data","token","catch","err","console","log","exports","r","E_React_pos_system_main_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","E_React_pos_system_main_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","E_React_pos_system_main_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__","E_React_pos_system_main_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__","E_React_pos_system_main_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","E_React_pos_system_main_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_5__","react__WEBPACK_IMPORTED_MODULE_6__","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","_UserFunction__WEBPACK_IMPORTED_MODULE_8__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__","Login","_Component","Object","_super","_this","call","handleFormSubmit","event","preventDefault","state","res","props","history","errors","onChange","bind","submitted","key","value","e","setState","target","name","className","children","to","htmlFor","type","placeholder","onClick","style","backgroundImage"],"mappings":"CAACA,KAAK,2BAA6BA,KAAK,4BAA8B,IAAIC,KAAK,CAAC,CAAC,IAAI,CAE/E,IACA,SAAUC,EAAQC,EAAqBC,GAE7C,aAC+BA,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOG,KACpEF,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOI,KAG9E,IAAIC,EAAqCJ,EAAoB,KACzDK,EAA0DL,EAAoBM,EAAEF,GAErGG,EAAQ,yBAA6BL,EAAS,SAAkBM,GAAS,OAAOH,EAA2CI,EAAEC,KAAKH,EAAQ,iBAAiB,CAACI,UAAUH,EAAQG,UAAUC,SAASJ,EAAQI,SAASC,MAAML,EAAQK,MAAMC,SAASN,EAAQM,SAASC,gBAAgBP,EAAQO,kBAAkBC,MAAK,SAASC,GAAU,OAAOA,MAAkBd,EAAM,SAAee,GAAM,OAAOb,EAA2CI,EAAEC,KAAKH,EAAQ,cAAc,CAACM,MAAMK,EAAKL,MAAMC,SAASI,EAAKJ,WAAWE,MAAK,SAASC,GAAgE,OAAtDE,aAAaC,QAAQ,YAAYH,EAASI,KAAKC,OAAcL,EAASI,QAAQE,OAAM,SAASC,GAAKC,QAAQC,IAAIF,QAIpnB,IACA,SAAU1B,EAAQ6B,EAAS3B,KAM3B,IACA,SAAUF,EAAQC,EAAqBC,GAE7C,aACAA,EAAoB4B,EAAE7B,GACD,IAAI8B,EAA6G7B,EAAoB,IACjI8B,EAA6G9B,EAAoB,IACjI+B,EAA0G/B,EAAoB,IAC9HgC,EAAoHhC,EAAoB,IACxIiC,EAAuGjC,EAAoB,IAC3HkC,EAA0GlC,EAAoB,KAC9HmC,EAAqCnC,EAAoB,GAEzDoC,EAAgDpC,EAAoB,GACpEqC,EAA6CrC,EAAoB,KAGjEsC,GAFyCtC,EAAoB,KAEXA,EAAoB,IAE3FuC,EAAmB,SAASC,GAAYC,OAAOR,EAAsH,EAA7HQ,CAAgIF,EAAMC,GAAY,IAAIE,EAAOD,OAAOP,EAAyH,EAAhIO,CAAmIF,GAAO,SAASA,IAAQ,IAAII,EACoG,OAD9FF,OAAOX,EAA4H,EAAnIW,CAAsI7C,KAAK2C,IAAOI,EAAMD,EAAOE,KAAKhD,OAAYiD,iBAAiB,SAASC,GAAOA,EAAMC,iBACrkB,IAAI7B,EAAK,CAACL,MAAM8B,EAAMK,MAAMnC,MAAMC,SAAS6B,EAAMK,MAAMlC,UAAU2B,OAAOJ,EAA0D,EAAjEI,CAAoEvB,GAAMF,MAAK,SAASiC,GAAQA,GAAKN,EAAMO,MAAMC,QAAQtD,KAAK,gBAAkB8C,EAAMK,MAAM,CAACnC,MAAM,GAAGC,SAAS,GAAGsC,OAAO,IAAIT,EAAMU,SAASV,EAAMU,SAASC,KAAKb,OAAOT,EAAmI,EAA1IS,CAA6IE,IAAQA,EAAMY,WAAU,EAAaZ,EAAw1F,OAAj1FF,OAAOV,EAAyH,EAAhIU,CAAmIF,EAAM,CAAC,CAACiB,IAAI,WAAWC,MAAM,SAAkBC,GAAG9D,KAAK+D,SAASlB,OAAOZ,EAA4H,EAAnIY,CAAsI,GAAGiB,EAAEE,OAAOC,KAAKH,EAAEE,OAAOH,UAAW,CAACD,IAAI,SAASC,MAAM,WAAkB,OAAmBhB,OAAOH,EAAsD,KAA7DG,CAAgE,MAAM,CAACqB,UAAU,yBAAyBC,SAAS,CAActB,OAAOH,EAAqD,IAA5DG,CAA+D,MAAM,CAACqB,UAAU,OAAOC,SAAsBtB,OAAOH,EAAsD,KAA7DG,CAAgE,OAAO,CAACqB,UAAU,WAAWC,SAAS,CAActB,OAAOH,EAAqD,IAA5DG,CAA+D,KAAK,CAACqB,UAAU,6BAA6BC,SAAS,4CAAyDtB,OAAOH,EAAqD,IAA5DG,CAA+D,MAAM,CAACqB,UAAU,WAAWC,SAAsBtB,OAAOH,EAAqD,IAA5DG,CAA+DL,EAA4D,EAAE,CAAC4B,GAAG,YAAYD,SAAS,sBAAmCtB,OAAOH,EAAsD,KAA7DG,CAAgE,MAAM,CAACqB,UAAU,aAAaC,SAAS,CAActB,OAAOH,EAAqD,IAA5DG,CAA+D,QAAQ,CAACwB,QAAQ,QAAQF,SAAS,kBAA+BtB,OAAOH,EAAqD,IAA5DG,CAA+D,QAAQ,CAACyB,KAAK,QAAQJ,UAAU,eAAeD,KAAK,QAAQM,YAAY,cAAcV,MAAM7D,KAAKoD,MAAMnC,MAAMwC,SAASzD,KAAKyD,cAA2BZ,OAAOH,EAAsD,KAA7DG,CAAgE,MAAM,CAACqB,UAAU,aAAaC,SAAS,CAActB,OAAOH,EAAqD,IAA5DG,CAA+D,QAAQ,CAACwB,QAAQ,WAAWF,SAAS,aAA0BtB,OAAOH,EAAqD,IAA5DG,CAA+D,QAAQ,CAACyB,KAAK,WAAWJ,UAAU,eAAeD,KAAK,WAAWM,YAAY,WAAWV,MAAM7D,KAAKoD,MAAMlC,SAASuC,SAASzD,KAAKyD,cAA2BZ,OAAOH,EAAsD,KAA7DG,CAAgE,MAAM,CAACqB,UAAU,cAAcC,SAAS,CAActB,OAAOH,EAAqD,IAA5DG,CAA+DL,EAA4D,EAAE,CAAC4B,GAAG,IAAID,SAAS,0BAAuCtB,OAAOH,EAAqD,IAA5DG,CAA+D,SAAS,CAACyB,KAAK,SAASE,QAAQxE,KAAKiD,iBAAiBiB,UAAU,kBAAkBC,SAAS,oBAAiCtB,OAAOH,EAAqD,IAA5DG,CAA+D,MAAM,CAACqB,UAAU,uBAAuBO,MAAM,CAACC,gBAAgB,iHAA2H/B,EAD3xG,CACmyGJ,EAA8C,WAAgCpC,EAA6B,QAAI"},"input":"(this[\"webpackJsonpstarter-bt5\"] = this[\"webpackJsonpstarter-bt5\"] || []).push([[19],{\n\n/***/ 127:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return register; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return login; });\n/* unused harmony export getProfile */\n/* unused harmony export updatePassword */\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(155);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n// const { api_url } = process.env\nvar api_url=\"http://localhost:8080/\";var register=function register(newUser){return axios__WEBPACK_IMPORTED_MODULE_0___default.a.post(api_url+'users/register',{firstName:newUser.firstName,lastName:newUser.lastName,email:newUser.email,password:newUser.password,confirmPassword:newUser.confirmPassword}).then(function(response){return response;});};var login=function login(user){return axios__WEBPACK_IMPORTED_MODULE_0___default.a.post(api_url+'users/login',{email:user.email,password:user.password}).then(function(response){localStorage.setItem('usertoken',response.data.token);return response.data;}).catch(function(err){console.log(err);});};var getProfile=function getProfile(token){return axios__WEBPACK_IMPORTED_MODULE_0___default.a.get('users/profile',{headers:{Authorization:token}}).then(function(response){response.data.status='success';return response.data;}).catch(function(err){console.dir(err);return{'error':err.message,'status':'failed'};});};var updatePassword=function updatePassword(updatePasswordRequest){return axios__WEBPACK_IMPORTED_MODULE_0___default.a.put(\"/users/password/\",{email:updatePasswordRequest.email,password:updatePasswordRequest.password,new_password:updatePasswordRequest.new_password},{headers:{'Content-Type':'application/json','Authorization':updatePasswordRequest.token}}).then(function(response){return response.data;}).catch(function(err){console.dir(\"err\",err);return err.message;});};\n\n/***/ }),\n\n/***/ 129:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 318:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var E_React_pos_system_main_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(45);\n/* harmony import */ var E_React_pos_system_main_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(85);\n/* harmony import */ var E_React_pos_system_main_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(77);\n/* harmony import */ var E_React_pos_system_main_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(88);\n/* harmony import */ var E_React_pos_system_main_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(92);\n/* harmony import */ var E_React_pos_system_main_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(167);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(9);\n/* harmony import */ var _UserFunction__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(127);\n/* harmony import */ var _auth_css__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(129);\n/* harmony import */ var _auth_css__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_auth_css__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(4);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__);\nvar Login=/*#__PURE__*/function(_Component){Object(E_React_pos_system_main_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(Login,_Component);var _super=Object(E_React_pos_system_main_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(Login);function Login(){var _this;Object(E_React_pos_system_main_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(this,Login);_this=_super.call(this);_this.handleFormSubmit=function(event){event.preventDefault();// handle actual form submission here\nvar user={email:_this.state.email,password:_this.state.password};Object(_UserFunction__WEBPACK_IMPORTED_MODULE_8__[/* login */ \"a\"])(user).then(function(res){if(res){_this.props.history.push(\"/profile\");}});};_this.state={email:'',password:'',errors:{}};_this.onChange=_this.onChange.bind(Object(E_React_pos_system_main_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this));_this.submitted=false;return _this;}Object(E_React_pos_system_main_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(Login,[{key:\"onChange\",value:function onChange(e){this.setState(Object(E_React_pos_system_main_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({},e.target.name,e.target.value));}},{key:\"render\",value:function render(){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"div\",{className:\"main-content-container\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"div\",{className:\"form\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"form\",{className:\"signForm\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"h1\",{className:\"h3 mb-3 font-weight-normal\",children:\"Sign in to Lightspeed Retail (X-Series)\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"div\",{className:\"notStore\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_7__[/* Link */ \"b\"],{to:\"/register\",children:\"Not your store?\"})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"label\",{htmlFor:\"email\",children:\"Email address\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"input\",{type:\"email\",className:\"form-control\",name:\"email\",placeholder:\"Enter email\",value:this.state.email,onChange:this.onChange})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"input\",{type:\"password\",className:\"form-control\",name:\"password\",placeholder:\"Password\",value:this.state.password,onChange:this.onChange})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"div\",{className:\"loginButton\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_7__[/* Link */ \"b\"],{to:\"/\",children:\"Forgot your password?\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"button\",{type:\"submit\",onClick:this.handleFormSubmit,className:\"btn btn-primary\",children:\"Sign in\"})]})]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"div\",{className:\"vd-signin-background\",style:{backgroundImage:\"url(\\\"https://vendfrontendassets.freetls.fastly.net/images/backgrounds/login-background-xseries.jpg\\\")\"}})]});}}]);return Login;}(react__WEBPACK_IMPORTED_MODULE_6__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"default\"] = (Login);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["E:/React/pos-system/main/src/auth/UserFunction.js","E:\\React\\pos-system\\main\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!E:\\React\\pos-system\\main\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!E:\\React\\pos-system\\main\\node_modules\\postcss-loader\\src\\index.js??postcss!E:\\React\\pos-system\\main\\src\\auth\\auth.css","E:/React/pos-system/main/src/auth/Login.js"],"names":["api_url","register","newUser","axios","post","firstName","lastName","email","password","confirmPassword","then","response","login","user","localStorage","setItem","data","token","catch","err","console","log","getProfile","get","headers","Authorization","status","dir","message","updatePassword","updatePasswordRequest","put","new_password","Login","handleFormSubmit","event","preventDefault","state","res","props","history","push","errors","onChange","bind","submitted","e","setState","target","name","value","backgroundImage","Component"],"mappings":"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","file":"x","sourcesContent":["import axios from 'axios'\r\n\r\n// const { api_url } = process.env\r\nconst api_url = \"http://localhost:8080/\"\r\n\r\nexport const register = newUser => {\r\n  return axios\r\n    .post(api_url + 'users/register', {\r\n      firstName: newUser.firstName,\r\n      lastName: newUser.lastName,\r\n      email: newUser.email,\r\n      password: newUser.password,\r\n      confirmPassword: newUser.confirmPassword\r\n    })\r\n    .then(response => {\r\n      return response\r\n    })\r\n}\r\n\r\nexport const login = user => {\r\n  return axios\r\n    .post(api_url + 'users/login', {\r\n      email: user.email,\r\n      password: user.password\r\n    })\r\n    .then(response => {\r\n      localStorage.setItem('usertoken', response.data.token)\r\n      return response.data\r\n    })\r\n    .catch(err => {\r\n      console.log(err)\r\n    })\r\n}\r\n\r\nexport const getProfile = token => {\r\n  return axios\r\n    .get('users/profile', {\r\n      headers: { Authorization: token }\r\n    })\r\n    .then(response => {\r\n      response.data.status = 'success';\r\n      return response.data\r\n    })\r\n    .catch(err => {\r\n      console.dir(err)\r\n      return {'error':err.message,'status':'failed'};\r\n    })\r\n}\r\n\r\n\r\n\r\nexport const updatePassword = updatePasswordRequest => {\r\n  return axios\r\n    .put(\r\n      `/users/password/`,\r\n      {\r\n        email:updatePasswordRequest.email,\r\n        password: updatePasswordRequest.password,\r\n        new_password: updatePasswordRequest.new_password\r\n      },\r\n      {\r\n        headers: { \r\n            'Content-Type': 'application/json', \r\n            'Authorization': updatePasswordRequest.token \r\n        }\r\n      }\r\n    )\r\n    .then(function(response) {\r\n        return response.data;\r\n    }).catch(err=>{\r\n      console.dir(\"err\",err);\r\n      return err.message;\r\n    })\r\n}","// extracted by mini-css-extract-plugin","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { login } from './UserFunction'\r\nimport './auth.css'\r\n\r\nclass Login extends Component {\r\n     constructor() {\r\n          super()\r\n\r\n          this.state = {\r\n               email: '',\r\n               password: '',\r\n               errors: {}\r\n          }\r\n\r\n          this.onChange = this.onChange.bind(this)\r\n          this.submitted = false;\r\n     }\r\n\r\n     onChange(e) {\r\n          this.setState({ [e.target.name]: e.target.value })\r\n     }\r\n\r\n     handleFormSubmit = event => {\r\n          event.preventDefault();\r\n\r\n          // handle actual form submission here\r\n          const user = {\r\n               email: this.state.email,\r\n               password: this.state.password\r\n          }\r\n\r\n          login(user).then(res => {\r\n               if (res) {\r\n                    this.props.history.push(`/profile`)\r\n               }\r\n          })\r\n     }\r\n\r\n     render() {\r\n          return (\r\n               <div className='main-content-container'>\r\n                    <div className=\"form\">\r\n                         <form className='signForm'>\r\n                              <h1 className=\"h3 mb-3 font-weight-normal\">Sign in to Lightspeed Retail (X-Series)</h1>\r\n                              <div className='notStore'>\r\n                                   <Link to='/register'>Not your store?</Link>\r\n                              </div>\r\n                              <div className=\"form-group\">\r\n                                   <label htmlFor=\"email\">Email address</label>\r\n                                   <input\r\n                                        type=\"email\"\r\n                                        className=\"form-control\"\r\n                                        name=\"email\"\r\n                                        placeholder=\"Enter email\"\r\n                                        value={this.state.email}\r\n                                        onChange={this.onChange}\r\n                                   />\r\n                              </div>\r\n                              <div className=\"form-group\">\r\n                                   <label htmlFor=\"password\">Password</label>\r\n                                   <input\r\n                                        type=\"password\"\r\n                                        className=\"form-control\"\r\n                                        name=\"password\"\r\n                                        placeholder=\"Password\"\r\n                                        value={this.state.password}\r\n                                        onChange={this.onChange}\r\n                                   />\r\n                              </div>\r\n                              <div className='loginButton'>\r\n                                   <Link to='/'>\r\n                                        Forgot your password?\r\n                                   </Link>\r\n                                   <button\r\n                                        type=\"submit\"\r\n                                        onClick={this.handleFormSubmit}\r\n                                        className=\"btn btn-primary\"\r\n                                   >\r\n                                        Sign in\r\n                                   </button>\r\n                              </div>\r\n\r\n                         </form>\r\n                    </div>\r\n\r\n                    <div className='vd-signin-background' style={{ backgroundImage: `url(\"https://vendfrontendassets.freetls.fastly.net/images/backgrounds/login-background-xseries.jpg\")` }}>\r\n                    </div>\r\n               </div>\r\n          )\r\n     }\r\n}\r\n\r\nexport default Login\r\n"]}}