{"ast":null,"code":"//pull-apart ISO offsets, like \"+0100\"\nconst parseOffset = (s, offset) => {\n  if (!offset) {\n    return s;\n  } // according to ISO8601, tz could be hh:mm, hhmm or hh\n  // so need few more steps before the calculation.\n\n\n  let num = 0; // for (+-)hh:mm\n\n  if (/^[\\+-]?[0-9]{2}:[0-9]{2}$/.test(offset)) {\n    //support \"+01:00\"\n    if (/:00/.test(offset) === true) {\n      offset = offset.replace(/:00/, '');\n    } //support \"+01:30\"\n\n\n    if (/:30/.test(offset) === true) {\n      offset = offset.replace(/:30/, '.5');\n    }\n  } // for (+-)hhmm\n\n\n  if (/^[\\+-]?[0-9]{4}$/.test(offset)) {\n    offset = offset.replace(/30$/, '.5');\n  }\n\n  num = parseFloat(offset); //divide by 100 or 10 - , \"+0100\", \"+01\"\n\n  if (Math.abs(num) > 100) {\n    num = num / 100;\n  } //this is a fancy-move\n\n\n  if (num === 0 || offset === 'Z' || offset === 'z') {\n    s.tz = 'etc/gmt';\n    return s;\n  } //okay, try to match it to a utc timezone\n  //remember - this is opposite! a -5 offset maps to Etc/GMT+5  ¯\\_(:/)_/¯\n  //https://askubuntu.com/questions/519550/why-is-the-8-timezone-called-gmt-8-in-the-filesystem\n\n\n  num *= -1;\n\n  if (num >= 0) {\n    num = '+' + num;\n  }\n\n  let tz = 'etc/gmt' + num;\n  let zones = s.timezones;\n\n  if (zones[tz]) {\n    // log a warning if we're over-writing a given timezone?\n    // console.log('changing timezone to: ' + tz)\n    s.tz = tz;\n  }\n\n  return s;\n};\n\nexport default parseOffset;","map":{"version":3,"sources":["E:/React/pos-system/main/node_modules/spacetime/src/input/formats/parseOffset.js"],"names":["parseOffset","s","offset","num","test","replace","parseFloat","Math","abs","tz","zones","timezones"],"mappings":"AAAA;AACA,MAAMA,WAAW,GAAG,CAACC,CAAD,EAAIC,MAAJ,KAAe;AACjC,MAAI,CAACA,MAAL,EAAa;AACX,WAAOD,CAAP;AACD,GAHgC,CAKjC;AACA;;;AACA,MAAIE,GAAG,GAAG,CAAV,CAPiC,CASjC;;AACA,MAAI,4BAA4BC,IAA5B,CAAiCF,MAAjC,CAAJ,EAA8C;AAC5C;AACA,QAAI,MAAME,IAAN,CAAWF,MAAX,MAAuB,IAA3B,EAAiC;AAC/BA,MAAAA,MAAM,GAAGA,MAAM,CAACG,OAAP,CAAe,KAAf,EAAsB,EAAtB,CAAT;AACD,KAJ2C,CAK5C;;;AACA,QAAI,MAAMD,IAAN,CAAWF,MAAX,MAAuB,IAA3B,EAAiC;AAC/BA,MAAAA,MAAM,GAAGA,MAAM,CAACG,OAAP,CAAe,KAAf,EAAsB,IAAtB,CAAT;AACD;AACF,GAnBgC,CAqBjC;;;AACA,MAAI,mBAAmBD,IAAnB,CAAwBF,MAAxB,CAAJ,EAAqC;AACnCA,IAAAA,MAAM,GAAGA,MAAM,CAACG,OAAP,CAAe,KAAf,EAAsB,IAAtB,CAAT;AACD;;AACDF,EAAAA,GAAG,GAAGG,UAAU,CAACJ,MAAD,CAAhB,CAzBiC,CA2BjC;;AACA,MAAIK,IAAI,CAACC,GAAL,CAASL,GAAT,IAAgB,GAApB,EAAyB;AACvBA,IAAAA,GAAG,GAAGA,GAAG,GAAG,GAAZ;AACD,GA9BgC,CA+BjC;;;AACA,MAAIA,GAAG,KAAK,CAAR,IAAaD,MAAM,KAAK,GAAxB,IAA+BA,MAAM,KAAK,GAA9C,EAAmD;AACjDD,IAAAA,CAAC,CAACQ,EAAF,GAAO,SAAP;AACA,WAAOR,CAAP;AACD,GAnCgC,CAoCjC;AACA;AACA;;;AACAE,EAAAA,GAAG,IAAI,CAAC,CAAR;;AAEA,MAAIA,GAAG,IAAI,CAAX,EAAc;AACZA,IAAAA,GAAG,GAAG,MAAMA,GAAZ;AACD;;AACD,MAAIM,EAAE,GAAG,YAAYN,GAArB;AACA,MAAIO,KAAK,GAAGT,CAAC,CAACU,SAAd;;AAEA,MAAID,KAAK,CAACD,EAAD,CAAT,EAAe;AACb;AACA;AACAR,IAAAA,CAAC,CAACQ,EAAF,GAAOA,EAAP;AACD;;AACD,SAAOR,CAAP;AACD,CArDD;;AAsDA,eAAeD,WAAf","sourcesContent":["//pull-apart ISO offsets, like \"+0100\"\nconst parseOffset = (s, offset) => {\n  if (!offset) {\n    return s\n  }\n\n  // according to ISO8601, tz could be hh:mm, hhmm or hh\n  // so need few more steps before the calculation.\n  let num = 0\n\n  // for (+-)hh:mm\n  if (/^[\\+-]?[0-9]{2}:[0-9]{2}$/.test(offset)) {\n    //support \"+01:00\"\n    if (/:00/.test(offset) === true) {\n      offset = offset.replace(/:00/, '')\n    }\n    //support \"+01:30\"\n    if (/:30/.test(offset) === true) {\n      offset = offset.replace(/:30/, '.5')\n    }\n  }\n\n  // for (+-)hhmm\n  if (/^[\\+-]?[0-9]{4}$/.test(offset)) {\n    offset = offset.replace(/30$/, '.5')\n  }\n  num = parseFloat(offset)\n\n  //divide by 100 or 10 - , \"+0100\", \"+01\"\n  if (Math.abs(num) > 100) {\n    num = num / 100\n  }\n  //this is a fancy-move\n  if (num === 0 || offset === 'Z' || offset === 'z') {\n    s.tz = 'etc/gmt'\n    return s\n  }\n  //okay, try to match it to a utc timezone\n  //remember - this is opposite! a -5 offset maps to Etc/GMT+5  ¯\\_(:/)_/¯\n  //https://askubuntu.com/questions/519550/why-is-the-8-timezone-called-gmt-8-in-the-filesystem\n  num *= -1\n\n  if (num >= 0) {\n    num = '+' + num\n  }\n  let tz = 'etc/gmt' + num\n  let zones = s.timezones\n\n  if (zones[tz]) {\n    // log a warning if we're over-writing a given timezone?\n    // console.log('changing timezone to: ' + tz)\n    s.tz = tz\n  }\n  return s\n}\nexport default parseOffset\n"]},"metadata":{},"sourceType":"module"}