{"ast":null,"code":"/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\n'use strict';\n\nimport _icons from '../assets/defaultIcons';\nimport _defaultLang from '../lang/en';\nimport util from './util';\nexport default {\n  /**\r\n   * @description document create\r\n   * @param {Element} element Textarea\r\n   * @param {Object} options Options\r\n   * @returns {Object}\r\n   */\n  init: function (element, options) {\n    if (typeof options !== 'object') options = {};\n    const doc = document;\n    /** --- init options --- */\n\n    this._initOptions(element, options); // suneditor div\n\n\n    const top_div = doc.createElement('DIV');\n    top_div.className = 'sun-editor' + (options.rtl ? ' se-rtl' : '');\n    if (element.id) top_div.id = 'suneditor_' + element.id; // relative div\n\n    const relative = doc.createElement('DIV');\n    relative.className = 'se-container'; // toolbar\n\n    const tool_bar = this._createToolBar(doc, options.buttonList, options.plugins, options);\n\n    const toolbarShadow = tool_bar.element.cloneNode(false);\n    toolbarShadow.className += ' se-toolbar-shadow';\n    tool_bar.element.style.visibility = 'hidden';\n    if (tool_bar.pluginCallButtons.math) this._checkKatexMath(options.katex);\n    const arrow = doc.createElement('DIV');\n    arrow.className = 'se-arrow'; // sticky toolbar dummy\n\n    const sticky_dummy = doc.createElement('DIV');\n    sticky_dummy.className = 'se-toolbar-sticky-dummy'; // inner editor div\n\n    const editor_div = doc.createElement('DIV');\n    editor_div.className = 'se-wrapper';\n    /** --- init elements and create bottom bar --- */\n\n    const initElements = this._initElements(options, top_div, tool_bar.element, arrow);\n\n    const bottomBar = initElements.bottomBar;\n    const wysiwyg_div = initElements.wysiwygFrame;\n    const placeholder_span = initElements.placeholder;\n    let textarea = initElements.codeView; // resizing bar\n\n    const resizing_bar = bottomBar.resizingBar;\n    const navigation = bottomBar.navigation;\n    const char_wrapper = bottomBar.charWrapper;\n    const char_counter = bottomBar.charCounter; // loading box\n\n    const loading_box = doc.createElement('DIV');\n    loading_box.className = 'se-loading-box sun-editor-common';\n    loading_box.innerHTML = '<div class=\"se-loading-effect\"></div>'; // enter line\n\n    const line_breaker = doc.createElement('DIV');\n    line_breaker.className = 'se-line-breaker';\n    line_breaker.innerHTML = '<button class=\"se-btn\">' + options.icons.line_break + '</button>';\n    const line_breaker_t = doc.createElement('DIV');\n    line_breaker_t.className += 'se-line-breaker-component';\n    const line_breaker_b = line_breaker_t.cloneNode(true);\n    line_breaker_t.innerHTML = line_breaker_b.innerHTML = options.icons.line_break; // resize operation background\n\n    const resize_back = doc.createElement('DIV');\n    resize_back.className = 'se-resizing-back'; // toolbar container\n\n    const toolbarContainer = options.toolbarContainer;\n\n    if (toolbarContainer) {\n      toolbarContainer.appendChild(tool_bar.element);\n      toolbarContainer.appendChild(toolbarShadow);\n    } // resizingbar\n\n\n    const resizingBarContainer = options.resizingBarContainer;\n    if (resizing_bar && resizingBarContainer) resizingBarContainer.appendChild(resizing_bar);\n    /** append html */\n\n    editor_div.appendChild(textarea);\n    if (placeholder_span) editor_div.appendChild(placeholder_span);\n\n    if (!toolbarContainer) {\n      relative.appendChild(tool_bar.element);\n      relative.appendChild(toolbarShadow);\n    }\n\n    relative.appendChild(sticky_dummy);\n    relative.appendChild(editor_div);\n    relative.appendChild(resize_back);\n    relative.appendChild(loading_box);\n    relative.appendChild(line_breaker);\n    relative.appendChild(line_breaker_t);\n    relative.appendChild(line_breaker_b);\n    if (resizing_bar && !resizingBarContainer) relative.appendChild(resizing_bar);\n    top_div.appendChild(relative);\n    textarea = this._checkCodeMirror(options, textarea);\n    return {\n      constructed: {\n        _top: top_div,\n        _relative: relative,\n        _toolBar: tool_bar.element,\n        _toolbarShadow: toolbarShadow,\n        _menuTray: tool_bar._menuTray,\n        _editorArea: editor_div,\n        _wysiwygArea: wysiwyg_div,\n        _codeArea: textarea,\n        _placeholder: placeholder_span,\n        _resizingBar: resizing_bar,\n        _navigation: navigation,\n        _charWrapper: char_wrapper,\n        _charCounter: char_counter,\n        _loading: loading_box,\n        _lineBreaker: line_breaker,\n        _lineBreaker_t: line_breaker_t,\n        _lineBreaker_b: line_breaker_b,\n        _resizeBack: resize_back,\n        _stickyDummy: sticky_dummy,\n        _arrow: arrow\n      },\n      options: options,\n      plugins: tool_bar.plugins,\n      pluginCallButtons: tool_bar.pluginCallButtons,\n      _responsiveButtons: tool_bar.responsiveButtons\n    };\n  },\n\n  /**\r\n   * @description Check the CodeMirror option to apply the CodeMirror and return the CodeMirror element.\r\n   * @param {Object} options options\r\n   * @param {Element} textarea textarea element\r\n   * @private\r\n   */\n  _checkCodeMirror: function (options, textarea) {\n    if (options.codeMirror) {\n      const cmOptions = [{\n        mode: 'htmlmixed',\n        htmlMode: true,\n        lineNumbers: true,\n        lineWrapping: true\n      }, options.codeMirror.options || {}].reduce(function (init, option) {\n        for (let key in option) {\n          if (util.hasOwn(option, key)) init[key] = option[key];\n        }\n\n        return init;\n      }, {});\n\n      if (options.height === 'auto') {\n        cmOptions.viewportMargin = Infinity;\n        cmOptions.height = 'auto';\n      }\n\n      const cm = options.codeMirror.src.fromTextArea(textarea, cmOptions);\n      cm.display.wrapper.style.cssText = textarea.style.cssText;\n      options.codeMirrorEditor = cm;\n      textarea = cm.display.wrapper;\n      textarea.className += ' se-wrapper-code-mirror';\n    }\n\n    return textarea;\n  },\n\n  /**\r\n   * @description Check for a katex object.\r\n   * @param {Object} katex katex object\r\n   * @private\r\n   */\n  _checkKatexMath: function (katex) {\n    if (!katex) throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a \"katex\" object to the options.');\n    const katexOptions = [{\n      throwOnError: false\n    }, katex.options || {}].reduce(function (init, option) {\n      for (let key in option) {\n        if (util.hasOwn(option, key)) init[key] = option[key];\n      }\n\n      return init;\n    }, {});\n    katex.options = katexOptions;\n  },\n\n  /**\r\n   * @description Add or reset options\r\n   * @param {Object} mergeOptions New options property\r\n   * @param {Object} context Context object of core\r\n   * @param {Object} originOptions Origin options\r\n   * @returns {Object} pluginCallButtons\r\n   * @private\r\n   */\n  _setOptions: function (mergeOptions, context, originOptions) {\n    this._initOptions(context.element.originElement, mergeOptions);\n\n    const el = context.element;\n    const relative = el.relative;\n    const editorArea = el.editorArea;\n    const isNewToolbarContainer = mergeOptions.toolbarContainer && mergeOptions.toolbarContainer !== originOptions.toolbarContainer;\n    const isNewToolbar = mergeOptions.lang !== originOptions.lang || mergeOptions.buttonList !== originOptions.buttonList || mergeOptions.mode !== originOptions.mode || isNewToolbarContainer;\n\n    const tool_bar = this._createToolBar(document, isNewToolbar ? mergeOptions.buttonList : originOptions.buttonList, mergeOptions.plugins, mergeOptions);\n\n    if (tool_bar.pluginCallButtons.math) this._checkKatexMath(mergeOptions.katex);\n    const arrow = document.createElement('DIV');\n    arrow.className = 'se-arrow';\n\n    if (isNewToolbar) {\n      tool_bar.element.style.visibility = 'hidden'; // toolbar container\n\n      if (isNewToolbarContainer) {\n        mergeOptions.toolbarContainer.appendChild(tool_bar.element);\n        el.toolbar.parentElement.removeChild(el.toolbar);\n      } else {\n        el.toolbar.parentElement.replaceChild(tool_bar.element, el.toolbar);\n      }\n\n      el.toolbar = tool_bar.element;\n      el._menuTray = tool_bar._menuTray;\n      el._arrow = arrow;\n    }\n\n    const initElements = this._initElements(mergeOptions, el.topArea, isNewToolbar ? tool_bar.element : el.toolbar, arrow);\n\n    const bottomBar = initElements.bottomBar;\n    const wysiwygFrame = initElements.wysiwygFrame;\n    const placeholder_span = initElements.placeholder;\n    let code = initElements.codeView;\n    if (el.resizingBar) util.removeItem(el.resizingBar);\n\n    if (bottomBar.resizingBar) {\n      if (mergeOptions.resizingBarContainer && mergeOptions.resizingBarContainer !== originOptions.resizingBarContainer) {\n        mergeOptions.resizingBarContainer.appendChild(bottomBar.resizingBar);\n      } else {\n        relative.appendChild(bottomBar.resizingBar);\n      }\n    }\n\n    editorArea.innerHTML = '';\n    editorArea.appendChild(code);\n    if (placeholder_span) editorArea.appendChild(placeholder_span);\n    code = this._checkCodeMirror(mergeOptions, code);\n    el.resizingBar = bottomBar.resizingBar;\n    el.navigation = bottomBar.navigation;\n    el.charWrapper = bottomBar.charWrapper;\n    el.charCounter = bottomBar.charCounter;\n    el.wysiwygFrame = wysiwygFrame;\n    el.code = code;\n    el.placeholder = placeholder_span;\n    if (mergeOptions.rtl) util.addClass(el.topArea, 'se-rtl');else util.removeClass(el.topArea, 'se-rtl');\n    return {\n      callButtons: tool_bar.pluginCallButtons,\n      plugins: tool_bar.plugins,\n      toolbar: tool_bar\n    };\n  },\n\n  /**\r\n   * @description Initialize property of suneditor elements\r\n   * @param {Object} options Options\r\n   * @param {Element} topDiv Suneditor top div\r\n   * @param {Element} toolBar Tool bar\r\n   * @param {Element} toolBarArrow Tool bar arrow (balloon editor)\r\n   * @returns {Object} Bottom bar elements (resizingBar, navigation, charWrapper, charCounter)\r\n   * @private\r\n   */\n  _initElements: function (options, topDiv, toolBar, toolBarArrow) {\n    /** top div */\n    topDiv.style.cssText = options._editorStyles.top;\n    /** toolbar */\n\n    if (/inline/i.test(options.mode)) {\n      toolBar.className += ' se-toolbar-inline';\n      toolBar.style.width = options.toolbarWidth;\n    } else if (/balloon/i.test(options.mode)) {\n      toolBar.className += ' se-toolbar-balloon';\n      toolBar.style.width = options.toolbarWidth;\n      toolBar.appendChild(toolBarArrow);\n    }\n    /** editor */\n    // wysiwyg div or iframe\n\n\n    const wysiwygDiv = document.createElement(!options.iframe ? 'DIV' : 'IFRAME');\n    wysiwygDiv.className = 'se-wrapper-inner se-wrapper-wysiwyg';\n\n    if (!options.iframe) {\n      wysiwygDiv.setAttribute('contenteditable', true);\n      wysiwygDiv.setAttribute('scrolling', 'auto');\n\n      for (let key in options.iframeAttributes) {\n        wysiwygDiv.setAttribute(key, options.iframeAttributes[key]);\n      }\n\n      wysiwygDiv.className += ' ' + options._editableClass;\n      wysiwygDiv.style.cssText = options._editorStyles.frame + options._editorStyles.editor;\n      wysiwygDiv.className += options.className;\n    } else {\n      wysiwygDiv.allowFullscreen = true;\n      wysiwygDiv.frameBorder = 0;\n      wysiwygDiv.style.cssText = options._editorStyles.frame;\n      wysiwygDiv.className += options.className;\n    } // textarea for code view\n\n\n    const textarea = document.createElement('TEXTAREA');\n    textarea.className = 'se-wrapper-inner se-wrapper-code' + options.className;\n    textarea.style.cssText = options._editorStyles.frame;\n    textarea.style.display = 'none';\n    if (options.height === 'auto') textarea.style.overflow = 'hidden';\n    /** resize bar */\n\n    let resizingBar = null;\n    let navigation = null;\n    let charWrapper = null;\n    let charCounter = null;\n\n    if (options.resizingBar) {\n      resizingBar = document.createElement('DIV');\n      resizingBar.className = 'se-resizing-bar sun-editor-common';\n      /** navigation */\n\n      navigation = document.createElement('DIV');\n      navigation.className = 'se-navigation sun-editor-common';\n      resizingBar.appendChild(navigation);\n      /** char counter */\n\n      if (options.charCounter) {\n        charWrapper = document.createElement('DIV');\n        charWrapper.className = 'se-char-counter-wrapper';\n\n        if (options.charCounterLabel) {\n          const charLabel = document.createElement('SPAN');\n          charLabel.className = 'se-char-label';\n          charLabel.textContent = options.charCounterLabel;\n          charWrapper.appendChild(charLabel);\n        }\n\n        charCounter = document.createElement('SPAN');\n        charCounter.className = 'se-char-counter';\n        charCounter.textContent = '0';\n        charWrapper.appendChild(charCounter);\n\n        if (options.maxCharCount > 0) {\n          const char_max = document.createElement('SPAN');\n          char_max.textContent = ' / ' + options.maxCharCount;\n          charWrapper.appendChild(char_max);\n        }\n\n        resizingBar.appendChild(charWrapper);\n      }\n    }\n\n    let placeholder = null;\n\n    if (options.placeholder) {\n      placeholder = document.createElement('SPAN');\n      placeholder.className = 'se-placeholder';\n      placeholder.innerText = options.placeholder;\n    }\n\n    return {\n      bottomBar: {\n        resizingBar: resizingBar,\n        navigation: navigation,\n        charWrapper: charWrapper,\n        charCounter: charCounter\n      },\n      wysiwygFrame: wysiwygDiv,\n      codeView: textarea,\n      placeholder: placeholder\n    };\n  },\n\n  /**\r\n   * @description Initialize options\r\n   * @param {Element} element Options object\r\n   * @param {Object} options Options object\r\n   * @private\r\n   */\n  _initOptions: function (element, options) {\n    const plugins = {};\n\n    if (options.plugins) {\n      const _plugins = options.plugins;\n      const pluginsValues = _plugins.length ? _plugins : Object.keys(_plugins).map(function (name) {\n        return _plugins[name];\n      });\n\n      for (let i = 0, len = pluginsValues.length, p; i < len; i++) {\n        p = pluginsValues[i].default || pluginsValues[i];\n        plugins[p.name] = p;\n      }\n    }\n\n    options.plugins = plugins;\n    /** Values */\n\n    options.lang = options.lang || _defaultLang;\n    options.value = typeof options.value === 'string' ? options.value : null;\n    options.historyStackDelayTime = typeof options.historyStackDelayTime === 'number' ? options.historyStackDelayTime : 400; // tag style\n\n    options.defaultTag = typeof options.defaultTag === 'string' && options.defaultTag.length > 0 ? options.defaultTag : 'p';\n    const textTags = options.textTags = [{\n      bold: 'STRONG',\n      underline: 'U',\n      italic: 'EM',\n      strike: 'DEL',\n      sub: 'SUB',\n      sup: 'SUP'\n    }, options.textTags || {}].reduce(function (_default, _new) {\n      for (let key in _new) {\n        _default[key] = _new[key];\n      }\n\n      return _default;\n    }, {});\n    options._textTagsMap = {\n      'strong': textTags.bold.toLowerCase(),\n      'b': textTags.bold.toLowerCase(),\n      'u': textTags.underline.toLowerCase(),\n      'ins': textTags.underline.toLowerCase(),\n      'em': textTags.italic.toLowerCase(),\n      'i': textTags.italic.toLowerCase(),\n      'del': textTags.strike.toLowerCase(),\n      'strike': textTags.strike.toLowerCase(),\n      's': textTags.strike.toLowerCase(),\n      'sub': textTags.sub.toLowerCase(),\n      'sup': textTags.sup.toLowerCase()\n    };\n    options._defaultCommand = {\n      bold: options.textTags.bold,\n      underline: options.textTags.underline,\n      italic: options.textTags.italic,\n      strike: options.textTags.strike,\n      subscript: options.textTags.sub,\n      superscript: options.textTags.sup\n    };\n    /** Whitelist, Blacklist */\n\n    const whitelist = 'br|p|div|pre|blockquote|h1|h2|h3|h4|h5|h6|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code|svg|path|details|summary'; // tags\n\n    options.tagsBlacklist = options.tagsBlacklist || '';\n    options._defaultTagsWhitelist = typeof options._defaultTagsWhitelist === 'string' ? options._defaultTagsWhitelist : whitelist;\n    options._editorTagsWhitelist = options.addTagsWhitelist === '*' ? '*' : this._setWhitelist(options._defaultTagsWhitelist + (typeof options.addTagsWhitelist === 'string' && options.addTagsWhitelist.length > 0 ? '|' + options.addTagsWhitelist : ''), options.tagsBlacklist); // paste tags\n\n    options.pasteTagsBlacklist = options.tagsBlacklist + (options.tagsBlacklist && options.pasteTagsBlacklist ? '|' + options.pasteTagsBlacklist : options.pasteTagsBlacklist || '');\n    options.pasteTagsWhitelist = options.pasteTagsWhitelist === '*' ? '*' : this._setWhitelist(typeof options.pasteTagsWhitelist === 'string' ? options.pasteTagsWhitelist : options._editorTagsWhitelist, options.pasteTagsBlacklist); // tag attributes\n\n    options.attributesWhitelist = !options.attributesWhitelist || typeof options.attributesWhitelist !== 'object' ? null : options.attributesWhitelist;\n    options.attributesBlacklist = !options.attributesBlacklist || typeof options.attributesBlacklist !== 'object' ? null : options.attributesBlacklist;\n    /** Layout */\n\n    options.mode = options.mode || 'classic'; // classic, inline, balloon, balloon-always\n\n    options.rtl = !!options.rtl;\n    options.lineAttrReset = typeof options.lineAttrReset === 'string' && options.lineAttrReset ? options.lineAttrReset === '*' ? '*' : new RegExp('^(' + options.lineAttrReset + ')$', 'i') : null;\n    options._editableClass = 'sun-editor-editable' + (options.rtl ? ' se-rtl' : '');\n    options._printClass = typeof options._printClass === 'string' ? options._printClass : null;\n    options.toolbarWidth = options.toolbarWidth ? util.isNumber(options.toolbarWidth) ? options.toolbarWidth + 'px' : options.toolbarWidth : 'auto';\n    options.toolbarContainer = typeof options.toolbarContainer === 'string' ? document.querySelector(options.toolbarContainer) : options.toolbarContainer;\n    options.stickyToolbar = /balloon/i.test(options.mode) || !!options.toolbarContainer ? -1 : options.stickyToolbar === undefined ? 0 : /^\\d+/.test(options.stickyToolbar) ? util.getNumber(options.stickyToolbar, 0) : -1;\n    options.hideToolbar = !!options.hideToolbar;\n    options.fullScreenOffset = options.fullScreenOffset === undefined ? 0 : /^\\d+/.test(options.fullScreenOffset) ? util.getNumber(options.fullScreenOffset, 0) : 0;\n    options.fullPage = !!options.fullPage;\n    options.iframe = options.fullPage || !!options.iframe;\n    options.iframeAttributes = options.iframeAttributes || {};\n    options.iframeCSSFileName = options.iframe ? typeof options.iframeCSSFileName === 'string' ? [options.iframeCSSFileName] : options.iframeCSSFileName || ['suneditor'] : null;\n    options.previewTemplate = typeof options.previewTemplate === 'string' ? options.previewTemplate : null;\n    options.printTemplate = typeof options.printTemplate === 'string' ? options.printTemplate : null;\n    /** CodeMirror object */\n\n    options.codeMirror = options.codeMirror ? options.codeMirror.src ? options.codeMirror : {\n      src: options.codeMirror\n    } : null;\n    /** katex object (Math plugin) */\n\n    options.katex = options.katex ? options.katex.src ? options.katex : {\n      src: options.katex\n    } : null;\n    options.mathFontSize = !!options.mathFontSize ? options.mathFontSize : [{\n      text: '1',\n      value: '1em'\n    }, {\n      text: '1.5',\n      value: '1.5em'\n    }, {\n      text: '2',\n      value: '2em'\n    }, {\n      text: '2.5',\n      value: '2.5em'\n    }];\n    /** Display */\n\n    options.position = typeof options.position === 'string' ? options.position : null;\n    options.display = options.display || (element.style.display === 'none' || !element.style.display ? 'block' : element.style.display);\n    options.popupDisplay = options.popupDisplay || 'full';\n    /** Bottom resizing bar */\n\n    options.resizingBar = options.resizingBar === undefined ? /inline|balloon/i.test(options.mode) ? false : true : options.resizingBar;\n    options.showPathLabel = !options.resizingBar ? false : typeof options.showPathLabel === 'boolean' ? options.showPathLabel : true;\n    options.resizeEnable = options.resizeEnable === undefined ? true : !!options.resizeEnable;\n    options.resizingBarContainer = typeof options.resizingBarContainer === 'string' ? document.querySelector(options.resizingBarContainer) : options.resizingBarContainer;\n    /** Character count */\n\n    options.charCounter = options.maxCharCount > 0 ? true : typeof options.charCounter === 'boolean' ? options.charCounter : false;\n    options.charCounterType = typeof options.charCounterType === 'string' ? options.charCounterType : 'char';\n    options.charCounterLabel = typeof options.charCounterLabel === 'string' ? options.charCounterLabel.trim() : null;\n    options.maxCharCount = util.isNumber(options.maxCharCount) && options.maxCharCount > -1 ? options.maxCharCount * 1 : null;\n    /** Width size */\n\n    options.width = options.width ? util.isNumber(options.width) ? options.width + 'px' : options.width : element.clientWidth ? element.clientWidth + 'px' : '100%';\n    options.minWidth = (util.isNumber(options.minWidth) ? options.minWidth + 'px' : options.minWidth) || '';\n    options.maxWidth = (util.isNumber(options.maxWidth) ? options.maxWidth + 'px' : options.maxWidth) || '';\n    /** Height size */\n\n    options.height = options.height ? util.isNumber(options.height) ? options.height + 'px' : options.height : element.clientHeight ? element.clientHeight + 'px' : 'auto';\n    options.minHeight = (util.isNumber(options.minHeight) ? options.minHeight + 'px' : options.minHeight) || '';\n    options.maxHeight = (util.isNumber(options.maxHeight) ? options.maxHeight + 'px' : options.maxHeight) || '';\n    /** Editing area */\n\n    options.className = typeof options.className === 'string' && options.className.length > 0 ? ' ' + options.className : '';\n    options.defaultStyle = typeof options.defaultStyle === 'string' ? options.defaultStyle : '';\n    /** Defining menu items */\n\n    options.font = !options.font ? ['Arial', 'Comic Sans MS', 'Courier New', 'Impact', 'Georgia', 'tahoma', 'Trebuchet MS', 'Verdana'] : options.font;\n    options.fontSize = !options.fontSize ? null : options.fontSize;\n    options.formats = !options.formats ? null : options.formats;\n    options.colorList = !options.colorList ? null : options.colorList;\n    options.lineHeights = !options.lineHeights ? null : options.lineHeights;\n    options.paragraphStyles = !options.paragraphStyles ? null : options.paragraphStyles;\n    options.textStyles = !options.textStyles ? null : options.textStyles;\n    options.fontSizeUnit = typeof options.fontSizeUnit === 'string' ? options.fontSizeUnit.trim() || 'px' : 'px';\n    options.alignItems = typeof options.alignItems === 'object' ? options.alignItems : options.rtl ? ['right', 'center', 'left', 'justify'] : ['left', 'center', 'right', 'justify'];\n    /** Image */\n\n    options.imageResizing = options.imageResizing === undefined ? true : options.imageResizing;\n    options.imageHeightShow = options.imageHeightShow === undefined ? true : !!options.imageHeightShow;\n    options.imageAlignShow = options.imageAlignShow === undefined ? true : !!options.imageAlignShow;\n    options.imageWidth = !options.imageWidth ? 'auto' : util.isNumber(options.imageWidth) ? options.imageWidth + 'px' : options.imageWidth;\n    options.imageHeight = !options.imageHeight ? 'auto' : util.isNumber(options.imageHeight) ? options.imageHeight + 'px' : options.imageHeight;\n    options.imageSizeOnlyPercentage = !!options.imageSizeOnlyPercentage;\n    options._imageSizeUnit = options.imageSizeOnlyPercentage ? '%' : 'px';\n    options.imageRotation = options.imageRotation !== undefined ? options.imageRotation : !(options.imageSizeOnlyPercentage || !options.imageHeightShow);\n    options.imageFileInput = options.imageFileInput === undefined ? true : options.imageFileInput;\n    options.imageUrlInput = options.imageUrlInput === undefined || !options.imageFileInput ? true : options.imageUrlInput;\n    options.imageUploadHeader = options.imageUploadHeader || null;\n    options.imageUploadUrl = typeof options.imageUploadUrl === 'string' ? options.imageUploadUrl : null;\n    options.imageUploadSizeLimit = /\\d+/.test(options.imageUploadSizeLimit) ? util.getNumber(options.imageUploadSizeLimit, 0) : null;\n    options.imageMultipleFile = !!options.imageMultipleFile;\n    options.imageAccept = typeof options.imageAccept !== 'string' || options.imageAccept.trim() === \"*\" ? 'image/*' : options.imageAccept.trim() || 'image/*';\n    /** Image - image gallery */\n\n    options.imageGalleryUrl = typeof options.imageGalleryUrl === 'string' ? options.imageGalleryUrl : null;\n    options.imageGalleryHeader = options.imageGalleryHeader || null;\n    /** Video */\n\n    options.videoResizing = options.videoResizing === undefined ? true : options.videoResizing;\n    options.videoHeightShow = options.videoHeightShow === undefined ? true : !!options.videoHeightShow;\n    options.videoAlignShow = options.videoAlignShow === undefined ? true : !!options.videoAlignShow;\n    options.videoRatioShow = options.videoRatioShow === undefined ? true : !!options.videoRatioShow;\n    options.videoWidth = !options.videoWidth || !util.getNumber(options.videoWidth, 0) ? '' : util.isNumber(options.videoWidth) ? options.videoWidth + 'px' : options.videoWidth;\n    options.videoHeight = !options.videoHeight || !util.getNumber(options.videoHeight, 0) ? '' : util.isNumber(options.videoHeight) ? options.videoHeight + 'px' : options.videoHeight;\n    options.videoSizeOnlyPercentage = !!options.videoSizeOnlyPercentage;\n    options._videoSizeUnit = options.videoSizeOnlyPercentage ? '%' : 'px';\n    options.videoRotation = options.videoRotation !== undefined ? options.videoRotation : !(options.videoSizeOnlyPercentage || !options.videoHeightShow);\n    options.videoRatio = util.getNumber(options.videoRatio, 4) || 0.5625;\n    options.videoRatioList = !options.videoRatioList ? null : options.videoRatioList;\n    options.youtubeQuery = (options.youtubeQuery || '').replace('?', '');\n    options.videoFileInput = !!options.videoFileInput;\n    options.videoUrlInput = options.videoUrlInput === undefined || !options.videoFileInput ? true : options.videoUrlInput;\n    options.videoUploadHeader = options.videoUploadHeader || null;\n    options.videoUploadUrl = typeof options.videoUploadUrl === 'string' ? options.videoUploadUrl : null;\n    options.videoUploadSizeLimit = /\\d+/.test(options.videoUploadSizeLimit) ? util.getNumber(options.videoUploadSizeLimit, 0) : null;\n    options.videoMultipleFile = !!options.videoMultipleFile;\n    options.videoTagAttrs = options.videoTagAttrs || null;\n    options.videoIframeAttrs = options.videoIframeAttrs || null;\n    options.videoAccept = typeof options.videoAccept !== 'string' || options.videoAccept.trim() === \"*\" ? 'video/*' : options.videoAccept.trim() || 'video/*';\n    /** Audio */\n\n    options.audioWidth = !options.audioWidth ? '' : util.isNumber(options.audioWidth) ? options.audioWidth + 'px' : options.audioWidth;\n    options.audioHeight = !options.audioHeight ? '' : util.isNumber(options.audioHeight) ? options.audioHeight + 'px' : options.audioHeight;\n    options.audioFileInput = !!options.audioFileInput;\n    options.audioUrlInput = options.audioUrlInput === undefined || !options.audioFileInput ? true : options.audioUrlInput;\n    options.audioUploadHeader = options.audioUploadHeader || null;\n    options.audioUploadUrl = typeof options.audioUploadUrl === 'string' ? options.audioUploadUrl : null;\n    options.audioUploadSizeLimit = /\\d+/.test(options.audioUploadSizeLimit) ? util.getNumber(options.audioUploadSizeLimit, 0) : null;\n    options.audioMultipleFile = !!options.audioMultipleFile;\n    options.audioTagAttrs = options.audioTagAttrs || null;\n    options.audioAccept = typeof options.audioAccept !== 'string' || options.audioAccept.trim() === \"*\" ? 'audio/*' : options.audioAccept.trim() || 'audio/*';\n    /** Table */\n\n    options.tableCellControllerPosition = typeof options.tableCellControllerPosition === 'string' ? options.tableCellControllerPosition.toLowerCase() : 'cell';\n    /** Link */\n\n    options.linkTargetNewWindow = !!options.linkTargetNewWindow;\n    options.linkProtocol = typeof options.linkProtocol === 'string' ? options.linkProtocol : null;\n    options.linkRel = Array.isArray(options.linkRel) ? options.linkRel : [];\n    options.linkRelDefault = options.linkRelDefault || {};\n    /** HR */\n    // options.hrItems = options.hrItems;\n\n    /** Key actions */\n\n    options.tabDisable = !!options.tabDisable;\n    options.shortcutsDisable = Array.isArray(options.shortcutsDisable) ? options.shortcutsDisable : [];\n    options.shortcutsHint = options.shortcutsHint === undefined ? true : !!options.shortcutsHint;\n    /** Defining save button */\n\n    options.callBackSave = !options.callBackSave ? null : options.callBackSave;\n    /** Templates Array */\n\n    options.templates = !options.templates ? null : options.templates;\n    /** ETC */\n\n    options.placeholder = typeof options.placeholder === 'string' ? options.placeholder : null;\n    options.mediaAutoSelect = options.mediaAutoSelect === undefined ? true : !!options.mediaAutoSelect;\n    /** Buttons */\n\n    options.buttonList = !!options.buttonList ? options.buttonList : [['undo', 'redo'], ['bold', 'underline', 'italic', 'strike', 'subscript', 'superscript'], ['removeFormat'], ['outdent', 'indent'], ['fullScreen', 'showBlocks', 'codeView'], ['preview', 'print']];\n    /** RTL - buttons */\n\n    if (options.rtl) {\n      options.buttonList = options.buttonList.reverse();\n    }\n    /** --- Define icons --- */\n    // custom icons\n\n\n    options.icons = !options.icons || typeof options.icons !== 'object' ? _icons : [_icons, options.icons].reduce(function (_default, _new) {\n      for (let key in _new) {\n        if (util.hasOwn(_new, key)) _default[key] = _new[key];\n      }\n\n      return _default;\n    }, {}); // rtl icons\n\n    options.icons = !options.rtl ? options.icons : [options.icons, options.icons.rtl].reduce(function (_default, _new) {\n      for (let key in _new) {\n        if (util.hasOwn(_new, key)) _default[key] = _new[key];\n      }\n\n      return _default;\n    }, {});\n    /** Private options */\n    // options.__defaultFontSize;\n\n    options.__listCommonStyle = options.__listCommonStyle || ['fontSize', 'color', 'fontFamily', 'fontWeight', 'fontStyle'];\n    /** _init options */\n\n    options._editorStyles = util._setDefaultOptionStyle(options, options.defaultStyle);\n  },\n  _setWhitelist: function (whitelist, blacklist) {\n    if (typeof blacklist !== 'string') return whitelist;\n    blacklist = blacklist.split('|');\n    whitelist = whitelist.split('|');\n\n    for (let i = 0, len = blacklist.length, index; i < len; i++) {\n      index = whitelist.indexOf(blacklist[i]);\n      if (index > -1) whitelist.splice(index, 1);\n    }\n\n    return whitelist.join('|');\n  },\n\n  /**\r\n   * @description Suneditor's Default button list\r\n   * @param {Object} options options\r\n   * @private\r\n   */\n  _defaultButtons: function (options) {\n    const icons = options.icons;\n    const lang = options.lang;\n    const cmd = util.isOSX_IOS ? '⌘' : 'CTRL';\n    const addShift = util.isOSX_IOS ? '⇧' : '+SHIFT';\n    const shortcutsDisable = !options.shortcutsHint ? ['bold', 'strike', 'underline', 'italic', 'undo', 'indent', 'save'] : options.shortcutsDisable;\n    const indentKey = options.rtl ? ['[', ']'] : [']', '['];\n    const indentIcon = options.rtl ? [icons.outdent, icons.indent] : [icons.indent, icons.outdent];\n    return {\n      /** default command */\n      bold: ['', lang.toolbar.bold + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('bold') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">B</span>') + '</span>', 'bold', '', icons.bold],\n      underline: ['', lang.toolbar.underline + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('underline') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">U</span>') + '</span>', 'underline', '', icons.underline],\n      italic: ['', lang.toolbar.italic + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('italic') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">I</span>') + '</span>', 'italic', '', icons.italic],\n      strike: ['', lang.toolbar.strike + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('strike') > -1 ? '' : cmd + addShift + '+<span class=\"se-shortcut-key\">S</span>') + '</span>', 'strike', '', icons.strike],\n      subscript: ['', lang.toolbar.subscript, 'SUB', '', icons.subscript],\n      superscript: ['', lang.toolbar.superscript, 'SUP', '', icons.superscript],\n      removeFormat: ['', lang.toolbar.removeFormat, 'removeFormat', '', icons.erase],\n      indent: ['', lang.toolbar.indent + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('indent') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">' + indentKey[0] + '</span>') + '</span>', 'indent', '', indentIcon[0]],\n      outdent: ['', lang.toolbar.outdent + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('indent') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">' + indentKey[1] + '</span>') + '</span>', 'outdent', '', indentIcon[1]],\n      fullScreen: ['se-code-view-enabled se-resizing-enabled', lang.toolbar.fullScreen, 'fullScreen', '', icons.expansion],\n      showBlocks: ['', lang.toolbar.showBlocks, 'showBlocks', '', icons.show_blocks],\n      codeView: ['se-code-view-enabled se-resizing-enabled', lang.toolbar.codeView, 'codeView', '', icons.code_view],\n      undo: ['', lang.toolbar.undo + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('undo') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">Z</span>') + '</span>', 'undo', '', icons.undo],\n      redo: ['', lang.toolbar.redo + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('undo') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">Y</span> / ' + cmd + addShift + '+<span class=\"se-shortcut-key\">Z</span>') + '</span>', 'redo', '', icons.redo],\n      preview: ['se-resizing-enabled', lang.toolbar.preview, 'preview', '', icons.preview],\n      print: ['se-resizing-enabled', lang.toolbar.print, 'print', '', icons.print],\n      dir: ['', lang.toolbar[options.rtl ? 'dir_ltr' : 'dir_rtl'], 'dir', '', icons[options.rtl ? 'dir_ltr' : 'dir_rtl']],\n      dir_ltr: ['', lang.toolbar.dir_ltr, 'dir_ltr', '', icons.dir_ltr],\n      dir_rtl: ['', lang.toolbar.dir_rtl, 'dir_rtl', '', icons.dir_rtl],\n      save: ['se-resizing-enabled', lang.toolbar.save + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('save') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">S</span>') + '</span>', 'save', '', icons.save],\n\n      /** plugins - command */\n      blockquote: ['', lang.toolbar.tag_blockquote, 'blockquote', 'command', icons.blockquote],\n\n      /** plugins - submenu */\n      font: ['se-btn-select se-btn-tool-font', lang.toolbar.font, 'font', 'submenu', '<span class=\"txt\">' + lang.toolbar.font + '</span>' + icons.arrow_down],\n      formatBlock: ['se-btn-select se-btn-tool-format', lang.toolbar.formats, 'formatBlock', 'submenu', '<span class=\"txt\">' + lang.toolbar.formats + '</span>' + icons.arrow_down],\n      fontSize: ['se-btn-select se-btn-tool-size', lang.toolbar.fontSize, 'fontSize', 'submenu', '<span class=\"txt\">' + lang.toolbar.fontSize + '</span>' + icons.arrow_down],\n      fontColor: ['', lang.toolbar.fontColor, 'fontColor', 'submenu', icons.font_color],\n      hiliteColor: ['', lang.toolbar.hiliteColor, 'hiliteColor', 'submenu', icons.highlight_color],\n      align: ['se-btn-align', lang.toolbar.align, 'align', 'submenu', options.rtl ? icons.align_right : icons.align_left],\n      list: ['', lang.toolbar.list, 'list', 'submenu', icons.list_number],\n      horizontalRule: ['btn_line', lang.toolbar.horizontalRule, 'horizontalRule', 'submenu', icons.horizontal_rule],\n      table: ['', lang.toolbar.table, 'table', 'submenu', icons.table],\n      lineHeight: ['', lang.toolbar.lineHeight, 'lineHeight', 'submenu', icons.line_height],\n      template: ['', lang.toolbar.template, 'template', 'submenu', icons.template],\n      paragraphStyle: ['', lang.toolbar.paragraphStyle, 'paragraphStyle', 'submenu', icons.paragraph_style],\n      textStyle: ['', lang.toolbar.textStyle, 'textStyle', 'submenu', icons.text_style],\n\n      /** plugins - dialog */\n      link: ['', lang.toolbar.link, 'link', 'dialog', icons.link],\n      image: ['', lang.toolbar.image, 'image', 'dialog', icons.image],\n      video: ['', lang.toolbar.video, 'video', 'dialog', icons.video],\n      audio: ['', lang.toolbar.audio, 'audio', 'dialog', icons.audio],\n      math: ['', lang.toolbar.math, 'math', 'dialog', icons.math],\n\n      /** plugins - fileBrowser */\n      imageGallery: ['', lang.toolbar.imageGallery, 'imageGallery', 'fileBrowser', icons.image_gallery]\n    };\n  },\n\n  /**\r\n   * @description Create a group div containing each module\r\n   * @returns {Object}\r\n   * @private\r\n   */\n  _createModuleGroup: function () {\n    const oDiv = util.createElement('DIV');\n    oDiv.className = 'se-btn-module se-btn-module-border';\n    const oUl = util.createElement('UL');\n    oUl.className = 'se-menu-list';\n    oDiv.appendChild(oUl);\n    return {\n      'div': oDiv,\n      'ul': oUl\n    };\n  },\n\n  /**\r\n   * @description Create a button element\r\n   * @param {string} buttonClass className in button\r\n   * @param {string} title Title in button\r\n   * @param {string} dataCommand The data-command property of the button\r\n   * @param {string} dataDisplay The data-display property of the button ('dialog', 'submenu', 'command')\r\n   * @param {string} innerHTML Html in button\r\n   * @param {string} _disabled Button disabled\r\n   * @param {Object} _icons Icons\r\n   * @returns {Object}\r\n   * @private\r\n   */\n  _createButton: function (buttonClass, title, dataCommand, dataDisplay, innerHTML, _disabled, _icons) {\n    const oLi = util.createElement('LI');\n    const oButton = util.createElement('BUTTON');\n    const label = title || dataCommand;\n    oButton.setAttribute('type', 'button');\n    oButton.setAttribute('class', 'se-btn' + (buttonClass ? ' ' + buttonClass : '') + ' se-tooltip');\n    oButton.setAttribute('data-command', dataCommand);\n    oButton.setAttribute('data-display', dataDisplay);\n    oButton.setAttribute('aria-label', label.replace(/<span .+<\\/span>/, ''));\n    oButton.setAttribute('tabindex', '-1');\n    if (!innerHTML) innerHTML = '<span class=\"se-icon-text\">!</span>';\n\n    if (/^default\\./i.test(innerHTML)) {\n      innerHTML = _icons[innerHTML.replace(/^default\\./i, '')];\n    }\n\n    if (/^text\\./i.test(innerHTML)) {\n      innerHTML = innerHTML.replace(/^text\\./i, '');\n      oButton.className += ' se-btn-more-text';\n    }\n\n    innerHTML += '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + label + '</span></span>';\n    if (_disabled) oButton.setAttribute('disabled', true);\n    oButton.innerHTML = innerHTML;\n    oLi.appendChild(oButton);\n    return {\n      'li': oLi,\n      'button': oButton\n    };\n  },\n\n  /**\r\n   * @description Create editor HTML\r\n   * @param {Array} doc document object\r\n   * @param {Array} buttonList option.buttonList\r\n   * @param {Object|null} plugins Plugins\r\n   * @param {Array} options options\r\n   * @returns {Object} { element: (Element) Toolbar element, plugins: (Array|null) Plugins Array, pluginCallButtons: (Object), responsiveButtons: (Array) }\r\n   * @private\r\n   */\n  _createToolBar: function (doc, buttonList, plugins, options) {\n    const separator_vertical = doc.createElement('DIV');\n    separator_vertical.className = 'se-toolbar-separator-vertical';\n    const tool_bar = doc.createElement('DIV');\n    tool_bar.className = 'se-toolbar sun-editor-common';\n\n    const _buttonTray = doc.createElement('DIV');\n\n    _buttonTray.className = 'se-btn-tray';\n    tool_bar.appendChild(_buttonTray);\n    /** create button list */\n\n    buttonList = JSON.parse(JSON.stringify(buttonList));\n    const icons = options.icons;\n\n    const defaultButtonList = this._defaultButtons(options);\n\n    const pluginCallButtons = {};\n    const responsiveButtons = [];\n    let module = null;\n    let button = null;\n    let moduleElement = null;\n    let buttonElement = null;\n    let pluginName = '';\n    let vertical = false;\n    const moreLayer = util.createElement('DIV');\n    moreLayer.className = 'se-toolbar-more-layer';\n\n    buttonGroupLoop: for (let i = 0, more, moreContainer, moreCommand, buttonGroup, align; i < buttonList.length; i++) {\n      more = false;\n      align = '';\n      buttonGroup = buttonList[i];\n      moduleElement = this._createModuleGroup(); // button object\n\n      if (typeof buttonGroup === 'object') {\n        // buttons loop\n        for (let j = 0, moreButton; j < buttonGroup.length; j++) {\n          button = buttonGroup[j];\n          moreButton = false;\n\n          if (/^\\%\\d+/.test(button) && j === 0) {\n            buttonGroup[0] = button.replace(/[^\\d]/g, '');\n            responsiveButtons.push(buttonGroup);\n            buttonList.splice(i--, 1);\n            continue buttonGroupLoop;\n          }\n\n          if (typeof button === 'object') {\n            if (typeof button.add === 'function') {\n              pluginName = button.name;\n              module = defaultButtonList[pluginName];\n              plugins[pluginName] = button;\n            } else {\n              pluginName = button.name;\n              module = [button.buttonClass, button.title, button.name, button.dataDisplay, button.innerHTML, button._disabled];\n            }\n          } else {\n            // align\n            if (/^\\-/.test(button)) {\n              align = button.substr(1);\n              moduleElement.div.className += ' module-float-' + align;\n              continue;\n            } // rtl fix\n\n\n            if (/^\\#/.test(button)) {\n              const option = button.substr(1);\n              if (option === 'fix') moduleElement.ul.className += ' se-menu-dir-fix';\n              continue;\n            } // more button\n\n\n            if (/^\\:/.test(button)) {\n              moreButton = true;\n              const matched = button.match(/^\\:([^\\-]+)\\-([^\\-]+)\\-([^\\-]+)/);\n              moreCommand = '__se__' + matched[1].trim();\n              const title = matched[2].trim();\n              const innerHTML = matched[3].trim();\n              module = ['se-btn-more', title, moreCommand, 'MORE', innerHTML];\n            } // buttons\n            else {\n              module = defaultButtonList[button];\n            }\n\n            pluginName = button;\n\n            if (!module) {\n              const custom = plugins[pluginName];\n              if (!custom) throw Error('[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. [' + pluginName + ']');\n              module = [custom.buttonClass, custom.title, custom.name, custom.display, custom.innerHTML, custom._disabled];\n            }\n          }\n\n          buttonElement = this._createButton(module[0], module[1], module[2], module[3], module[4], module[5], icons);\n          (more ? moreContainer : moduleElement.ul).appendChild(buttonElement.li);\n\n          if (plugins[pluginName]) {\n            pluginCallButtons[pluginName] = buttonElement.button;\n          } // more button\n\n\n          if (moreButton) {\n            more = true;\n            moreContainer = util.createElement('DIV');\n            moreContainer.className = 'se-more-layer ' + moreCommand;\n            moreContainer.innerHTML = '<div class=\"se-more-form\"><ul class=\"se-menu-list\"' + (align ? ' style=\"float: ' + align + ';\"' : '') + '></ul></div>';\n            moreLayer.appendChild(moreContainer);\n            moreContainer = moreContainer.firstElementChild.firstElementChild;\n          }\n        }\n\n        if (vertical) {\n          const sv = separator_vertical.cloneNode(false);\n\n          _buttonTray.appendChild(sv);\n        }\n\n        _buttonTray.appendChild(moduleElement.div);\n\n        vertical = true;\n      }\n      /** line break  */\n      else if (/^\\/$/.test(buttonGroup)) {\n        const enterDiv = doc.createElement('DIV');\n        enterDiv.className = 'se-btn-module-enter';\n\n        _buttonTray.appendChild(enterDiv);\n\n        vertical = false;\n      }\n    }\n\n    switch (_buttonTray.children.length) {\n      case 0:\n        _buttonTray.style.display = 'none';\n        break;\n\n      case 1:\n        util.removeClass(_buttonTray.firstElementChild, 'se-btn-module-border');\n        break;\n\n      default:\n        if (options.rtl) {\n          const sv = separator_vertical.cloneNode(false);\n          sv.style.float = _buttonTray.lastElementChild.style.float;\n\n          _buttonTray.appendChild(sv);\n        }\n\n    }\n\n    if (responsiveButtons.length > 0) responsiveButtons.unshift(buttonList);\n    if (moreLayer.children.length > 0) _buttonTray.appendChild(moreLayer); // menu tray\n\n    const _menuTray = doc.createElement('DIV');\n\n    _menuTray.className = 'se-menu-tray';\n    tool_bar.appendChild(_menuTray); // cover\n\n    const tool_cover = doc.createElement('DIV');\n    tool_cover.className = 'se-toolbar-cover';\n    tool_bar.appendChild(tool_cover);\n    if (options.hideToolbar) tool_bar.style.display = 'none';\n    return {\n      'element': tool_bar,\n      'plugins': plugins,\n      'pluginCallButtons': pluginCallButtons,\n      'responsiveButtons': responsiveButtons,\n      '_menuTray': _menuTray,\n      '_buttonTray': _buttonTray\n    };\n  }\n};","map":{"version":3,"sources":["E:/React/pos-system/main/node_modules/suneditor/src/lib/constructor.js"],"names":["_icons","_defaultLang","util","init","element","options","doc","document","_initOptions","top_div","createElement","className","rtl","id","relative","tool_bar","_createToolBar","buttonList","plugins","toolbarShadow","cloneNode","style","visibility","pluginCallButtons","math","_checkKatexMath","katex","arrow","sticky_dummy","editor_div","initElements","_initElements","bottomBar","wysiwyg_div","wysiwygFrame","placeholder_span","placeholder","textarea","codeView","resizing_bar","resizingBar","navigation","char_wrapper","charWrapper","char_counter","charCounter","loading_box","innerHTML","line_breaker","icons","line_break","line_breaker_t","line_breaker_b","resize_back","toolbarContainer","appendChild","resizingBarContainer","_checkCodeMirror","constructed","_top","_relative","_toolBar","_toolbarShadow","_menuTray","_editorArea","_wysiwygArea","_codeArea","_placeholder","_resizingBar","_navigation","_charWrapper","_charCounter","_loading","_lineBreaker","_lineBreaker_t","_lineBreaker_b","_resizeBack","_stickyDummy","_arrow","_responsiveButtons","responsiveButtons","codeMirror","cmOptions","mode","htmlMode","lineNumbers","lineWrapping","reduce","option","key","hasOwn","height","viewportMargin","Infinity","cm","src","fromTextArea","display","wrapper","cssText","codeMirrorEditor","Error","katexOptions","throwOnError","_setOptions","mergeOptions","context","originOptions","originElement","el","editorArea","isNewToolbarContainer","isNewToolbar","lang","toolbar","parentElement","removeChild","replaceChild","topArea","code","removeItem","addClass","removeClass","callButtons","topDiv","toolBar","toolBarArrow","_editorStyles","top","test","width","toolbarWidth","wysiwygDiv","iframe","setAttribute","iframeAttributes","_editableClass","frame","editor","allowFullscreen","frameBorder","overflow","charCounterLabel","charLabel","textContent","maxCharCount","char_max","innerText","_plugins","pluginsValues","length","Object","keys","map","name","i","len","p","default","value","historyStackDelayTime","defaultTag","textTags","bold","underline","italic","strike","sub","sup","_default","_new","_textTagsMap","toLowerCase","_defaultCommand","subscript","superscript","whitelist","tagsBlacklist","_defaultTagsWhitelist","_editorTagsWhitelist","addTagsWhitelist","_setWhitelist","pasteTagsBlacklist","pasteTagsWhitelist","attributesWhitelist","attributesBlacklist","lineAttrReset","RegExp","_printClass","isNumber","querySelector","stickyToolbar","undefined","getNumber","hideToolbar","fullScreenOffset","fullPage","iframeCSSFileName","previewTemplate","printTemplate","mathFontSize","text","position","popupDisplay","showPathLabel","resizeEnable","charCounterType","trim","clientWidth","minWidth","maxWidth","clientHeight","minHeight","maxHeight","defaultStyle","font","fontSize","formats","colorList","lineHeights","paragraphStyles","textStyles","fontSizeUnit","alignItems","imageResizing","imageHeightShow","imageAlignShow","imageWidth","imageHeight","imageSizeOnlyPercentage","_imageSizeUnit","imageRotation","imageFileInput","imageUrlInput","imageUploadHeader","imageUploadUrl","imageUploadSizeLimit","imageMultipleFile","imageAccept","imageGalleryUrl","imageGalleryHeader","videoResizing","videoHeightShow","videoAlignShow","videoRatioShow","videoWidth","videoHeight","videoSizeOnlyPercentage","_videoSizeUnit","videoRotation","videoRatio","videoRatioList","youtubeQuery","replace","videoFileInput","videoUrlInput","videoUploadHeader","videoUploadUrl","videoUploadSizeLimit","videoMultipleFile","videoTagAttrs","videoIframeAttrs","videoAccept","audioWidth","audioHeight","audioFileInput","audioUrlInput","audioUploadHeader","audioUploadUrl","audioUploadSizeLimit","audioMultipleFile","audioTagAttrs","audioAccept","tableCellControllerPosition","linkTargetNewWindow","linkProtocol","linkRel","Array","isArray","linkRelDefault","tabDisable","shortcutsDisable","shortcutsHint","callBackSave","templates","mediaAutoSelect","reverse","__listCommonStyle","_setDefaultOptionStyle","blacklist","split","index","indexOf","splice","join","_defaultButtons","cmd","isOSX_IOS","addShift","indentKey","indentIcon","outdent","indent","removeFormat","erase","fullScreen","expansion","showBlocks","show_blocks","code_view","undo","redo","preview","print","dir","dir_ltr","dir_rtl","save","blockquote","tag_blockquote","arrow_down","formatBlock","fontColor","font_color","hiliteColor","highlight_color","align","align_right","align_left","list","list_number","horizontalRule","horizontal_rule","table","lineHeight","line_height","template","paragraphStyle","paragraph_style","textStyle","text_style","link","image","video","audio","imageGallery","image_gallery","_createModuleGroup","oDiv","oUl","_createButton","buttonClass","title","dataCommand","dataDisplay","_disabled","oLi","oButton","label","separator_vertical","_buttonTray","JSON","parse","stringify","defaultButtonList","module","button","moduleElement","buttonElement","pluginName","vertical","moreLayer","buttonGroupLoop","more","moreContainer","moreCommand","buttonGroup","j","moreButton","push","add","substr","div","ul","matched","match","custom","li","firstElementChild","sv","enterDiv","children","float","lastElementChild","unshift","tool_cover"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,MAAP,MAAmB,wBAAnB;AACA,OAAOC,YAAP,MAAyB,YAAzB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AAEA,eAAe;AACX;AACJ;AACA;AACA;AACA;AACA;AACIC,EAAAA,IAAI,EAAE,UAAUC,OAAV,EAAmBC,OAAnB,EAA4B;AAC9B,QAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiCA,OAAO,GAAG,EAAV;AAEjC,UAAMC,GAAG,GAAGC,QAAZ;AAEA;;AACA,SAAKC,YAAL,CAAkBJ,OAAlB,EAA2BC,OAA3B,EAN8B,CAQ9B;;;AACA,UAAMI,OAAO,GAAGH,GAAG,CAACI,aAAJ,CAAkB,KAAlB,CAAhB;AACAD,IAAAA,OAAO,CAACE,SAAR,GAAoB,gBAAgBN,OAAO,CAACO,GAAR,GAAc,SAAd,GAA0B,EAA1C,CAApB;AACA,QAAIR,OAAO,CAACS,EAAZ,EAAgBJ,OAAO,CAACI,EAAR,GAAa,eAAeT,OAAO,CAACS,EAApC,CAXc,CAa9B;;AACA,UAAMC,QAAQ,GAAGR,GAAG,CAACI,aAAJ,CAAkB,KAAlB,CAAjB;AACAI,IAAAA,QAAQ,CAACH,SAAT,GAAqB,cAArB,CAf8B,CAiB9B;;AACA,UAAMI,QAAQ,GAAG,KAAKC,cAAL,CAAoBV,GAApB,EAAyBD,OAAO,CAACY,UAAjC,EAA6CZ,OAAO,CAACa,OAArD,EAA8Db,OAA9D,CAAjB;;AACA,UAAMc,aAAa,GAAGJ,QAAQ,CAACX,OAAT,CAAiBgB,SAAjB,CAA2B,KAA3B,CAAtB;AACAD,IAAAA,aAAa,CAACR,SAAd,IAA2B,oBAA3B;AACAI,IAAAA,QAAQ,CAACX,OAAT,CAAiBiB,KAAjB,CAAuBC,UAAvB,GAAoC,QAApC;AACA,QAAIP,QAAQ,CAACQ,iBAAT,CAA2BC,IAA/B,EAAqC,KAAKC,eAAL,CAAqBpB,OAAO,CAACqB,KAA7B;AACrC,UAAMC,KAAK,GAAGrB,GAAG,CAACI,aAAJ,CAAkB,KAAlB,CAAd;AACAiB,IAAAA,KAAK,CAAChB,SAAN,GAAkB,UAAlB,CAxB8B,CA0B9B;;AACA,UAAMiB,YAAY,GAAGtB,GAAG,CAACI,aAAJ,CAAkB,KAAlB,CAArB;AACAkB,IAAAA,YAAY,CAACjB,SAAb,GAAyB,yBAAzB,CA5B8B,CA8B9B;;AACA,UAAMkB,UAAU,GAAGvB,GAAG,CAACI,aAAJ,CAAkB,KAAlB,CAAnB;AACAmB,IAAAA,UAAU,CAAClB,SAAX,GAAuB,YAAvB;AAEA;;AACA,UAAMmB,YAAY,GAAG,KAAKC,aAAL,CAAmB1B,OAAnB,EAA4BI,OAA5B,EAAqCM,QAAQ,CAACX,OAA9C,EAAuDuB,KAAvD,CAArB;;AAEA,UAAMK,SAAS,GAAGF,YAAY,CAACE,SAA/B;AACA,UAAMC,WAAW,GAAGH,YAAY,CAACI,YAAjC;AACA,UAAMC,gBAAgB,GAAGL,YAAY,CAACM,WAAtC;AACA,QAAIC,QAAQ,GAAGP,YAAY,CAACQ,QAA5B,CAxC8B,CA0C9B;;AACA,UAAMC,YAAY,GAAGP,SAAS,CAACQ,WAA/B;AACA,UAAMC,UAAU,GAAGT,SAAS,CAACS,UAA7B;AACA,UAAMC,YAAY,GAAGV,SAAS,CAACW,WAA/B;AACA,UAAMC,YAAY,GAAGZ,SAAS,CAACa,WAA/B,CA9C8B,CAgD9B;;AACA,UAAMC,WAAW,GAAGxC,GAAG,CAACI,aAAJ,CAAkB,KAAlB,CAApB;AACAoC,IAAAA,WAAW,CAACnC,SAAZ,GAAwB,kCAAxB;AACAmC,IAAAA,WAAW,CAACC,SAAZ,GAAwB,uCAAxB,CAnD8B,CAqD9B;;AACA,UAAMC,YAAY,GAAG1C,GAAG,CAACI,aAAJ,CAAkB,KAAlB,CAArB;AACAsC,IAAAA,YAAY,CAACrC,SAAb,GAAyB,iBAAzB;AACAqC,IAAAA,YAAY,CAACD,SAAb,GAAyB,4BAA4B1C,OAAO,CAAC4C,KAAR,CAAcC,UAA1C,GAAuD,WAAhF;AACA,UAAMC,cAAc,GAAG7C,GAAG,CAACI,aAAJ,CAAkB,KAAlB,CAAvB;AACAyC,IAAAA,cAAc,CAACxC,SAAf,IAA4B,2BAA5B;AACA,UAAMyC,cAAc,GAAGD,cAAc,CAAC/B,SAAf,CAAyB,IAAzB,CAAvB;AACA+B,IAAAA,cAAc,CAACJ,SAAf,GAA2BK,cAAc,CAACL,SAAf,GAA2B1C,OAAO,CAAC4C,KAAR,CAAcC,UAApE,CA5D8B,CA8D9B;;AACA,UAAMG,WAAW,GAAG/C,GAAG,CAACI,aAAJ,CAAkB,KAAlB,CAApB;AACA2C,IAAAA,WAAW,CAAC1C,SAAZ,GAAwB,kBAAxB,CAhE8B,CAkE9B;;AACA,UAAM2C,gBAAgB,GAAGjD,OAAO,CAACiD,gBAAjC;;AACA,QAAIA,gBAAJ,EAAsB;AAClBA,MAAAA,gBAAgB,CAACC,WAAjB,CAA6BxC,QAAQ,CAACX,OAAtC;AACAkD,MAAAA,gBAAgB,CAACC,WAAjB,CAA6BpC,aAA7B;AACH,KAvE6B,CAyE9B;;;AACA,UAAMqC,oBAAoB,GAAGnD,OAAO,CAACmD,oBAArC;AACA,QAAIjB,YAAY,IAAIiB,oBAApB,EAA0CA,oBAAoB,CAACD,WAArB,CAAiChB,YAAjC;AAE1C;;AACAV,IAAAA,UAAU,CAAC0B,WAAX,CAAuBlB,QAAvB;AACA,QAAIF,gBAAJ,EAAsBN,UAAU,CAAC0B,WAAX,CAAuBpB,gBAAvB;;AACtB,QAAI,CAACmB,gBAAL,EAAuB;AACnBxC,MAAAA,QAAQ,CAACyC,WAAT,CAAqBxC,QAAQ,CAACX,OAA9B;AACAU,MAAAA,QAAQ,CAACyC,WAAT,CAAqBpC,aAArB;AACH;;AACDL,IAAAA,QAAQ,CAACyC,WAAT,CAAqB3B,YAArB;AACAd,IAAAA,QAAQ,CAACyC,WAAT,CAAqB1B,UAArB;AACAf,IAAAA,QAAQ,CAACyC,WAAT,CAAqBF,WAArB;AACAvC,IAAAA,QAAQ,CAACyC,WAAT,CAAqBT,WAArB;AACAhC,IAAAA,QAAQ,CAACyC,WAAT,CAAqBP,YAArB;AACAlC,IAAAA,QAAQ,CAACyC,WAAT,CAAqBJ,cAArB;AACArC,IAAAA,QAAQ,CAACyC,WAAT,CAAqBH,cAArB;AACA,QAAIb,YAAY,IAAI,CAACiB,oBAArB,EAA2C1C,QAAQ,CAACyC,WAAT,CAAqBhB,YAArB;AAC3C9B,IAAAA,OAAO,CAAC8C,WAAR,CAAoBzC,QAApB;AAEAuB,IAAAA,QAAQ,GAAG,KAAKoB,gBAAL,CAAsBpD,OAAtB,EAA+BgC,QAA/B,CAAX;AAEA,WAAO;AACHqB,MAAAA,WAAW,EAAE;AACTC,QAAAA,IAAI,EAAElD,OADG;AAETmD,QAAAA,SAAS,EAAE9C,QAFF;AAGT+C,QAAAA,QAAQ,EAAE9C,QAAQ,CAACX,OAHV;AAIT0D,QAAAA,cAAc,EAAE3C,aAJP;AAKT4C,QAAAA,SAAS,EAAEhD,QAAQ,CAACgD,SALX;AAMTC,QAAAA,WAAW,EAAEnC,UANJ;AAOToC,QAAAA,YAAY,EAAEhC,WAPL;AAQTiC,QAAAA,SAAS,EAAE7B,QARF;AAST8B,QAAAA,YAAY,EAAEhC,gBATL;AAUTiC,QAAAA,YAAY,EAAE7B,YAVL;AAWT8B,QAAAA,WAAW,EAAE5B,UAXJ;AAYT6B,QAAAA,YAAY,EAAE5B,YAZL;AAaT6B,QAAAA,YAAY,EAAE3B,YAbL;AAcT4B,QAAAA,QAAQ,EAAE1B,WAdD;AAeT2B,QAAAA,YAAY,EAAEzB,YAfL;AAgBT0B,QAAAA,cAAc,EAAEvB,cAhBP;AAiBTwB,QAAAA,cAAc,EAAEvB,cAjBP;AAkBTwB,QAAAA,WAAW,EAAEvB,WAlBJ;AAmBTwB,QAAAA,YAAY,EAAEjD,YAnBL;AAoBTkD,QAAAA,MAAM,EAAEnD;AApBC,OADV;AAuBHtB,MAAAA,OAAO,EAAEA,OAvBN;AAwBHa,MAAAA,OAAO,EAAEH,QAAQ,CAACG,OAxBf;AAyBHK,MAAAA,iBAAiB,EAAER,QAAQ,CAACQ,iBAzBzB;AA0BHwD,MAAAA,kBAAkB,EAAEhE,QAAQ,CAACiE;AA1B1B,KAAP;AA4BH,GAnIU;;AAqIX;AACJ;AACA;AACA;AACA;AACA;AACIvB,EAAAA,gBAAgB,EAAE,UAAUpD,OAAV,EAAmBgC,QAAnB,EAA6B;AAC3C,QAAIhC,OAAO,CAAC4E,UAAZ,EAAwB;AACpB,YAAMC,SAAS,GAAG,CAAC;AACfC,QAAAA,IAAI,EAAE,WADS;AAEfC,QAAAA,QAAQ,EAAE,IAFK;AAGfC,QAAAA,WAAW,EAAE,IAHE;AAIfC,QAAAA,YAAY,EAAE;AAJC,OAAD,EAKdjF,OAAO,CAAC4E,UAAR,CAAmB5E,OAAnB,IAA8B,EALhB,EAKqBkF,MALrB,CAK4B,UAAUpF,IAAV,EAAgBqF,MAAhB,EAAwB;AAClE,aAAK,IAAIC,GAAT,IAAgBD,MAAhB,EAAwB;AACpB,cAAItF,IAAI,CAACwF,MAAL,CAAYF,MAAZ,EAAoBC,GAApB,CAAJ,EAA8BtF,IAAI,CAACsF,GAAD,CAAJ,GAAYD,MAAM,CAACC,GAAD,CAAlB;AACjC;;AACD,eAAOtF,IAAP;AACH,OAViB,EAUf,EAVe,CAAlB;;AAYA,UAAIE,OAAO,CAACsF,MAAR,KAAmB,MAAvB,EAA+B;AAC3BT,QAAAA,SAAS,CAACU,cAAV,GAA2BC,QAA3B;AACAX,QAAAA,SAAS,CAACS,MAAV,GAAmB,MAAnB;AACH;;AAED,YAAMG,EAAE,GAAGzF,OAAO,CAAC4E,UAAR,CAAmBc,GAAnB,CAAuBC,YAAvB,CAAoC3D,QAApC,EAA8C6C,SAA9C,CAAX;AACAY,MAAAA,EAAE,CAACG,OAAH,CAAWC,OAAX,CAAmB7E,KAAnB,CAAyB8E,OAAzB,GAAmC9D,QAAQ,CAAChB,KAAT,CAAe8E,OAAlD;AAEA9F,MAAAA,OAAO,CAAC+F,gBAAR,GAA2BN,EAA3B;AACAzD,MAAAA,QAAQ,GAAGyD,EAAE,CAACG,OAAH,CAAWC,OAAtB;AACA7D,MAAAA,QAAQ,CAAC1B,SAAT,IAAsB,yBAAtB;AACH;;AAED,WAAO0B,QAAP;AACH,GAvKU;;AAyKX;AACJ;AACA;AACA;AACA;AACIZ,EAAAA,eAAe,EAAE,UAAUC,KAAV,EAAiB;AAC9B,QAAI,CAACA,KAAL,EAAY,MAAM2E,KAAK,CAAC,iGAAD,CAAX;AAEZ,UAAMC,YAAY,GAAG,CAAC;AAClBC,MAAAA,YAAY,EAAE;AADI,KAAD,EAEjB7E,KAAK,CAACrB,OAAN,IAAiB,EAFA,EAEKkF,MAFL,CAEY,UAAUpF,IAAV,EAAgBqF,MAAhB,EAAwB;AACrD,WAAK,IAAIC,GAAT,IAAgBD,MAAhB,EAAwB;AACpB,YAAItF,IAAI,CAACwF,MAAL,CAAYF,MAAZ,EAAoBC,GAApB,CAAJ,EAA8BtF,IAAI,CAACsF,GAAD,CAAJ,GAAYD,MAAM,CAACC,GAAD,CAAlB;AACjC;;AACD,aAAOtF,IAAP;AACH,KAPoB,EAOlB,EAPkB,CAArB;AASAuB,IAAAA,KAAK,CAACrB,OAAN,GAAgBiG,YAAhB;AACH,GA3LU;;AA6LX;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACIE,EAAAA,WAAW,EAAE,UAAUC,YAAV,EAAwBC,OAAxB,EAAiCC,aAAjC,EAAgD;AACzD,SAAKnG,YAAL,CAAkBkG,OAAO,CAACtG,OAAR,CAAgBwG,aAAlC,EAAiDH,YAAjD;;AAEA,UAAMI,EAAE,GAAGH,OAAO,CAACtG,OAAnB;AACA,UAAMU,QAAQ,GAAG+F,EAAE,CAAC/F,QAApB;AACA,UAAMgG,UAAU,GAAGD,EAAE,CAACC,UAAtB;AACA,UAAMC,qBAAqB,GAAGN,YAAY,CAACnD,gBAAb,IAAiCmD,YAAY,CAACnD,gBAAb,KAAkCqD,aAAa,CAACrD,gBAA/G;AACA,UAAM0D,YAAY,GAAGP,YAAY,CAACQ,IAAb,KAAsBN,aAAa,CAACM,IAApC,IAA4CR,YAAY,CAACxF,UAAb,KAA4B0F,aAAa,CAAC1F,UAAtF,IAAoGwF,YAAY,CAACtB,IAAb,KAAsBwB,aAAa,CAACxB,IAAxI,IAAgJ4B,qBAArK;;AAEA,UAAMhG,QAAQ,GAAG,KAAKC,cAAL,CAAoBT,QAApB,EAA+ByG,YAAY,GAAGP,YAAY,CAACxF,UAAhB,GAA6B0F,aAAa,CAAC1F,UAAtF,EAAmGwF,YAAY,CAACvF,OAAhH,EAAyHuF,YAAzH,CAAjB;;AACA,QAAI1F,QAAQ,CAACQ,iBAAT,CAA2BC,IAA/B,EAAqC,KAAKC,eAAL,CAAqBgF,YAAY,CAAC/E,KAAlC;AACrC,UAAMC,KAAK,GAAGpB,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAd;AACAiB,IAAAA,KAAK,CAAChB,SAAN,GAAkB,UAAlB;;AAEA,QAAIqG,YAAJ,EAAkB;AACdjG,MAAAA,QAAQ,CAACX,OAAT,CAAiBiB,KAAjB,CAAuBC,UAAvB,GAAoC,QAApC,CADc,CAEd;;AACA,UAAIyF,qBAAJ,EAA2B;AACvBN,QAAAA,YAAY,CAACnD,gBAAb,CAA8BC,WAA9B,CAA0CxC,QAAQ,CAACX,OAAnD;AACAyG,QAAAA,EAAE,CAACK,OAAH,CAAWC,aAAX,CAAyBC,WAAzB,CAAqCP,EAAE,CAACK,OAAxC;AACH,OAHD,MAGO;AACHL,QAAAA,EAAE,CAACK,OAAH,CAAWC,aAAX,CAAyBE,YAAzB,CAAsCtG,QAAQ,CAACX,OAA/C,EAAwDyG,EAAE,CAACK,OAA3D;AACH;;AAEDL,MAAAA,EAAE,CAACK,OAAH,GAAanG,QAAQ,CAACX,OAAtB;AACAyG,MAAAA,EAAE,CAAC9C,SAAH,GAAehD,QAAQ,CAACgD,SAAxB;AACA8C,MAAAA,EAAE,CAAC/B,MAAH,GAAYnD,KAAZ;AACH;;AAED,UAAMG,YAAY,GAAG,KAAKC,aAAL,CAAmB0E,YAAnB,EAAiCI,EAAE,CAACS,OAApC,EAA8CN,YAAY,GAAGjG,QAAQ,CAACX,OAAZ,GAAsByG,EAAE,CAACK,OAAnF,EAA6FvF,KAA7F,CAArB;;AAEA,UAAMK,SAAS,GAAGF,YAAY,CAACE,SAA/B;AACA,UAAME,YAAY,GAAGJ,YAAY,CAACI,YAAlC;AACA,UAAMC,gBAAgB,GAAGL,YAAY,CAACM,WAAtC;AACA,QAAImF,IAAI,GAAGzF,YAAY,CAACQ,QAAxB;AAEA,QAAIuE,EAAE,CAACrE,WAAP,EAAoBtC,IAAI,CAACsH,UAAL,CAAgBX,EAAE,CAACrE,WAAnB;;AACpB,QAAIR,SAAS,CAACQ,WAAd,EAA2B;AACvB,UAAIiE,YAAY,CAACjD,oBAAb,IAAqCiD,YAAY,CAACjD,oBAAb,KAAsCmD,aAAa,CAACnD,oBAA7F,EAAmH;AAC/GiD,QAAAA,YAAY,CAACjD,oBAAb,CAAkCD,WAAlC,CAA8CvB,SAAS,CAACQ,WAAxD;AACH,OAFD,MAEO;AACH1B,QAAAA,QAAQ,CAACyC,WAAT,CAAqBvB,SAAS,CAACQ,WAA/B;AACH;AACJ;;AAEDsE,IAAAA,UAAU,CAAC/D,SAAX,GAAuB,EAAvB;AACA+D,IAAAA,UAAU,CAACvD,WAAX,CAAuBgE,IAAvB;AACA,QAAIpF,gBAAJ,EAAsB2E,UAAU,CAACvD,WAAX,CAAuBpB,gBAAvB;AAEtBoF,IAAAA,IAAI,GAAG,KAAK9D,gBAAL,CAAsBgD,YAAtB,EAAoCc,IAApC,CAAP;AAEAV,IAAAA,EAAE,CAACrE,WAAH,GAAiBR,SAAS,CAACQ,WAA3B;AACAqE,IAAAA,EAAE,CAACpE,UAAH,GAAgBT,SAAS,CAACS,UAA1B;AACAoE,IAAAA,EAAE,CAAClE,WAAH,GAAiBX,SAAS,CAACW,WAA3B;AACAkE,IAAAA,EAAE,CAAChE,WAAH,GAAiBb,SAAS,CAACa,WAA3B;AACAgE,IAAAA,EAAE,CAAC3E,YAAH,GAAkBA,YAAlB;AACA2E,IAAAA,EAAE,CAACU,IAAH,GAAUA,IAAV;AACAV,IAAAA,EAAE,CAACzE,WAAH,GAAiBD,gBAAjB;AAEA,QAAIsE,YAAY,CAAC7F,GAAjB,EAAsBV,IAAI,CAACuH,QAAL,CAAcZ,EAAE,CAACS,OAAjB,EAA0B,QAA1B,EAAtB,KACKpH,IAAI,CAACwH,WAAL,CAAiBb,EAAE,CAACS,OAApB,EAA6B,QAA7B;AAEL,WAAO;AACHK,MAAAA,WAAW,EAAE5G,QAAQ,CAACQ,iBADnB;AAEHL,MAAAA,OAAO,EAAEH,QAAQ,CAACG,OAFf;AAGHgG,MAAAA,OAAO,EAAEnG;AAHN,KAAP;AAKH,GAxQU;;AA0QX;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIgB,EAAAA,aAAa,EAAE,UAAU1B,OAAV,EAAmBuH,MAAnB,EAA2BC,OAA3B,EAAoCC,YAApC,EAAkD;AAC7D;AACAF,IAAAA,MAAM,CAACvG,KAAP,CAAa8E,OAAb,GAAuB9F,OAAO,CAAC0H,aAAR,CAAsBC,GAA7C;AAEA;;AACA,QAAI,UAAUC,IAAV,CAAe5H,OAAO,CAAC8E,IAAvB,CAAJ,EAAkC;AAC9B0C,MAAAA,OAAO,CAAClH,SAAR,IAAqB,oBAArB;AACAkH,MAAAA,OAAO,CAACxG,KAAR,CAAc6G,KAAd,GAAsB7H,OAAO,CAAC8H,YAA9B;AACH,KAHD,MAGO,IAAI,WAAWF,IAAX,CAAgB5H,OAAO,CAAC8E,IAAxB,CAAJ,EAAmC;AACtC0C,MAAAA,OAAO,CAAClH,SAAR,IAAqB,qBAArB;AACAkH,MAAAA,OAAO,CAACxG,KAAR,CAAc6G,KAAd,GAAsB7H,OAAO,CAAC8H,YAA9B;AACAN,MAAAA,OAAO,CAACtE,WAAR,CAAoBuE,YAApB;AACH;AAED;AACA;;;AACA,UAAMM,UAAU,GAAG7H,QAAQ,CAACG,aAAT,CAAuB,CAACL,OAAO,CAACgI,MAAT,GAAkB,KAAlB,GAA0B,QAAjD,CAAnB;AACAD,IAAAA,UAAU,CAACzH,SAAX,GAAuB,qCAAvB;;AAEA,QAAI,CAACN,OAAO,CAACgI,MAAb,EAAqB;AACjBD,MAAAA,UAAU,CAACE,YAAX,CAAwB,iBAAxB,EAA2C,IAA3C;AACAF,MAAAA,UAAU,CAACE,YAAX,CAAwB,WAAxB,EAAqC,MAArC;;AACA,WAAK,IAAI7C,GAAT,IAAgBpF,OAAO,CAACkI,gBAAxB,EAA0C;AACtCH,QAAAA,UAAU,CAACE,YAAX,CAAwB7C,GAAxB,EAA6BpF,OAAO,CAACkI,gBAAR,CAAyB9C,GAAzB,CAA7B;AACH;;AACD2C,MAAAA,UAAU,CAACzH,SAAX,IAAwB,MAAMN,OAAO,CAACmI,cAAtC;AACAJ,MAAAA,UAAU,CAAC/G,KAAX,CAAiB8E,OAAjB,GAA2B9F,OAAO,CAAC0H,aAAR,CAAsBU,KAAtB,GAA8BpI,OAAO,CAAC0H,aAAR,CAAsBW,MAA/E;AACAN,MAAAA,UAAU,CAACzH,SAAX,IAAwBN,OAAO,CAACM,SAAhC;AACH,KATD,MASO;AACHyH,MAAAA,UAAU,CAACO,eAAX,GAA6B,IAA7B;AACAP,MAAAA,UAAU,CAACQ,WAAX,GAAyB,CAAzB;AACAR,MAAAA,UAAU,CAAC/G,KAAX,CAAiB8E,OAAjB,GAA2B9F,OAAO,CAAC0H,aAAR,CAAsBU,KAAjD;AACAL,MAAAA,UAAU,CAACzH,SAAX,IAAwBN,OAAO,CAACM,SAAhC;AACH,KAjC4D,CAmC7D;;;AACA,UAAM0B,QAAQ,GAAG9B,QAAQ,CAACG,aAAT,CAAuB,UAAvB,CAAjB;AACA2B,IAAAA,QAAQ,CAAC1B,SAAT,GAAqB,qCAAqCN,OAAO,CAACM,SAAlE;AACA0B,IAAAA,QAAQ,CAAChB,KAAT,CAAe8E,OAAf,GAAyB9F,OAAO,CAAC0H,aAAR,CAAsBU,KAA/C;AACApG,IAAAA,QAAQ,CAAChB,KAAT,CAAe4E,OAAf,GAAyB,MAAzB;AACA,QAAI5F,OAAO,CAACsF,MAAR,KAAmB,MAAvB,EAA+BtD,QAAQ,CAAChB,KAAT,CAAewH,QAAf,GAA0B,QAA1B;AAE/B;;AACA,QAAIrG,WAAW,GAAG,IAAlB;AACA,QAAIC,UAAU,GAAG,IAAjB;AACA,QAAIE,WAAW,GAAG,IAAlB;AACA,QAAIE,WAAW,GAAG,IAAlB;;AACA,QAAIxC,OAAO,CAACmC,WAAZ,EAAyB;AACrBA,MAAAA,WAAW,GAAGjC,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAd;AACA8B,MAAAA,WAAW,CAAC7B,SAAZ,GAAwB,mCAAxB;AAEA;;AACA8B,MAAAA,UAAU,GAAGlC,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAb;AACA+B,MAAAA,UAAU,CAAC9B,SAAX,GAAuB,iCAAvB;AACA6B,MAAAA,WAAW,CAACe,WAAZ,CAAwBd,UAAxB;AAEA;;AACA,UAAIpC,OAAO,CAACwC,WAAZ,EAAyB;AACrBF,QAAAA,WAAW,GAAGpC,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAd;AACAiC,QAAAA,WAAW,CAAChC,SAAZ,GAAwB,yBAAxB;;AAEA,YAAIN,OAAO,CAACyI,gBAAZ,EAA8B;AAC1B,gBAAMC,SAAS,GAAGxI,QAAQ,CAACG,aAAT,CAAuB,MAAvB,CAAlB;AACAqI,UAAAA,SAAS,CAACpI,SAAV,GAAsB,eAAtB;AACAoI,UAAAA,SAAS,CAACC,WAAV,GAAwB3I,OAAO,CAACyI,gBAAhC;AACAnG,UAAAA,WAAW,CAACY,WAAZ,CAAwBwF,SAAxB;AACH;;AAEDlG,QAAAA,WAAW,GAAGtC,QAAQ,CAACG,aAAT,CAAuB,MAAvB,CAAd;AACAmC,QAAAA,WAAW,CAAClC,SAAZ,GAAwB,iBAAxB;AACAkC,QAAAA,WAAW,CAACmG,WAAZ,GAA0B,GAA1B;AACArG,QAAAA,WAAW,CAACY,WAAZ,CAAwBV,WAAxB;;AAEA,YAAIxC,OAAO,CAAC4I,YAAR,GAAuB,CAA3B,EAA8B;AAC1B,gBAAMC,QAAQ,GAAG3I,QAAQ,CAACG,aAAT,CAAuB,MAAvB,CAAjB;AACAwI,UAAAA,QAAQ,CAACF,WAAT,GAAuB,QAAQ3I,OAAO,CAAC4I,YAAvC;AACAtG,UAAAA,WAAW,CAACY,WAAZ,CAAwB2F,QAAxB;AACH;;AAED1G,QAAAA,WAAW,CAACe,WAAZ,CAAwBZ,WAAxB;AACH;AACJ;;AAED,QAAIP,WAAW,GAAG,IAAlB;;AACA,QAAI/B,OAAO,CAAC+B,WAAZ,EAAyB;AACrBA,MAAAA,WAAW,GAAG7B,QAAQ,CAACG,aAAT,CAAuB,MAAvB,CAAd;AACA0B,MAAAA,WAAW,CAACzB,SAAZ,GAAwB,gBAAxB;AACAyB,MAAAA,WAAW,CAAC+G,SAAZ,GAAwB9I,OAAO,CAAC+B,WAAhC;AACH;;AAED,WAAO;AACHJ,MAAAA,SAAS,EAAE;AACPQ,QAAAA,WAAW,EAAEA,WADN;AAEPC,QAAAA,UAAU,EAAEA,UAFL;AAGPE,QAAAA,WAAW,EAAEA,WAHN;AAIPE,QAAAA,WAAW,EAAEA;AAJN,OADR;AAOHX,MAAAA,YAAY,EAAEkG,UAPX;AAQH9F,MAAAA,QAAQ,EAAED,QARP;AASHD,MAAAA,WAAW,EAAEA;AATV,KAAP;AAWH,GAxXU;;AA0XX;AACJ;AACA;AACA;AACA;AACA;AACI5B,EAAAA,YAAY,EAAE,UAAUJ,OAAV,EAAmBC,OAAnB,EAA4B;AACtC,UAAMa,OAAO,GAAG,EAAhB;;AACA,QAAIb,OAAO,CAACa,OAAZ,EAAqB;AACjB,YAAMkI,QAAQ,GAAG/I,OAAO,CAACa,OAAzB;AACA,YAAMmI,aAAa,GAAGD,QAAQ,CAACE,MAAT,GAAkBF,QAAlB,GAA6BG,MAAM,CAACC,IAAP,CAAYJ,QAAZ,EAAsBK,GAAtB,CAA0B,UAASC,IAAT,EAAe;AAAE,eAAON,QAAQ,CAACM,IAAD,CAAf;AAAwB,OAAnE,CAAnD;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGP,aAAa,CAACC,MAA/B,EAAuCO,CAA5C,EAA+CF,CAAC,GAAGC,GAAnD,EAAwDD,CAAC,EAAzD,EAA6D;AACzDE,QAAAA,CAAC,GAAGR,aAAa,CAACM,CAAD,CAAb,CAAiBG,OAAjB,IAA4BT,aAAa,CAACM,CAAD,CAA7C;AACAzI,QAAAA,OAAO,CAAC2I,CAAC,CAACH,IAAH,CAAP,GAAkBG,CAAlB;AACH;AACJ;;AACDxJ,IAAAA,OAAO,CAACa,OAAR,GAAkBA,OAAlB;AACA;;AACAb,IAAAA,OAAO,CAAC4G,IAAR,GAAe5G,OAAO,CAAC4G,IAAR,IAAgBhH,YAA/B;AACAI,IAAAA,OAAO,CAAC0J,KAAR,GAAgB,OAAO1J,OAAO,CAAC0J,KAAf,KAAyB,QAAzB,GAAoC1J,OAAO,CAAC0J,KAA5C,GAAoD,IAApE;AACA1J,IAAAA,OAAO,CAAC2J,qBAAR,GAAgC,OAAO3J,OAAO,CAAC2J,qBAAf,KAAyC,QAAzC,GAAoD3J,OAAO,CAAC2J,qBAA5D,GAAoF,GAApH,CAdsC,CAetC;;AACA3J,IAAAA,OAAO,CAAC4J,UAAR,GAAqB,OAAO5J,OAAO,CAAC4J,UAAf,KAA8B,QAA9B,IAA0C5J,OAAO,CAAC4J,UAAR,CAAmBX,MAAnB,GAA4B,CAAtE,GAA0EjJ,OAAO,CAAC4J,UAAlF,GAA+F,GAApH;AACA,UAAMC,QAAQ,GAAG7J,OAAO,CAAC6J,QAAR,GAAmB,CAAC;AAACC,MAAAA,IAAI,EAAE,QAAP;AAAiBC,MAAAA,SAAS,EAAE,GAA5B;AAAiCC,MAAAA,MAAM,EAAE,IAAzC;AAA+CC,MAAAA,MAAM,EAAE,KAAvD;AAA8DC,MAAAA,GAAG,EAAE,KAAnE;AAA0EC,MAAAA,GAAG,EAAE;AAA/E,KAAD,EAAyFnK,OAAO,CAAC6J,QAAR,IAAoB,EAA7G,EAAkH3E,MAAlH,CAAyH,UAAUkF,QAAV,EAAoBC,IAApB,EAA0B;AACnL,WAAK,IAAIjF,GAAT,IAAgBiF,IAAhB,EAAsB;AAClBD,QAAAA,QAAQ,CAAChF,GAAD,CAAR,GAAgBiF,IAAI,CAACjF,GAAD,CAApB;AACH;;AACD,aAAOgF,QAAP;AACH,KALmC,EAKjC,EALiC,CAApC;AAMApK,IAAAA,OAAO,CAACsK,YAAR,GAAuB;AACnB,gBAAUT,QAAQ,CAACC,IAAT,CAAcS,WAAd,EADS;AAEnB,WAAKV,QAAQ,CAACC,IAAT,CAAcS,WAAd,EAFc;AAGnB,WAAKV,QAAQ,CAACE,SAAT,CAAmBQ,WAAnB,EAHc;AAInB,aAAOV,QAAQ,CAACE,SAAT,CAAmBQ,WAAnB,EAJY;AAKnB,YAAMV,QAAQ,CAACG,MAAT,CAAgBO,WAAhB,EALa;AAMnB,WAAKV,QAAQ,CAACG,MAAT,CAAgBO,WAAhB,EANc;AAOnB,aAAOV,QAAQ,CAACI,MAAT,CAAgBM,WAAhB,EAPY;AAQnB,gBAAUV,QAAQ,CAACI,MAAT,CAAgBM,WAAhB,EARS;AASnB,WAAKV,QAAQ,CAACI,MAAT,CAAgBM,WAAhB,EATc;AAUnB,aAAOV,QAAQ,CAACK,GAAT,CAAaK,WAAb,EAVY;AAWnB,aAAOV,QAAQ,CAACM,GAAT,CAAaI,WAAb;AAXY,KAAvB;AAaAvK,IAAAA,OAAO,CAACwK,eAAR,GAA0B;AACtBV,MAAAA,IAAI,EAAE9J,OAAO,CAAC6J,QAAR,CAAiBC,IADD;AAEtBC,MAAAA,SAAS,EAAE/J,OAAO,CAAC6J,QAAR,CAAiBE,SAFN;AAGtBC,MAAAA,MAAM,EAAEhK,OAAO,CAAC6J,QAAR,CAAiBG,MAHH;AAItBC,MAAAA,MAAM,EAAEjK,OAAO,CAAC6J,QAAR,CAAiBI,MAJH;AAKtBQ,MAAAA,SAAS,EAAEzK,OAAO,CAAC6J,QAAR,CAAiBK,GALN;AAMtBQ,MAAAA,WAAW,EAAE1K,OAAO,CAAC6J,QAAR,CAAiBM;AANR,KAA1B;AAQA;;AACA,UAAMQ,SAAS,GAAG,oNAAlB,CA7CsC,CA8CtC;;AACA3K,IAAAA,OAAO,CAAC4K,aAAR,GAAwB5K,OAAO,CAAC4K,aAAR,IAAyB,EAAjD;AACA5K,IAAAA,OAAO,CAAC6K,qBAAR,GAAgC,OAAO7K,OAAO,CAAC6K,qBAAf,KAAyC,QAAzC,GAAoD7K,OAAO,CAAC6K,qBAA5D,GAAoFF,SAApH;AACA3K,IAAAA,OAAO,CAAC8K,oBAAR,GAA+B9K,OAAO,CAAC+K,gBAAR,KAA6B,GAA7B,GAAmC,GAAnC,GAAyC,KAAKC,aAAL,CAAmBhL,OAAO,CAAC6K,qBAAR,IAAiC,OAAO7K,OAAO,CAAC+K,gBAAf,KAAoC,QAApC,IAAgD/K,OAAO,CAAC+K,gBAAR,CAAyB9B,MAAzB,GAAkC,CAAlF,GAAsF,MAAMjJ,OAAO,CAAC+K,gBAApG,GAAuH,EAAxJ,CAAnB,EAAgL/K,OAAO,CAAC4K,aAAxL,CAAxE,CAjDsC,CAkDtC;;AACA5K,IAAAA,OAAO,CAACiL,kBAAR,GAA6BjL,OAAO,CAAC4K,aAAR,IAAyB5K,OAAO,CAAC4K,aAAR,IAAyB5K,OAAO,CAACiL,kBAAjC,GAAuD,MAAMjL,OAAO,CAACiL,kBAArE,GAA4FjL,OAAO,CAACiL,kBAAR,IAA8B,EAAnJ,CAA7B;AACAjL,IAAAA,OAAO,CAACkL,kBAAR,GAA6BlL,OAAO,CAACkL,kBAAR,KAA+B,GAA/B,GAAqC,GAArC,GAA2C,KAAKF,aAAL,CAAmB,OAAOhL,OAAO,CAACkL,kBAAf,KAAsC,QAAtC,GAAiDlL,OAAO,CAACkL,kBAAzD,GAA8ElL,OAAO,CAAC8K,oBAAzG,EAA+H9K,OAAO,CAACiL,kBAAvI,CAAxE,CApDsC,CAqDtC;;AACAjL,IAAAA,OAAO,CAACmL,mBAAR,GAA+B,CAACnL,OAAO,CAACmL,mBAAT,IAAgC,OAAOnL,OAAO,CAACmL,mBAAf,KAAuC,QAAxE,GAAoF,IAApF,GAA2FnL,OAAO,CAACmL,mBAAjI;AACAnL,IAAAA,OAAO,CAACoL,mBAAR,GAA+B,CAACpL,OAAO,CAACoL,mBAAT,IAAgC,OAAOpL,OAAO,CAACoL,mBAAf,KAAuC,QAAxE,GAAoF,IAApF,GAA2FpL,OAAO,CAACoL,mBAAjI;AACA;;AACApL,IAAAA,OAAO,CAAC8E,IAAR,GAAe9E,OAAO,CAAC8E,IAAR,IAAgB,SAA/B,CAzDsC,CAyDI;;AAC1C9E,IAAAA,OAAO,CAACO,GAAR,GAAc,CAAC,CAACP,OAAO,CAACO,GAAxB;AACAP,IAAAA,OAAO,CAACqL,aAAR,GAAwB,OAAOrL,OAAO,CAACqL,aAAf,KAAiC,QAAjC,IAA6CrL,OAAO,CAACqL,aAArD,GAAqErL,OAAO,CAACqL,aAAR,KAA0B,GAA1B,GAAgC,GAAhC,GAAsC,IAAIC,MAAJ,CAAW,OAAOtL,OAAO,CAACqL,aAAf,GAA+B,IAA1C,EAAgD,GAAhD,CAA3G,GAAkK,IAA1L;AACArL,IAAAA,OAAO,CAACmI,cAAR,GAAyB,yBAAyBnI,OAAO,CAACO,GAAR,GAAc,SAAd,GAA0B,EAAnD,CAAzB;AACAP,IAAAA,OAAO,CAACuL,WAAR,GAAsB,OAAOvL,OAAO,CAACuL,WAAf,KAA+B,QAA/B,GAA0CvL,OAAO,CAACuL,WAAlD,GAAgE,IAAtF;AACAvL,IAAAA,OAAO,CAAC8H,YAAR,GAAuB9H,OAAO,CAAC8H,YAAR,GAAwBjI,IAAI,CAAC2L,QAAL,CAAcxL,OAAO,CAAC8H,YAAtB,IAAsC9H,OAAO,CAAC8H,YAAR,GAAuB,IAA7D,GAAoE9H,OAAO,CAAC8H,YAApG,GAAoH,MAA3I;AACA9H,IAAAA,OAAO,CAACiD,gBAAR,GAA2B,OAAOjD,OAAO,CAACiD,gBAAf,KAAoC,QAApC,GAA+C/C,QAAQ,CAACuL,aAAT,CAAuBzL,OAAO,CAACiD,gBAA/B,CAA/C,GAAkGjD,OAAO,CAACiD,gBAArI;AACAjD,IAAAA,OAAO,CAAC0L,aAAR,GAAyB,WAAW9D,IAAX,CAAgB5H,OAAO,CAAC8E,IAAxB,KAAiC,CAAC,CAAC9E,OAAO,CAACiD,gBAA5C,GAAgE,CAAC,CAAjE,GAAqEjD,OAAO,CAAC0L,aAAR,KAA0BC,SAA1B,GAAsC,CAAtC,GAA2C,OAAO/D,IAAP,CAAY5H,OAAO,CAAC0L,aAApB,IAAqC7L,IAAI,CAAC+L,SAAL,CAAe5L,OAAO,CAAC0L,aAAvB,EAAsC,CAAtC,CAArC,GAAgF,CAAC,CAAzN;AACA1L,IAAAA,OAAO,CAAC6L,WAAR,GAAsB,CAAC,CAAC7L,OAAO,CAAC6L,WAAhC;AACA7L,IAAAA,OAAO,CAAC8L,gBAAR,GAA2B9L,OAAO,CAAC8L,gBAAR,KAA6BH,SAA7B,GAAyC,CAAzC,GAA8C,OAAO/D,IAAP,CAAY5H,OAAO,CAAC8L,gBAApB,IAAwCjM,IAAI,CAAC+L,SAAL,CAAe5L,OAAO,CAAC8L,gBAAvB,EAAyC,CAAzC,CAAxC,GAAsF,CAA/J;AACA9L,IAAAA,OAAO,CAAC+L,QAAR,GAAmB,CAAC,CAAC/L,OAAO,CAAC+L,QAA7B;AACA/L,IAAAA,OAAO,CAACgI,MAAR,GAAiBhI,OAAO,CAAC+L,QAAR,IAAoB,CAAC,CAAC/L,OAAO,CAACgI,MAA/C;AACAhI,IAAAA,OAAO,CAACkI,gBAAR,GAA2BlI,OAAO,CAACkI,gBAAR,IAA4B,EAAvD;AACAlI,IAAAA,OAAO,CAACgM,iBAAR,GAA4BhM,OAAO,CAACgI,MAAR,GAAiB,OAAOhI,OAAO,CAACgM,iBAAf,KAAqC,QAArC,GAAgD,CAAChM,OAAO,CAACgM,iBAAT,CAAhD,GAA+EhM,OAAO,CAACgM,iBAAR,IAA6B,CAAC,WAAD,CAA7H,GAA8I,IAA1K;AACAhM,IAAAA,OAAO,CAACiM,eAAR,GAA0B,OAAOjM,OAAO,CAACiM,eAAf,KAAmC,QAAnC,GAA8CjM,OAAO,CAACiM,eAAtD,GAAwE,IAAlG;AACAjM,IAAAA,OAAO,CAACkM,aAAR,GAAwB,OAAOlM,OAAO,CAACkM,aAAf,KAAiC,QAAjC,GAA4ClM,OAAO,CAACkM,aAApD,GAAoE,IAA5F;AACA;;AACAlM,IAAAA,OAAO,CAAC4E,UAAR,GAAqB5E,OAAO,CAAC4E,UAAR,GAAqB5E,OAAO,CAAC4E,UAAR,CAAmBc,GAAnB,GAAyB1F,OAAO,CAAC4E,UAAjC,GAA8C;AAACc,MAAAA,GAAG,EAAE1F,OAAO,CAAC4E;AAAd,KAAnE,GAA+F,IAApH;AACA;;AACA5E,IAAAA,OAAO,CAACqB,KAAR,GAAgBrB,OAAO,CAACqB,KAAR,GAAgBrB,OAAO,CAACqB,KAAR,CAAcqE,GAAd,GAAoB1F,OAAO,CAACqB,KAA5B,GAAoC;AAACqE,MAAAA,GAAG,EAAE1F,OAAO,CAACqB;AAAd,KAApD,GAA2E,IAA3F;AACArB,IAAAA,OAAO,CAACmM,YAAR,GAAuB,CAAC,CAACnM,OAAO,CAACmM,YAAV,GAAyBnM,OAAO,CAACmM,YAAjC,GAAgD,CACnE;AAACC,MAAAA,IAAI,EAAE,GAAP;AAAY1C,MAAAA,KAAK,EAAE;AAAnB,KADmE,EAEnE;AAAC0C,MAAAA,IAAI,EAAE,KAAP;AAAc1C,MAAAA,KAAK,EAAE;AAArB,KAFmE,EAGnE;AAAC0C,MAAAA,IAAI,EAAE,GAAP;AAAY1C,MAAAA,KAAK,EAAE;AAAnB,KAHmE,EAInE;AAAC0C,MAAAA,IAAI,EAAE,KAAP;AAAc1C,MAAAA,KAAK,EAAE;AAArB,KAJmE,CAAvE;AAMA;;AACA1J,IAAAA,OAAO,CAACqM,QAAR,GAAmB,OAAOrM,OAAO,CAACqM,QAAf,KAA4B,QAA5B,GAAuCrM,OAAO,CAACqM,QAA/C,GAA0D,IAA7E;AACArM,IAAAA,OAAO,CAAC4F,OAAR,GAAkB5F,OAAO,CAAC4F,OAAR,KAAoB7F,OAAO,CAACiB,KAAR,CAAc4E,OAAd,KAA0B,MAA1B,IAAoC,CAAC7F,OAAO,CAACiB,KAAR,CAAc4E,OAAnD,GAA6D,OAA7D,GAAuE7F,OAAO,CAACiB,KAAR,CAAc4E,OAAzG,CAAlB;AACA5F,IAAAA,OAAO,CAACsM,YAAR,GAAuBtM,OAAO,CAACsM,YAAR,IAAwB,MAA/C;AACA;;AACAtM,IAAAA,OAAO,CAACmC,WAAR,GAAsBnC,OAAO,CAACmC,WAAR,KAAwBwJ,SAAxB,GAAqC,kBAAkB/D,IAAlB,CAAuB5H,OAAO,CAAC8E,IAA/B,IAAuC,KAAvC,GAA+C,IAApF,GAA4F9E,OAAO,CAACmC,WAA1H;AACAnC,IAAAA,OAAO,CAACuM,aAAR,GAAwB,CAACvM,OAAO,CAACmC,WAAT,GAAuB,KAAvB,GAA+B,OAAOnC,OAAO,CAACuM,aAAf,KAAiC,SAAjC,GAA6CvM,OAAO,CAACuM,aAArD,GAAqE,IAA5H;AACAvM,IAAAA,OAAO,CAACwM,YAAR,GAAuBxM,OAAO,CAACwM,YAAR,KAAyBb,SAAzB,GAAqC,IAArC,GAA4C,CAAC,CAAC3L,OAAO,CAACwM,YAA7E;AACAxM,IAAAA,OAAO,CAACmD,oBAAR,GAA+B,OAAOnD,OAAO,CAACmD,oBAAf,KAAwC,QAAxC,GAAmDjD,QAAQ,CAACuL,aAAT,CAAuBzL,OAAO,CAACmD,oBAA/B,CAAnD,GAA0GnD,OAAO,CAACmD,oBAAjJ;AACA;;AACAnD,IAAAA,OAAO,CAACwC,WAAR,GAAsBxC,OAAO,CAAC4I,YAAR,GAAuB,CAAvB,GAA2B,IAA3B,GAAkC,OAAO5I,OAAO,CAACwC,WAAf,KAA+B,SAA/B,GAA2CxC,OAAO,CAACwC,WAAnD,GAAiE,KAAzH;AACAxC,IAAAA,OAAO,CAACyM,eAAR,GAA0B,OAAOzM,OAAO,CAACyM,eAAf,KAAmC,QAAnC,GAA8CzM,OAAO,CAACyM,eAAtD,GAAwE,MAAlG;AACAzM,IAAAA,OAAO,CAACyI,gBAAR,GAA2B,OAAOzI,OAAO,CAACyI,gBAAf,KAAoC,QAApC,GAA+CzI,OAAO,CAACyI,gBAAR,CAAyBiE,IAAzB,EAA/C,GAAiF,IAA5G;AACA1M,IAAAA,OAAO,CAAC4I,YAAR,GAAuB/I,IAAI,CAAC2L,QAAL,CAAcxL,OAAO,CAAC4I,YAAtB,KAAuC5I,OAAO,CAAC4I,YAAR,GAAuB,CAAC,CAA/D,GAAmE5I,OAAO,CAAC4I,YAAR,GAAuB,CAA1F,GAA8F,IAArH;AACA;;AACA5I,IAAAA,OAAO,CAAC6H,KAAR,GAAgB7H,OAAO,CAAC6H,KAAR,GAAiBhI,IAAI,CAAC2L,QAAL,CAAcxL,OAAO,CAAC6H,KAAtB,IAA+B7H,OAAO,CAAC6H,KAAR,GAAgB,IAA/C,GAAsD7H,OAAO,CAAC6H,KAA/E,GAAyF9H,OAAO,CAAC4M,WAAR,GAAsB5M,OAAO,CAAC4M,WAAR,GAAsB,IAA5C,GAAmD,MAA5J;AACA3M,IAAAA,OAAO,CAAC4M,QAAR,GAAmB,CAAC/M,IAAI,CAAC2L,QAAL,CAAcxL,OAAO,CAAC4M,QAAtB,IAAkC5M,OAAO,CAAC4M,QAAR,GAAmB,IAArD,GAA4D5M,OAAO,CAAC4M,QAArE,KAAkF,EAArG;AACA5M,IAAAA,OAAO,CAAC6M,QAAR,GAAmB,CAAChN,IAAI,CAAC2L,QAAL,CAAcxL,OAAO,CAAC6M,QAAtB,IAAkC7M,OAAO,CAAC6M,QAAR,GAAmB,IAArD,GAA4D7M,OAAO,CAAC6M,QAArE,KAAkF,EAArG;AACA;;AACA7M,IAAAA,OAAO,CAACsF,MAAR,GAAiBtF,OAAO,CAACsF,MAAR,GAAkBzF,IAAI,CAAC2L,QAAL,CAAcxL,OAAO,CAACsF,MAAtB,IAAgCtF,OAAO,CAACsF,MAAR,GAAiB,IAAjD,GAAwDtF,OAAO,CAACsF,MAAlF,GAA6FvF,OAAO,CAAC+M,YAAR,GAAuB/M,OAAO,CAAC+M,YAAR,GAAuB,IAA9C,GAAqD,MAAnK;AACA9M,IAAAA,OAAO,CAAC+M,SAAR,GAAoB,CAAClN,IAAI,CAAC2L,QAAL,CAAcxL,OAAO,CAAC+M,SAAtB,IAAmC/M,OAAO,CAAC+M,SAAR,GAAoB,IAAvD,GAA8D/M,OAAO,CAAC+M,SAAvE,KAAqF,EAAzG;AACA/M,IAAAA,OAAO,CAACgN,SAAR,GAAoB,CAACnN,IAAI,CAAC2L,QAAL,CAAcxL,OAAO,CAACgN,SAAtB,IAAmChN,OAAO,CAACgN,SAAR,GAAoB,IAAvD,GAA8DhN,OAAO,CAACgN,SAAvE,KAAqF,EAAzG;AACA;;AACAhN,IAAAA,OAAO,CAACM,SAAR,GAAqB,OAAON,OAAO,CAACM,SAAf,KAA6B,QAA7B,IAAyCN,OAAO,CAACM,SAAR,CAAkB2I,MAAlB,GAA2B,CAArE,GAA0E,MAAMjJ,OAAO,CAACM,SAAxF,GAAoG,EAAxH;AACAN,IAAAA,OAAO,CAACiN,YAAR,GAAuB,OAAOjN,OAAO,CAACiN,YAAf,KAAgC,QAAhC,GAA2CjN,OAAO,CAACiN,YAAnD,GAAkE,EAAzF;AACA;;AACAjN,IAAAA,OAAO,CAACkN,IAAR,GAAe,CAAClN,OAAO,CAACkN,IAAT,GAAgB,CAAC,OAAD,EAAU,eAAV,EAA2B,aAA3B,EAA0C,QAA1C,EAAoD,SAApD,EAA+D,QAA/D,EAAyE,cAAzE,EAAyF,SAAzF,CAAhB,GAAsHlN,OAAO,CAACkN,IAA7I;AACAlN,IAAAA,OAAO,CAACmN,QAAR,GAAmB,CAACnN,OAAO,CAACmN,QAAT,GAAoB,IAApB,GAA2BnN,OAAO,CAACmN,QAAtD;AACAnN,IAAAA,OAAO,CAACoN,OAAR,GAAkB,CAACpN,OAAO,CAACoN,OAAT,GAAmB,IAAnB,GAA0BpN,OAAO,CAACoN,OAApD;AACApN,IAAAA,OAAO,CAACqN,SAAR,GAAoB,CAACrN,OAAO,CAACqN,SAAT,GAAqB,IAArB,GAA4BrN,OAAO,CAACqN,SAAxD;AACArN,IAAAA,OAAO,CAACsN,WAAR,GAAsB,CAACtN,OAAO,CAACsN,WAAT,GAAuB,IAAvB,GAA8BtN,OAAO,CAACsN,WAA5D;AACAtN,IAAAA,OAAO,CAACuN,eAAR,GAA0B,CAACvN,OAAO,CAACuN,eAAT,GAA2B,IAA3B,GAAkCvN,OAAO,CAACuN,eAApE;AACAvN,IAAAA,OAAO,CAACwN,UAAR,GAAqB,CAACxN,OAAO,CAACwN,UAAT,GAAsB,IAAtB,GAA6BxN,OAAO,CAACwN,UAA1D;AACAxN,IAAAA,OAAO,CAACyN,YAAR,GAAuB,OAAOzN,OAAO,CAACyN,YAAf,KAAgC,QAAhC,GAA4CzN,OAAO,CAACyN,YAAR,CAAqBf,IAArB,MAA+B,IAA3E,GAAmF,IAA1G;AACA1M,IAAAA,OAAO,CAAC0N,UAAR,GAAqB,OAAO1N,OAAO,CAAC0N,UAAf,KAA8B,QAA9B,GAAyC1N,OAAO,CAAC0N,UAAjD,GAA+D1N,OAAO,CAACO,GAAR,GAAc,CAAC,OAAD,EAAU,QAAV,EAAoB,MAApB,EAA4B,SAA5B,CAAd,GAAuD,CAAC,MAAD,EAAS,QAAT,EAAmB,OAAnB,EAA4B,SAA5B,CAA3I;AACA;;AACAP,IAAAA,OAAO,CAAC2N,aAAR,GAAwB3N,OAAO,CAAC2N,aAAR,KAA0BhC,SAA1B,GAAsC,IAAtC,GAA6C3L,OAAO,CAAC2N,aAA7E;AACA3N,IAAAA,OAAO,CAAC4N,eAAR,GAA0B5N,OAAO,CAAC4N,eAAR,KAA4BjC,SAA5B,GAAwC,IAAxC,GAA+C,CAAC,CAAC3L,OAAO,CAAC4N,eAAnF;AACA5N,IAAAA,OAAO,CAAC6N,cAAR,GAAyB7N,OAAO,CAAC6N,cAAR,KAA2BlC,SAA3B,GAAuC,IAAvC,GAA8C,CAAC,CAAC3L,OAAO,CAAC6N,cAAjF;AACA7N,IAAAA,OAAO,CAAC8N,UAAR,GAAqB,CAAC9N,OAAO,CAAC8N,UAAT,GAAsB,MAAtB,GAA+BjO,IAAI,CAAC2L,QAAL,CAAcxL,OAAO,CAAC8N,UAAtB,IAAoC9N,OAAO,CAAC8N,UAAR,GAAqB,IAAzD,GAAgE9N,OAAO,CAAC8N,UAA5H;AACA9N,IAAAA,OAAO,CAAC+N,WAAR,GAAsB,CAAC/N,OAAO,CAAC+N,WAAT,GAAuB,MAAvB,GAAgClO,IAAI,CAAC2L,QAAL,CAAcxL,OAAO,CAAC+N,WAAtB,IAAqC/N,OAAO,CAAC+N,WAAR,GAAsB,IAA3D,GAAkE/N,OAAO,CAAC+N,WAAhI;AACA/N,IAAAA,OAAO,CAACgO,uBAAR,GAAkC,CAAC,CAAChO,OAAO,CAACgO,uBAA5C;AACAhO,IAAAA,OAAO,CAACiO,cAAR,GAAyBjO,OAAO,CAACgO,uBAAR,GAAkC,GAAlC,GAAwC,IAAjE;AACAhO,IAAAA,OAAO,CAACkO,aAAR,GAAwBlO,OAAO,CAACkO,aAAR,KAA0BvC,SAA1B,GAAsC3L,OAAO,CAACkO,aAA9C,GAA8D,EAAElO,OAAO,CAACgO,uBAAR,IAAmC,CAAChO,OAAO,CAAC4N,eAA9C,CAAtF;AACA5N,IAAAA,OAAO,CAACmO,cAAR,GAAyBnO,OAAO,CAACmO,cAAR,KAA2BxC,SAA3B,GAAuC,IAAvC,GAA8C3L,OAAO,CAACmO,cAA/E;AACAnO,IAAAA,OAAO,CAACoO,aAAR,GAAyBpO,OAAO,CAACoO,aAAR,KAA0BzC,SAA1B,IAAuC,CAAC3L,OAAO,CAACmO,cAAjD,GAAmE,IAAnE,GAA0EnO,OAAO,CAACoO,aAA1G;AACApO,IAAAA,OAAO,CAACqO,iBAAR,GAA4BrO,OAAO,CAACqO,iBAAR,IAA6B,IAAzD;AACArO,IAAAA,OAAO,CAACsO,cAAR,GAAyB,OAAOtO,OAAO,CAACsO,cAAf,KAAkC,QAAlC,GAA6CtO,OAAO,CAACsO,cAArD,GAAsE,IAA/F;AACAtO,IAAAA,OAAO,CAACuO,oBAAR,GAA+B,MAAM3G,IAAN,CAAW5H,OAAO,CAACuO,oBAAnB,IAA2C1O,IAAI,CAAC+L,SAAL,CAAe5L,OAAO,CAACuO,oBAAvB,EAA6C,CAA7C,CAA3C,GAA6F,IAA5H;AACAvO,IAAAA,OAAO,CAACwO,iBAAR,GAA4B,CAAC,CAACxO,OAAO,CAACwO,iBAAtC;AACAxO,IAAAA,OAAO,CAACyO,WAAR,GAAuB,OAAOzO,OAAO,CAACyO,WAAf,KAA+B,QAA/B,IAA2CzO,OAAO,CAACyO,WAAR,CAAoB/B,IAApB,OAA+B,GAA3E,GAAkF,SAAlF,GAA8F1M,OAAO,CAACyO,WAAR,CAAoB/B,IAApB,MAA8B,SAAlJ;AACA;;AACA1M,IAAAA,OAAO,CAAC0O,eAAR,GAA0B,OAAO1O,OAAO,CAAC0O,eAAf,KAAmC,QAAnC,GAA8C1O,OAAO,CAAC0O,eAAtD,GAAwE,IAAlG;AACA1O,IAAAA,OAAO,CAAC2O,kBAAR,GAA6B3O,OAAO,CAAC2O,kBAAR,IAA8B,IAA3D;AACA;;AACA3O,IAAAA,OAAO,CAAC4O,aAAR,GAAwB5O,OAAO,CAAC4O,aAAR,KAA0BjD,SAA1B,GAAsC,IAAtC,GAA6C3L,OAAO,CAAC4O,aAA7E;AACA5O,IAAAA,OAAO,CAAC6O,eAAR,GAA0B7O,OAAO,CAAC6O,eAAR,KAA4BlD,SAA5B,GAAwC,IAAxC,GAA+C,CAAC,CAAC3L,OAAO,CAAC6O,eAAnF;AACA7O,IAAAA,OAAO,CAAC8O,cAAR,GAAyB9O,OAAO,CAAC8O,cAAR,KAA2BnD,SAA3B,GAAuC,IAAvC,GAA8C,CAAC,CAAC3L,OAAO,CAAC8O,cAAjF;AACA9O,IAAAA,OAAO,CAAC+O,cAAR,GAAyB/O,OAAO,CAAC+O,cAAR,KAA2BpD,SAA3B,GAAuC,IAAvC,GAA8C,CAAC,CAAC3L,OAAO,CAAC+O,cAAjF;AACA/O,IAAAA,OAAO,CAACgP,UAAR,GAAqB,CAAChP,OAAO,CAACgP,UAAT,IAAuB,CAACnP,IAAI,CAAC+L,SAAL,CAAe5L,OAAO,CAACgP,UAAvB,EAAmC,CAAnC,CAAxB,GAAgE,EAAhE,GAAqEnP,IAAI,CAAC2L,QAAL,CAAcxL,OAAO,CAACgP,UAAtB,IAAoChP,OAAO,CAACgP,UAAR,GAAqB,IAAzD,GAAgEhP,OAAO,CAACgP,UAAlK;AACAhP,IAAAA,OAAO,CAACiP,WAAR,GAAsB,CAACjP,OAAO,CAACiP,WAAT,IAAwB,CAACpP,IAAI,CAAC+L,SAAL,CAAe5L,OAAO,CAACiP,WAAvB,EAAoC,CAApC,CAAzB,GAAkE,EAAlE,GAAuEpP,IAAI,CAAC2L,QAAL,CAAcxL,OAAO,CAACiP,WAAtB,IAAqCjP,OAAO,CAACiP,WAAR,GAAsB,IAA3D,GAAkEjP,OAAO,CAACiP,WAAvK;AACAjP,IAAAA,OAAO,CAACkP,uBAAR,GAAkC,CAAC,CAAClP,OAAO,CAACkP,uBAA5C;AACAlP,IAAAA,OAAO,CAACmP,cAAR,GAAyBnP,OAAO,CAACkP,uBAAR,GAAkC,GAAlC,GAAwC,IAAjE;AACAlP,IAAAA,OAAO,CAACoP,aAAR,GAAwBpP,OAAO,CAACoP,aAAR,KAA0BzD,SAA1B,GAAsC3L,OAAO,CAACoP,aAA9C,GAA8D,EAAEpP,OAAO,CAACkP,uBAAR,IAAmC,CAAClP,OAAO,CAAC6O,eAA9C,CAAtF;AACA7O,IAAAA,OAAO,CAACqP,UAAR,GAAsBxP,IAAI,CAAC+L,SAAL,CAAe5L,OAAO,CAACqP,UAAvB,EAAmC,CAAnC,KAAyC,MAA/D;AACArP,IAAAA,OAAO,CAACsP,cAAR,GAAyB,CAACtP,OAAO,CAACsP,cAAT,GAA0B,IAA1B,GAAiCtP,OAAO,CAACsP,cAAlE;AACAtP,IAAAA,OAAO,CAACuP,YAAR,GAAuB,CAACvP,OAAO,CAACuP,YAAR,IAAwB,EAAzB,EAA6BC,OAA7B,CAAqC,GAArC,EAA0C,EAA1C,CAAvB;AACAxP,IAAAA,OAAO,CAACyP,cAAR,GAAyB,CAAC,CAACzP,OAAO,CAACyP,cAAnC;AACAzP,IAAAA,OAAO,CAAC0P,aAAR,GAAyB1P,OAAO,CAAC0P,aAAR,KAA0B/D,SAA1B,IAAuC,CAAC3L,OAAO,CAACyP,cAAjD,GAAmE,IAAnE,GAA0EzP,OAAO,CAAC0P,aAA1G;AACA1P,IAAAA,OAAO,CAAC2P,iBAAR,GAA4B3P,OAAO,CAAC2P,iBAAR,IAA6B,IAAzD;AACA3P,IAAAA,OAAO,CAAC4P,cAAR,GAAyB,OAAO5P,OAAO,CAAC4P,cAAf,KAAkC,QAAlC,GAA6C5P,OAAO,CAAC4P,cAArD,GAAsE,IAA/F;AACA5P,IAAAA,OAAO,CAAC6P,oBAAR,GAA+B,MAAMjI,IAAN,CAAW5H,OAAO,CAAC6P,oBAAnB,IAA2ChQ,IAAI,CAAC+L,SAAL,CAAe5L,OAAO,CAAC6P,oBAAvB,EAA6C,CAA7C,CAA3C,GAA6F,IAA5H;AACA7P,IAAAA,OAAO,CAAC8P,iBAAR,GAA4B,CAAC,CAAC9P,OAAO,CAAC8P,iBAAtC;AACA9P,IAAAA,OAAO,CAAC+P,aAAR,GAAwB/P,OAAO,CAAC+P,aAAR,IAAyB,IAAjD;AACA/P,IAAAA,OAAO,CAACgQ,gBAAR,GAA2BhQ,OAAO,CAACgQ,gBAAR,IAA4B,IAAvD;AACAhQ,IAAAA,OAAO,CAACiQ,WAAR,GAAuB,OAAOjQ,OAAO,CAACiQ,WAAf,KAA+B,QAA/B,IAA2CjQ,OAAO,CAACiQ,WAAR,CAAoBvD,IAApB,OAA+B,GAA3E,GAAkF,SAAlF,GAA8F1M,OAAO,CAACiQ,WAAR,CAAoBvD,IAApB,MAA8B,SAAlJ;AACA;;AACA1M,IAAAA,OAAO,CAACkQ,UAAR,GAAqB,CAAClQ,OAAO,CAACkQ,UAAT,GAAsB,EAAtB,GAA2BrQ,IAAI,CAAC2L,QAAL,CAAcxL,OAAO,CAACkQ,UAAtB,IAAoClQ,OAAO,CAACkQ,UAAR,GAAqB,IAAzD,GAAgElQ,OAAO,CAACkQ,UAAxH;AACAlQ,IAAAA,OAAO,CAACmQ,WAAR,GAAsB,CAACnQ,OAAO,CAACmQ,WAAT,GAAuB,EAAvB,GAA4BtQ,IAAI,CAAC2L,QAAL,CAAcxL,OAAO,CAACmQ,WAAtB,IAAqCnQ,OAAO,CAACmQ,WAAR,GAAsB,IAA3D,GAAkEnQ,OAAO,CAACmQ,WAA5H;AACAnQ,IAAAA,OAAO,CAACoQ,cAAR,GAAyB,CAAC,CAACpQ,OAAO,CAACoQ,cAAnC;AACApQ,IAAAA,OAAO,CAACqQ,aAAR,GAAyBrQ,OAAO,CAACqQ,aAAR,KAA0B1E,SAA1B,IAAuC,CAAC3L,OAAO,CAACoQ,cAAjD,GAAmE,IAAnE,GAA0EpQ,OAAO,CAACqQ,aAA1G;AACArQ,IAAAA,OAAO,CAACsQ,iBAAR,GAA4BtQ,OAAO,CAACsQ,iBAAR,IAA6B,IAAzD;AACAtQ,IAAAA,OAAO,CAACuQ,cAAR,GAAyB,OAAOvQ,OAAO,CAACuQ,cAAf,KAAkC,QAAlC,GAA6CvQ,OAAO,CAACuQ,cAArD,GAAsE,IAA/F;AACAvQ,IAAAA,OAAO,CAACwQ,oBAAR,GAA+B,MAAM5I,IAAN,CAAW5H,OAAO,CAACwQ,oBAAnB,IAA2C3Q,IAAI,CAAC+L,SAAL,CAAe5L,OAAO,CAACwQ,oBAAvB,EAA6C,CAA7C,CAA3C,GAA6F,IAA5H;AACAxQ,IAAAA,OAAO,CAACyQ,iBAAR,GAA4B,CAAC,CAACzQ,OAAO,CAACyQ,iBAAtC;AACAzQ,IAAAA,OAAO,CAAC0Q,aAAR,GAAwB1Q,OAAO,CAAC0Q,aAAR,IAAyB,IAAjD;AACA1Q,IAAAA,OAAO,CAAC2Q,WAAR,GAAuB,OAAO3Q,OAAO,CAAC2Q,WAAf,KAA+B,QAA/B,IAA2C3Q,OAAO,CAAC2Q,WAAR,CAAoBjE,IAApB,OAA+B,GAA3E,GAAkF,SAAlF,GAA8F1M,OAAO,CAAC2Q,WAAR,CAAoBjE,IAApB,MAA8B,SAAlJ;AACA;;AACA1M,IAAAA,OAAO,CAAC4Q,2BAAR,GAAsC,OAAO5Q,OAAO,CAAC4Q,2BAAf,KAA+C,QAA/C,GAA0D5Q,OAAO,CAAC4Q,2BAAR,CAAoCrG,WAApC,EAA1D,GAA8G,MAApJ;AACA;;AACAvK,IAAAA,OAAO,CAAC6Q,mBAAR,GAA8B,CAAC,CAAC7Q,OAAO,CAAC6Q,mBAAxC;AACA7Q,IAAAA,OAAO,CAAC8Q,YAAR,GAAuB,OAAO9Q,OAAO,CAAC8Q,YAAf,KAAgC,QAAhC,GAA2C9Q,OAAO,CAAC8Q,YAAnD,GAAkE,IAAzF;AACA9Q,IAAAA,OAAO,CAAC+Q,OAAR,GAAkBC,KAAK,CAACC,OAAN,CAAcjR,OAAO,CAAC+Q,OAAtB,IAAiC/Q,OAAO,CAAC+Q,OAAzC,GAAmD,EAArE;AACA/Q,IAAAA,OAAO,CAACkR,cAAR,GAAyBlR,OAAO,CAACkR,cAAR,IAA0B,EAAnD;AACA;AACA;;AACA;;AACAlR,IAAAA,OAAO,CAACmR,UAAR,GAAqB,CAAC,CAACnR,OAAO,CAACmR,UAA/B;AACAnR,IAAAA,OAAO,CAACoR,gBAAR,GAA2BJ,KAAK,CAACC,OAAN,CAAcjR,OAAO,CAACoR,gBAAtB,IAA0CpR,OAAO,CAACoR,gBAAlD,GAAqE,EAAhG;AACApR,IAAAA,OAAO,CAACqR,aAAR,GAAwBrR,OAAO,CAACqR,aAAR,KAA0B1F,SAA1B,GAAsC,IAAtC,GAA6C,CAAC,CAAC3L,OAAO,CAACqR,aAA/E;AACA;;AACArR,IAAAA,OAAO,CAACsR,YAAR,GAAuB,CAACtR,OAAO,CAACsR,YAAT,GAAwB,IAAxB,GAA+BtR,OAAO,CAACsR,YAA9D;AACA;;AACAtR,IAAAA,OAAO,CAACuR,SAAR,GAAoB,CAACvR,OAAO,CAACuR,SAAT,GAAqB,IAArB,GAA4BvR,OAAO,CAACuR,SAAxD;AACA;;AACAvR,IAAAA,OAAO,CAAC+B,WAAR,GAAsB,OAAO/B,OAAO,CAAC+B,WAAf,KAA+B,QAA/B,GAA0C/B,OAAO,CAAC+B,WAAlD,GAAgE,IAAtF;AACA/B,IAAAA,OAAO,CAACwR,eAAR,GAA0BxR,OAAO,CAACwR,eAAR,KAA4B7F,SAA5B,GAAwC,IAAxC,GAA+C,CAAC,CAAC3L,OAAO,CAACwR,eAAnF;AACA;;AACAxR,IAAAA,OAAO,CAACY,UAAR,GAAqB,CAAC,CAACZ,OAAO,CAACY,UAAV,GAAuBZ,OAAO,CAACY,UAA/B,GAA4C,CAC7D,CAAC,MAAD,EAAS,MAAT,CAD6D,EAE7D,CAAC,MAAD,EAAS,WAAT,EAAsB,QAAtB,EAAgC,QAAhC,EAA0C,WAA1C,EAAuD,aAAvD,CAF6D,EAG7D,CAAC,cAAD,CAH6D,EAI7D,CAAC,SAAD,EAAY,QAAZ,CAJ6D,EAK7D,CAAC,YAAD,EAAe,YAAf,EAA6B,UAA7B,CAL6D,EAM7D,CAAC,SAAD,EAAY,OAAZ,CAN6D,CAAjE;AASA;;AACA,QAAIZ,OAAO,CAACO,GAAZ,EAAiB;AACbP,MAAAA,OAAO,CAACY,UAAR,GAAqBZ,OAAO,CAACY,UAAR,CAAmB6Q,OAAnB,EAArB;AACH;AAED;AACA;;;AACAzR,IAAAA,OAAO,CAAC4C,KAAR,GAAiB,CAAC5C,OAAO,CAAC4C,KAAT,IAAkB,OAAO5C,OAAO,CAAC4C,KAAf,KAAyB,QAA5C,GAAwDjD,MAAxD,GAAiE,CAACA,MAAD,EAASK,OAAO,CAAC4C,KAAjB,EAAwBsC,MAAxB,CAA+B,UAAUkF,QAAV,EAAoBC,IAApB,EAA0B;AACtI,WAAK,IAAIjF,GAAT,IAAgBiF,IAAhB,EAAsB;AAClB,YAAIxK,IAAI,CAACwF,MAAL,CAAYgF,IAAZ,EAAkBjF,GAAlB,CAAJ,EAA4BgF,QAAQ,CAAChF,GAAD,CAAR,GAAgBiF,IAAI,CAACjF,GAAD,CAApB;AAC/B;;AACD,aAAOgF,QAAP;AACH,KALgF,EAK9E,EAL8E,CAAjF,CA/MsC,CAqNtC;;AACApK,IAAAA,OAAO,CAAC4C,KAAR,GAAgB,CAAC5C,OAAO,CAACO,GAAT,GAAeP,OAAO,CAAC4C,KAAvB,GAA+B,CAAC5C,OAAO,CAAC4C,KAAT,EAAgB5C,OAAO,CAAC4C,KAAR,CAAcrC,GAA9B,EAAmC2E,MAAnC,CAA0C,UAAUkF,QAAV,EAAoBC,IAApB,EAA0B;AAC/G,WAAK,IAAIjF,GAAT,IAAgBiF,IAAhB,EAAsB;AAClB,YAAIxK,IAAI,CAACwF,MAAL,CAAYgF,IAAZ,EAAkBjF,GAAlB,CAAJ,EAA4BgF,QAAQ,CAAChF,GAAD,CAAR,GAAgBiF,IAAI,CAACjF,GAAD,CAApB;AAC/B;;AACD,aAAOgF,QAAP;AACH,KAL8C,EAK5C,EAL4C,CAA/C;AAOA;AACA;;AACApK,IAAAA,OAAO,CAAC0R,iBAAR,GAA4B1R,OAAO,CAAC0R,iBAAR,IAA6B,CAAC,UAAD,EAAa,OAAb,EAAsB,YAAtB,EAAoC,YAApC,EAAkD,WAAlD,CAAzD;AAEA;;AACA1R,IAAAA,OAAO,CAAC0H,aAAR,GAAwB7H,IAAI,CAAC8R,sBAAL,CAA4B3R,OAA5B,EAAqCA,OAAO,CAACiN,YAA7C,CAAxB;AACH,GAnmBU;AAqmBXjC,EAAAA,aAAa,EAAE,UAAUL,SAAV,EAAqBiH,SAArB,EAAgC;AAC3C,QAAI,OAAOA,SAAP,KAAqB,QAAzB,EAAmC,OAAOjH,SAAP;AACnCiH,IAAAA,SAAS,GAAGA,SAAS,CAACC,KAAV,CAAgB,GAAhB,CAAZ;AACAlH,IAAAA,SAAS,GAAGA,SAAS,CAACkH,KAAV,CAAgB,GAAhB,CAAZ;;AACA,SAAK,IAAIvI,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGqI,SAAS,CAAC3I,MAA3B,EAAmC6I,KAAxC,EAA+CxI,CAAC,GAAGC,GAAnD,EAAwDD,CAAC,EAAzD,EAA6D;AACzDwI,MAAAA,KAAK,GAAGnH,SAAS,CAACoH,OAAV,CAAkBH,SAAS,CAACtI,CAAD,CAA3B,CAAR;AACA,UAAIwI,KAAK,GAAG,CAAC,CAAb,EAAgBnH,SAAS,CAACqH,MAAV,CAAiBF,KAAjB,EAAwB,CAAxB;AACnB;;AACD,WAAOnH,SAAS,CAACsH,IAAV,CAAe,GAAf,CAAP;AACH,GA9mBU;;AAgnBX;AACJ;AACA;AACA;AACA;AACIC,EAAAA,eAAe,EAAE,UAAUlS,OAAV,EAAmB;AAChC,UAAM4C,KAAK,GAAG5C,OAAO,CAAC4C,KAAtB;AACA,UAAMgE,IAAI,GAAG5G,OAAO,CAAC4G,IAArB;AACA,UAAMuL,GAAG,GAAGtS,IAAI,CAACuS,SAAL,GAAiB,GAAjB,GAAuB,MAAnC;AACA,UAAMC,QAAQ,GAAGxS,IAAI,CAACuS,SAAL,GAAiB,GAAjB,GAAuB,QAAxC;AACA,UAAMhB,gBAAgB,GAAG,CAACpR,OAAO,CAACqR,aAAT,GAAyB,CAAC,MAAD,EAAS,QAAT,EAAmB,WAAnB,EAAgC,QAAhC,EAA0C,MAA1C,EAAkD,QAAlD,EAA4D,MAA5D,CAAzB,GAA+FrR,OAAO,CAACoR,gBAAhI;AACA,UAAMkB,SAAS,GAAGtS,OAAO,CAACO,GAAR,GAAc,CAAC,GAAD,EAAK,GAAL,CAAd,GAA0B,CAAC,GAAD,EAAK,GAAL,CAA5C;AACA,UAAMgS,UAAU,GAAGvS,OAAO,CAACO,GAAR,GAAc,CAACqC,KAAK,CAAC4P,OAAP,EAAgB5P,KAAK,CAAC6P,MAAtB,CAAd,GAA8C,CAAC7P,KAAK,CAAC6P,MAAP,EAAe7P,KAAK,CAAC4P,OAArB,CAAjE;AAEA,WAAO;AACH;AACA1I,MAAAA,IAAI,EAAE,CAAC,EAAD,EAAKlD,IAAI,CAACC,OAAL,CAAaiD,IAAb,GAAoB,4BAApB,IAAoDsH,gBAAgB,CAACW,OAAjB,CAAyB,MAAzB,IAAmC,CAAC,CAApC,GAAwC,EAAxC,GAA6CI,GAAG,GAAG,yCAAvG,IAAoJ,SAAzJ,EAAoK,MAApK,EAA4K,EAA5K,EAAgLvP,KAAK,CAACkH,IAAtL,CAFH;AAGHC,MAAAA,SAAS,EAAE,CAAC,EAAD,EAAKnD,IAAI,CAACC,OAAL,CAAakD,SAAb,GAAyB,4BAAzB,IAAyDqH,gBAAgB,CAACW,OAAjB,CAAyB,WAAzB,IAAwC,CAAC,CAAzC,GAA6C,EAA7C,GAAkDI,GAAG,GAAG,yCAAjH,IAA8J,SAAnK,EAA8K,WAA9K,EAA2L,EAA3L,EAA+LvP,KAAK,CAACmH,SAArM,CAHR;AAIHC,MAAAA,MAAM,EAAE,CAAC,EAAD,EAAKpD,IAAI,CAACC,OAAL,CAAamD,MAAb,GAAsB,4BAAtB,IAAsDoH,gBAAgB,CAACW,OAAjB,CAAyB,QAAzB,IAAqC,CAAC,CAAtC,GAA0C,EAA1C,GAA+CI,GAAG,GAAG,yCAA3G,IAAwJ,SAA7J,EAAwK,QAAxK,EAAkL,EAAlL,EAAsLvP,KAAK,CAACoH,MAA5L,CAJL;AAKHC,MAAAA,MAAM,EAAE,CAAC,EAAD,EAAKrD,IAAI,CAACC,OAAL,CAAaoD,MAAb,GAAsB,4BAAtB,IAAsDmH,gBAAgB,CAACW,OAAjB,CAAyB,QAAzB,IAAqC,CAAC,CAAtC,GAA0C,EAA1C,GAA+CI,GAAG,GAAGE,QAAN,GAAiB,yCAAtH,IAAmK,SAAxK,EAAmL,QAAnL,EAA6L,EAA7L,EAAiMzP,KAAK,CAACqH,MAAvM,CALL;AAMHQ,MAAAA,SAAS,EAAE,CAAC,EAAD,EAAK7D,IAAI,CAACC,OAAL,CAAa4D,SAAlB,EAA6B,KAA7B,EAAoC,EAApC,EAAwC7H,KAAK,CAAC6H,SAA9C,CANR;AAOHC,MAAAA,WAAW,EAAE,CAAC,EAAD,EAAK9D,IAAI,CAACC,OAAL,CAAa6D,WAAlB,EAA+B,KAA/B,EAAsC,EAAtC,EAA0C9H,KAAK,CAAC8H,WAAhD,CAPV;AAQHgI,MAAAA,YAAY,EAAE,CAAC,EAAD,EAAK9L,IAAI,CAACC,OAAL,CAAa6L,YAAlB,EAAgC,cAAhC,EAAgD,EAAhD,EAAoD9P,KAAK,CAAC+P,KAA1D,CARX;AASHF,MAAAA,MAAM,EAAE,CAAC,EAAD,EAAK7L,IAAI,CAACC,OAAL,CAAa4L,MAAb,GAAsB,4BAAtB,IAAsDrB,gBAAgB,CAACW,OAAjB,CAAyB,QAAzB,IAAqC,CAAC,CAAtC,GAA0C,EAA1C,GAA+CI,GAAG,GAAG,iCAAN,GAA0CG,SAAS,CAAC,CAAD,CAAnD,GAAyD,SAA9J,IAA2K,SAAhL,EAA2L,QAA3L,EAAqM,EAArM,EAAyMC,UAAU,CAAC,CAAD,CAAnN,CATL;AAUHC,MAAAA,OAAO,EAAE,CAAC,EAAD,EAAK5L,IAAI,CAACC,OAAL,CAAa2L,OAAb,GAAuB,4BAAvB,IAAuDpB,gBAAgB,CAACW,OAAjB,CAAyB,QAAzB,IAAqC,CAAC,CAAtC,GAA0C,EAA1C,GAA+CI,GAAG,GAAG,iCAAN,GAA0CG,SAAS,CAAC,CAAD,CAAnD,GAAyD,SAA/J,IAA4K,SAAjL,EAA4L,SAA5L,EAAuM,EAAvM,EAA2MC,UAAU,CAAC,CAAD,CAArN,CAVN;AAWHK,MAAAA,UAAU,EAAE,CAAC,0CAAD,EAA6ChM,IAAI,CAACC,OAAL,CAAa+L,UAA1D,EAAsE,YAAtE,EAAoF,EAApF,EAAwFhQ,KAAK,CAACiQ,SAA9F,CAXT;AAYHC,MAAAA,UAAU,EAAE,CAAC,EAAD,EAAKlM,IAAI,CAACC,OAAL,CAAaiM,UAAlB,EAA8B,YAA9B,EAA4C,EAA5C,EAAgDlQ,KAAK,CAACmQ,WAAtD,CAZT;AAaH9Q,MAAAA,QAAQ,EAAE,CAAC,0CAAD,EAA6C2E,IAAI,CAACC,OAAL,CAAa5E,QAA1D,EAAoE,UAApE,EAAgF,EAAhF,EAAoFW,KAAK,CAACoQ,SAA1F,CAbP;AAcHC,MAAAA,IAAI,EAAE,CAAC,EAAD,EAAKrM,IAAI,CAACC,OAAL,CAAaoM,IAAb,GAAoB,4BAApB,IAAoD7B,gBAAgB,CAACW,OAAjB,CAAyB,MAAzB,IAAmC,CAAC,CAApC,GAAwC,EAAxC,GAA6CI,GAAG,GAAG,yCAAvG,IAAoJ,SAAzJ,EAAoK,MAApK,EAA4K,EAA5K,EAAgLvP,KAAK,CAACqQ,IAAtL,CAdH;AAeHC,MAAAA,IAAI,EAAE,CAAC,EAAD,EAAKtM,IAAI,CAACC,OAAL,CAAaqM,IAAb,GAAoB,4BAApB,IAAoD9B,gBAAgB,CAACW,OAAjB,CAAyB,MAAzB,IAAmC,CAAC,CAApC,GAAwC,EAAxC,GAA6CI,GAAG,GAAG,4CAAN,GAAqDA,GAArD,GAA2DE,QAA3D,GAAsE,yCAAvK,IAAoN,SAAzN,EAAoO,MAApO,EAA4O,EAA5O,EAAgPzP,KAAK,CAACsQ,IAAtP,CAfH;AAgBHC,MAAAA,OAAO,EAAE,CAAC,qBAAD,EAAwBvM,IAAI,CAACC,OAAL,CAAasM,OAArC,EAA8C,SAA9C,EAAyD,EAAzD,EAA6DvQ,KAAK,CAACuQ,OAAnE,CAhBN;AAiBHC,MAAAA,KAAK,EAAE,CAAC,qBAAD,EAAwBxM,IAAI,CAACC,OAAL,CAAauM,KAArC,EAA4C,OAA5C,EAAqD,EAArD,EAAyDxQ,KAAK,CAACwQ,KAA/D,CAjBJ;AAkBHC,MAAAA,GAAG,EAAE,CAAC,EAAD,EAAKzM,IAAI,CAACC,OAAL,CAAa7G,OAAO,CAACO,GAAR,GAAc,SAAd,GAA0B,SAAvC,CAAL,EAAwD,KAAxD,EAA+D,EAA/D,EAAoEqC,KAAK,CAAC5C,OAAO,CAACO,GAAR,GAAc,SAAd,GAA0B,SAA3B,CAAzE,CAlBF;AAmBH+S,MAAAA,OAAO,EAAE,CAAC,EAAD,EAAK1M,IAAI,CAACC,OAAL,CAAayM,OAAlB,EAA2B,SAA3B,EAAsC,EAAtC,EAA2C1Q,KAAK,CAAC0Q,OAAjD,CAnBN;AAoBHC,MAAAA,OAAO,EAAE,CAAC,EAAD,EAAK3M,IAAI,CAACC,OAAL,CAAa0M,OAAlB,EAA2B,SAA3B,EAAsC,EAAtC,EAA2C3Q,KAAK,CAAC2Q,OAAjD,CApBN;AAqBHC,MAAAA,IAAI,EAAE,CAAC,qBAAD,EAAwB5M,IAAI,CAACC,OAAL,CAAa2M,IAAb,GAAoB,4BAApB,IAAoDpC,gBAAgB,CAACW,OAAjB,CAAyB,MAAzB,IAAmC,CAAC,CAApC,GAAwC,EAAxC,GAA6CI,GAAG,GAAG,yCAAvG,IAAoJ,SAA5K,EAAuL,MAAvL,EAA+L,EAA/L,EAAmMvP,KAAK,CAAC4Q,IAAzM,CArBH;;AAsBH;AACAC,MAAAA,UAAU,EAAE,CAAC,EAAD,EAAK7M,IAAI,CAACC,OAAL,CAAa6M,cAAlB,EAAkC,YAAlC,EAAgD,SAAhD,EAA2D9Q,KAAK,CAAC6Q,UAAjE,CAvBT;;AAwBH;AACAvG,MAAAA,IAAI,EAAE,CAAC,gCAAD,EAAmCtG,IAAI,CAACC,OAAL,CAAaqG,IAAhD,EAAsD,MAAtD,EAA8D,SAA9D,EAAyE,uBAAuBtG,IAAI,CAACC,OAAL,CAAaqG,IAApC,GAA2C,SAA3C,GAAuDtK,KAAK,CAAC+Q,UAAtI,CAzBH;AA0BHC,MAAAA,WAAW,EAAE,CAAC,kCAAD,EAAqChN,IAAI,CAACC,OAAL,CAAauG,OAAlD,EAA2D,aAA3D,EAA0E,SAA1E,EAAqF,uBAAuBxG,IAAI,CAACC,OAAL,CAAauG,OAApC,GAA8C,SAA9C,GAA0DxK,KAAK,CAAC+Q,UAArJ,CA1BV;AA2BHxG,MAAAA,QAAQ,EAAE,CAAC,gCAAD,EAAmCvG,IAAI,CAACC,OAAL,CAAasG,QAAhD,EAA0D,UAA1D,EAAsE,SAAtE,EAAiF,uBAAuBvG,IAAI,CAACC,OAAL,CAAasG,QAApC,GAA+C,SAA/C,GAA2DvK,KAAK,CAAC+Q,UAAlJ,CA3BP;AA4BHE,MAAAA,SAAS,EAAE,CAAC,EAAD,EAAKjN,IAAI,CAACC,OAAL,CAAagN,SAAlB,EAA6B,WAA7B,EAA0C,SAA1C,EAAqDjR,KAAK,CAACkR,UAA3D,CA5BR;AA6BHC,MAAAA,WAAW,EAAE,CAAC,EAAD,EAAKnN,IAAI,CAACC,OAAL,CAAakN,WAAlB,EAA+B,aAA/B,EAA8C,SAA9C,EAAyDnR,KAAK,CAACoR,eAA/D,CA7BV;AA8BHC,MAAAA,KAAK,EAAE,CAAC,cAAD,EAAiBrN,IAAI,CAACC,OAAL,CAAaoN,KAA9B,EAAqC,OAArC,EAA8C,SAA9C,EAA0DjU,OAAO,CAACO,GAAR,GAAcqC,KAAK,CAACsR,WAApB,GAAkCtR,KAAK,CAACuR,UAAlG,CA9BJ;AA+BHC,MAAAA,IAAI,EAAE,CAAC,EAAD,EAAKxN,IAAI,CAACC,OAAL,CAAauN,IAAlB,EAAwB,MAAxB,EAAgC,SAAhC,EAA2CxR,KAAK,CAACyR,WAAjD,CA/BH;AAgCHC,MAAAA,cAAc,EAAE,CAAC,UAAD,EAAa1N,IAAI,CAACC,OAAL,CAAayN,cAA1B,EAA0C,gBAA1C,EAA4D,SAA5D,EAAuE1R,KAAK,CAAC2R,eAA7E,CAhCb;AAiCHC,MAAAA,KAAK,EAAE,CAAC,EAAD,EAAK5N,IAAI,CAACC,OAAL,CAAa2N,KAAlB,EAAyB,OAAzB,EAAkC,SAAlC,EAA6C5R,KAAK,CAAC4R,KAAnD,CAjCJ;AAkCHC,MAAAA,UAAU,EAAE,CAAC,EAAD,EAAK7N,IAAI,CAACC,OAAL,CAAa4N,UAAlB,EAA8B,YAA9B,EAA4C,SAA5C,EAAuD7R,KAAK,CAAC8R,WAA7D,CAlCT;AAmCHC,MAAAA,QAAQ,EAAE,CAAC,EAAD,EAAK/N,IAAI,CAACC,OAAL,CAAa8N,QAAlB,EAA4B,UAA5B,EAAwC,SAAxC,EAAmD/R,KAAK,CAAC+R,QAAzD,CAnCP;AAoCHC,MAAAA,cAAc,EAAE,CAAC,EAAD,EAAKhO,IAAI,CAACC,OAAL,CAAa+N,cAAlB,EAAkC,gBAAlC,EAAoD,SAApD,EAA+DhS,KAAK,CAACiS,eAArE,CApCb;AAqCHC,MAAAA,SAAS,EAAE,CAAC,EAAD,EAAKlO,IAAI,CAACC,OAAL,CAAaiO,SAAlB,EAA6B,WAA7B,EAA0C,SAA1C,EAAqDlS,KAAK,CAACmS,UAA3D,CArCR;;AAsCH;AACAC,MAAAA,IAAI,EAAE,CAAC,EAAD,EAAKpO,IAAI,CAACC,OAAL,CAAamO,IAAlB,EAAwB,MAAxB,EAAgC,QAAhC,EAA0CpS,KAAK,CAACoS,IAAhD,CAvCH;AAwCHC,MAAAA,KAAK,EAAE,CAAC,EAAD,EAAKrO,IAAI,CAACC,OAAL,CAAaoO,KAAlB,EAAyB,OAAzB,EAAkC,QAAlC,EAA4CrS,KAAK,CAACqS,KAAlD,CAxCJ;AAyCHC,MAAAA,KAAK,EAAE,CAAC,EAAD,EAAKtO,IAAI,CAACC,OAAL,CAAaqO,KAAlB,EAAyB,OAAzB,EAAkC,QAAlC,EAA4CtS,KAAK,CAACsS,KAAlD,CAzCJ;AA0CHC,MAAAA,KAAK,EAAE,CAAC,EAAD,EAAKvO,IAAI,CAACC,OAAL,CAAasO,KAAlB,EAAyB,OAAzB,EAAkC,QAAlC,EAA4CvS,KAAK,CAACuS,KAAlD,CA1CJ;AA2CHhU,MAAAA,IAAI,EAAE,CAAC,EAAD,EAAKyF,IAAI,CAACC,OAAL,CAAa1F,IAAlB,EAAwB,MAAxB,EAAgC,QAAhC,EAA0CyB,KAAK,CAACzB,IAAhD,CA3CH;;AA4CH;AACAiU,MAAAA,YAAY,EAAE,CAAC,EAAD,EAAKxO,IAAI,CAACC,OAAL,CAAauO,YAAlB,EAAgC,cAAhC,EAAgD,aAAhD,EAA+DxS,KAAK,CAACyS,aAArE;AA7CX,KAAP;AA+CH,GA7qBU;;AA+qBX;AACJ;AACA;AACA;AACA;AACIC,EAAAA,kBAAkB,EAAE,YAAY;AAC5B,UAAMC,IAAI,GAAG1V,IAAI,CAACQ,aAAL,CAAmB,KAAnB,CAAb;AACAkV,IAAAA,IAAI,CAACjV,SAAL,GAAiB,oCAAjB;AAEA,UAAMkV,GAAG,GAAG3V,IAAI,CAACQ,aAAL,CAAmB,IAAnB,CAAZ;AACAmV,IAAAA,GAAG,CAAClV,SAAJ,GAAgB,cAAhB;AACAiV,IAAAA,IAAI,CAACrS,WAAL,CAAiBsS,GAAjB;AAEA,WAAO;AACH,aAAOD,IADJ;AAEH,YAAMC;AAFH,KAAP;AAIH,GAhsBU;;AAksBX;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIC,EAAAA,aAAa,EAAE,UAAUC,WAAV,EAAuBC,KAAvB,EAA8BC,WAA9B,EAA2CC,WAA3C,EAAwDnT,SAAxD,EAAmEoT,SAAnE,EAA8EnW,MAA9E,EAAsF;AACjG,UAAMoW,GAAG,GAAGlW,IAAI,CAACQ,aAAL,CAAmB,IAAnB,CAAZ;AACA,UAAM2V,OAAO,GAAGnW,IAAI,CAACQ,aAAL,CAAmB,QAAnB,CAAhB;AACA,UAAM4V,KAAK,GAAIN,KAAK,IAAIC,WAAxB;AAEAI,IAAAA,OAAO,CAAC/N,YAAR,CAAqB,MAArB,EAA6B,QAA7B;AACA+N,IAAAA,OAAO,CAAC/N,YAAR,CAAqB,OAArB,EAA8B,YAAYyN,WAAW,GAAG,MAAMA,WAAT,GAAuB,EAA9C,IAAoD,aAAlF;AACAM,IAAAA,OAAO,CAAC/N,YAAR,CAAqB,cAArB,EAAqC2N,WAArC;AACAI,IAAAA,OAAO,CAAC/N,YAAR,CAAqB,cAArB,EAAqC4N,WAArC;AACAG,IAAAA,OAAO,CAAC/N,YAAR,CAAqB,YAArB,EAAmCgO,KAAK,CAACzG,OAAN,CAAc,kBAAd,EAAkC,EAAlC,CAAnC;AACAwG,IAAAA,OAAO,CAAC/N,YAAR,CAAqB,UAArB,EAAiC,IAAjC;AAEA,QAAI,CAACvF,SAAL,EAAgBA,SAAS,GAAG,qCAAZ;;AAChB,QAAI,cAAckF,IAAd,CAAmBlF,SAAnB,CAAJ,EAAmC;AAC/BA,MAAAA,SAAS,GAAG/C,MAAM,CAAC+C,SAAS,CAAC8M,OAAV,CAAkB,aAAlB,EAAiC,EAAjC,CAAD,CAAlB;AACH;;AACD,QAAI,WAAW5H,IAAX,CAAgBlF,SAAhB,CAAJ,EAAgC;AAC5BA,MAAAA,SAAS,GAAGA,SAAS,CAAC8M,OAAV,CAAkB,UAAlB,EAA8B,EAA9B,CAAZ;AACAwG,MAAAA,OAAO,CAAC1V,SAAR,IAAqB,mBAArB;AACH;;AAEDoC,IAAAA,SAAS,IAAI,kEAAkEuT,KAAlE,GAA0E,gBAAvF;AAEA,QAAIH,SAAJ,EAAeE,OAAO,CAAC/N,YAAR,CAAqB,UAArB,EAAiC,IAAjC;AAEf+N,IAAAA,OAAO,CAACtT,SAAR,GAAoBA,SAApB;AACAqT,IAAAA,GAAG,CAAC7S,WAAJ,CAAgB8S,OAAhB;AAEA,WAAO;AACH,YAAMD,GADH;AAEH,gBAAUC;AAFP,KAAP;AAIH,GA9uBU;;AAgvBX;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIrV,EAAAA,cAAc,EAAE,UAAUV,GAAV,EAAeW,UAAf,EAA2BC,OAA3B,EAAoCb,OAApC,EAA6C;AACzD,UAAMkW,kBAAkB,GAAGjW,GAAG,CAACI,aAAJ,CAAkB,KAAlB,CAA3B;AACA6V,IAAAA,kBAAkB,CAAC5V,SAAnB,GAA+B,+BAA/B;AAEA,UAAMI,QAAQ,GAAGT,GAAG,CAACI,aAAJ,CAAkB,KAAlB,CAAjB;AACAK,IAAAA,QAAQ,CAACJ,SAAT,GAAqB,8BAArB;;AAEA,UAAM6V,WAAW,GAAGlW,GAAG,CAACI,aAAJ,CAAkB,KAAlB,CAApB;;AACA8V,IAAAA,WAAW,CAAC7V,SAAZ,GAAwB,aAAxB;AACAI,IAAAA,QAAQ,CAACwC,WAAT,CAAqBiT,WAArB;AAEA;;AACAvV,IAAAA,UAAU,GAAGwV,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe1V,UAAf,CAAX,CAAb;AACA,UAAMgC,KAAK,GAAG5C,OAAO,CAAC4C,KAAtB;;AACA,UAAM2T,iBAAiB,GAAG,KAAKrE,eAAL,CAAqBlS,OAArB,CAA1B;;AACA,UAAMkB,iBAAiB,GAAG,EAA1B;AACA,UAAMyD,iBAAiB,GAAG,EAA1B;AAEA,QAAI6R,MAAM,GAAG,IAAb;AACA,QAAIC,MAAM,GAAG,IAAb;AACA,QAAIC,aAAa,GAAG,IAApB;AACA,QAAIC,aAAa,GAAG,IAApB;AACA,QAAIC,UAAU,GAAG,EAAjB;AACA,QAAIC,QAAQ,GAAG,KAAf;AACA,UAAMC,SAAS,GAAGjX,IAAI,CAACQ,aAAL,CAAmB,KAAnB,CAAlB;AACAyW,IAAAA,SAAS,CAACxW,SAAV,GAAsB,uBAAtB;;AAEAyW,IAAAA,eAAe,EACf,KAAK,IAAIzN,CAAC,GAAG,CAAR,EAAW0N,IAAX,EAAiBC,aAAjB,EAAgCC,WAAhC,EAA6CC,WAA7C,EAA0DlD,KAA/D,EAAsE3K,CAAC,GAAG1I,UAAU,CAACqI,MAArF,EAA6FK,CAAC,EAA9F,EAAkG;AAC9F0N,MAAAA,IAAI,GAAG,KAAP;AACA/C,MAAAA,KAAK,GAAG,EAAR;AACAkD,MAAAA,WAAW,GAAGvW,UAAU,CAAC0I,CAAD,CAAxB;AACAoN,MAAAA,aAAa,GAAG,KAAKpB,kBAAL,EAAhB,CAJ8F,CAM9F;;AACA,UAAI,OAAO6B,WAAP,KAAuB,QAA3B,EAAqC;AACjC;AACA,aAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,UAAhB,EAA4BD,CAAC,GAAGD,WAAW,CAAClO,MAA5C,EAAoDmO,CAAC,EAArD,EAAyD;AACrDX,UAAAA,MAAM,GAAGU,WAAW,CAACC,CAAD,CAApB;AACAC,UAAAA,UAAU,GAAG,KAAb;;AAEA,cAAI,SAASzP,IAAT,CAAc6O,MAAd,KAAyBW,CAAC,KAAK,CAAnC,EAAsC;AAClCD,YAAAA,WAAW,CAAC,CAAD,CAAX,GAAiBV,MAAM,CAACjH,OAAP,CAAe,QAAf,EAAyB,EAAzB,CAAjB;AACA7K,YAAAA,iBAAiB,CAAC2S,IAAlB,CAAuBH,WAAvB;AACAvW,YAAAA,UAAU,CAACoR,MAAX,CAAkB1I,CAAC,EAAnB,EAAuB,CAAvB;AACA,qBAASyN,eAAT;AACH;;AAED,cAAI,OAAON,MAAP,KAAkB,QAAtB,EAAgC;AAC5B,gBAAI,OAAOA,MAAM,CAACc,GAAd,KAAsB,UAA1B,EAAsC;AAClCX,cAAAA,UAAU,GAAGH,MAAM,CAACpN,IAApB;AACAmN,cAAAA,MAAM,GAAGD,iBAAiB,CAACK,UAAD,CAA1B;AACA/V,cAAAA,OAAO,CAAC+V,UAAD,CAAP,GAAsBH,MAAtB;AACH,aAJD,MAIO;AACHG,cAAAA,UAAU,GAAGH,MAAM,CAACpN,IAApB;AACAmN,cAAAA,MAAM,GAAG,CAACC,MAAM,CAACf,WAAR,EAAqBe,MAAM,CAACd,KAA5B,EAAmCc,MAAM,CAACpN,IAA1C,EAAgDoN,MAAM,CAACZ,WAAvD,EAAoEY,MAAM,CAAC/T,SAA3E,EAAsF+T,MAAM,CAACX,SAA7F,CAAT;AACH;AACJ,WATD,MASO;AACH;AACA,gBAAI,MAAMlO,IAAN,CAAW6O,MAAX,CAAJ,EAAwB;AACpBxC,cAAAA,KAAK,GAAGwC,MAAM,CAACe,MAAP,CAAc,CAAd,CAAR;AACAd,cAAAA,aAAa,CAACe,GAAd,CAAkBnX,SAAlB,IAA+B,mBAAmB2T,KAAlD;AACA;AACH,aANE,CAQH;;;AACA,gBAAI,MAAMrM,IAAN,CAAW6O,MAAX,CAAJ,EAAwB;AACpB,oBAAMtR,MAAM,GAAGsR,MAAM,CAACe,MAAP,CAAc,CAAd,CAAf;AACA,kBAAIrS,MAAM,KAAK,KAAf,EAAsBuR,aAAa,CAACgB,EAAd,CAAiBpX,SAAjB,IAA8B,kBAA9B;AACtB;AACH,aAbE,CAeH;;;AACA,gBAAI,MAAMsH,IAAN,CAAW6O,MAAX,CAAJ,EAAwB;AACpBY,cAAAA,UAAU,GAAG,IAAb;AACA,oBAAMM,OAAO,GAAGlB,MAAM,CAACmB,KAAP,CAAa,iCAAb,CAAhB;AACAV,cAAAA,WAAW,GAAG,WAAWS,OAAO,CAAC,CAAD,CAAP,CAAWjL,IAAX,EAAzB;AACA,oBAAMiJ,KAAK,GAAGgC,OAAO,CAAC,CAAD,CAAP,CAAWjL,IAAX,EAAd;AACA,oBAAMhK,SAAS,GAAGiV,OAAO,CAAC,CAAD,CAAP,CAAWjL,IAAX,EAAlB;AACA8J,cAAAA,MAAM,GAAG,CAAC,aAAD,EAAgBb,KAAhB,EAAuBuB,WAAvB,EAAoC,MAApC,EAA4CxU,SAA5C,CAAT;AACH,aAPD,CAQA;AARA,iBASK;AACD8T,cAAAA,MAAM,GAAGD,iBAAiB,CAACE,MAAD,CAA1B;AACH;;AAEDG,YAAAA,UAAU,GAAGH,MAAb;;AACA,gBAAI,CAACD,MAAL,EAAa;AACT,oBAAMqB,MAAM,GAAGhX,OAAO,CAAC+V,UAAD,CAAtB;AACA,kBAAI,CAACiB,MAAL,EAAa,MAAM7R,KAAK,CAAC,uFAAuF4Q,UAAvF,GAAoG,GAArG,CAAX;AACbJ,cAAAA,MAAM,GAAG,CAACqB,MAAM,CAACnC,WAAR,EAAqBmC,MAAM,CAAClC,KAA5B,EAAmCkC,MAAM,CAACxO,IAA1C,EAAgDwO,MAAM,CAACjS,OAAvD,EAAgEiS,MAAM,CAACnV,SAAvE,EAAkFmV,MAAM,CAAC/B,SAAzF,CAAT;AACH;AACJ;;AAEDa,UAAAA,aAAa,GAAG,KAAKlB,aAAL,CAAmBe,MAAM,CAAC,CAAD,CAAzB,EAA8BA,MAAM,CAAC,CAAD,CAApC,EAAyCA,MAAM,CAAC,CAAD,CAA/C,EAAoDA,MAAM,CAAC,CAAD,CAA1D,EAA+DA,MAAM,CAAC,CAAD,CAArE,EAA0EA,MAAM,CAAC,CAAD,CAAhF,EAAqF5T,KAArF,CAAhB;AACA,WAACoU,IAAI,GAAGC,aAAH,GAAmBP,aAAa,CAACgB,EAAtC,EAA0CxU,WAA1C,CAAsDyT,aAAa,CAACmB,EAApE;;AAEA,cAAIjX,OAAO,CAAC+V,UAAD,CAAX,EAAyB;AACrB1V,YAAAA,iBAAiB,CAAC0V,UAAD,CAAjB,GAAgCD,aAAa,CAACF,MAA9C;AACH,WA9DoD,CAgErD;;;AACA,cAAIY,UAAJ,EAAgB;AACZL,YAAAA,IAAI,GAAG,IAAP;AACAC,YAAAA,aAAa,GAAGpX,IAAI,CAACQ,aAAL,CAAmB,KAAnB,CAAhB;AACA4W,YAAAA,aAAa,CAAC3W,SAAd,GAA0B,mBAAmB4W,WAA7C;AACAD,YAAAA,aAAa,CAACvU,SAAd,GAA0B,wDAAwDuR,KAAK,GAAG,oBAAoBA,KAApB,GAA4B,IAA/B,GAAsC,EAAnG,IAAyG,cAAnI;AACA6C,YAAAA,SAAS,CAAC5T,WAAV,CAAsB+T,aAAtB;AACAA,YAAAA,aAAa,GAAGA,aAAa,CAACc,iBAAd,CAAgCA,iBAAhD;AACH;AACJ;;AAED,YAAIlB,QAAJ,EAAc;AACV,gBAAMmB,EAAE,GAAI9B,kBAAkB,CAACnV,SAAnB,CAA6B,KAA7B,CAAZ;;AACAoV,UAAAA,WAAW,CAACjT,WAAZ,CAAwB8U,EAAxB;AACH;;AAED7B,QAAAA,WAAW,CAACjT,WAAZ,CAAwBwT,aAAa,CAACe,GAAtC;;AACAZ,QAAAA,QAAQ,GAAG,IAAX;AACH;AACD;AArFA,WAsFK,IAAI,OAAOjP,IAAP,CAAYuP,WAAZ,CAAJ,EAA8B;AAC/B,cAAMc,QAAQ,GAAGhY,GAAG,CAACI,aAAJ,CAAkB,KAAlB,CAAjB;AACA4X,QAAAA,QAAQ,CAAC3X,SAAT,GAAqB,qBAArB;;AACA6V,QAAAA,WAAW,CAACjT,WAAZ,CAAwB+U,QAAxB;;AACApB,QAAAA,QAAQ,GAAG,KAAX;AACH;AACJ;;AAED,YAAQV,WAAW,CAAC+B,QAAZ,CAAqBjP,MAA7B;AACI,WAAK,CAAL;AACIkN,QAAAA,WAAW,CAACnV,KAAZ,CAAkB4E,OAAlB,GAA4B,MAA5B;AACA;;AACJ,WAAK,CAAL;AACI/F,QAAAA,IAAI,CAACwH,WAAL,CAAiB8O,WAAW,CAAC4B,iBAA7B,EAAgD,sBAAhD;AACA;;AACJ;AACI,YAAI/X,OAAO,CAACO,GAAZ,EAAiB;AACb,gBAAMyX,EAAE,GAAI9B,kBAAkB,CAACnV,SAAnB,CAA6B,KAA7B,CAAZ;AACAiX,UAAAA,EAAE,CAAChX,KAAH,CAASmX,KAAT,GAAiBhC,WAAW,CAACiC,gBAAZ,CAA6BpX,KAA7B,CAAmCmX,KAApD;;AACAhC,UAAAA,WAAW,CAACjT,WAAZ,CAAwB8U,EAAxB;AACH;;AAZT;;AAeA,QAAIrT,iBAAiB,CAACsE,MAAlB,GAA2B,CAA/B,EAAkCtE,iBAAiB,CAAC0T,OAAlB,CAA0BzX,UAA1B;AAClC,QAAIkW,SAAS,CAACoB,QAAV,CAAmBjP,MAAnB,GAA4B,CAAhC,EAAmCkN,WAAW,CAACjT,WAAZ,CAAwB4T,SAAxB,EAjJsB,CAmJzD;;AACA,UAAMpT,SAAS,GAAGzD,GAAG,CAACI,aAAJ,CAAkB,KAAlB,CAAlB;;AACAqD,IAAAA,SAAS,CAACpD,SAAV,GAAsB,cAAtB;AACAI,IAAAA,QAAQ,CAACwC,WAAT,CAAqBQ,SAArB,EAtJyD,CAwJzD;;AACA,UAAM4U,UAAU,GAAGrY,GAAG,CAACI,aAAJ,CAAkB,KAAlB,CAAnB;AACAiY,IAAAA,UAAU,CAAChY,SAAX,GAAuB,kBAAvB;AACAI,IAAAA,QAAQ,CAACwC,WAAT,CAAqBoV,UAArB;AAEA,QAAItY,OAAO,CAAC6L,WAAZ,EAAyBnL,QAAQ,CAACM,KAAT,CAAe4E,OAAf,GAAyB,MAAzB;AAEzB,WAAO;AACH,iBAAWlF,QADR;AAEH,iBAAWG,OAFR;AAGH,2BAAqBK,iBAHlB;AAIH,2BAAqByD,iBAJlB;AAKH,mBAAajB,SALV;AAMH,qBAAeyS;AANZ,KAAP;AAQH;AAh6BU,CAAf","sourcesContent":["/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nimport _icons from '../assets/defaultIcons';\r\nimport _defaultLang from '../lang/en';\r\nimport util from './util';\r\n\r\nexport default {\r\n    /**\r\n     * @description document create\r\n     * @param {Element} element Textarea\r\n     * @param {Object} options Options\r\n     * @returns {Object}\r\n     */\r\n    init: function (element, options) {\r\n        if (typeof options !== 'object') options = {};\r\n\r\n        const doc = document;\r\n\r\n        /** --- init options --- */\r\n        this._initOptions(element, options);\r\n    \r\n        // suneditor div\r\n        const top_div = doc.createElement('DIV');\r\n        top_div.className = 'sun-editor' + (options.rtl ? ' se-rtl' : '');\r\n        if (element.id) top_div.id = 'suneditor_' + element.id;\r\n    \r\n        // relative div\r\n        const relative = doc.createElement('DIV');\r\n        relative.className = 'se-container';\r\n    \r\n        // toolbar\r\n        const tool_bar = this._createToolBar(doc, options.buttonList, options.plugins, options);\r\n        const toolbarShadow = tool_bar.element.cloneNode(false);\r\n        toolbarShadow.className += ' se-toolbar-shadow';\r\n        tool_bar.element.style.visibility = 'hidden';\r\n        if (tool_bar.pluginCallButtons.math) this._checkKatexMath(options.katex);\r\n        const arrow = doc.createElement('DIV');\r\n        arrow.className = 'se-arrow';\r\n\r\n        // sticky toolbar dummy\r\n        const sticky_dummy = doc.createElement('DIV');\r\n        sticky_dummy.className = 'se-toolbar-sticky-dummy';\r\n    \r\n        // inner editor div\r\n        const editor_div = doc.createElement('DIV');\r\n        editor_div.className = 'se-wrapper';\r\n\r\n        /** --- init elements and create bottom bar --- */\r\n        const initElements = this._initElements(options, top_div, tool_bar.element, arrow);\r\n\r\n        const bottomBar = initElements.bottomBar;\r\n        const wysiwyg_div = initElements.wysiwygFrame;\r\n        const placeholder_span = initElements.placeholder;\r\n        let textarea = initElements.codeView;\r\n\r\n        // resizing bar\r\n        const resizing_bar = bottomBar.resizingBar;\r\n        const navigation = bottomBar.navigation;\r\n        const char_wrapper = bottomBar.charWrapper;\r\n        const char_counter = bottomBar.charCounter;\r\n    \r\n        // loading box\r\n        const loading_box = doc.createElement('DIV');\r\n        loading_box.className = 'se-loading-box sun-editor-common';\r\n        loading_box.innerHTML = '<div class=\"se-loading-effect\"></div>';\r\n\r\n        // enter line\r\n        const line_breaker = doc.createElement('DIV');\r\n        line_breaker.className = 'se-line-breaker';\r\n        line_breaker.innerHTML = '<button class=\"se-btn\">' + options.icons.line_break + '</button>';\r\n        const line_breaker_t = doc.createElement('DIV');\r\n        line_breaker_t.className += 'se-line-breaker-component';\r\n        const line_breaker_b = line_breaker_t.cloneNode(true);\r\n        line_breaker_t.innerHTML = line_breaker_b.innerHTML = options.icons.line_break;\r\n    \r\n        // resize operation background\r\n        const resize_back = doc.createElement('DIV');\r\n        resize_back.className = 'se-resizing-back';\r\n\r\n        // toolbar container\r\n        const toolbarContainer = options.toolbarContainer;\r\n        if (toolbarContainer) {\r\n            toolbarContainer.appendChild(tool_bar.element);\r\n            toolbarContainer.appendChild(toolbarShadow);\r\n        }\r\n\r\n        // resizingbar\r\n        const resizingBarContainer = options.resizingBarContainer;\r\n        if (resizing_bar && resizingBarContainer) resizingBarContainer.appendChild(resizing_bar);\r\n    \r\n        /** append html */\r\n        editor_div.appendChild(textarea);\r\n        if (placeholder_span) editor_div.appendChild(placeholder_span);\r\n        if (!toolbarContainer) {\r\n            relative.appendChild(tool_bar.element);\r\n            relative.appendChild(toolbarShadow);\r\n        }\r\n        relative.appendChild(sticky_dummy);\r\n        relative.appendChild(editor_div);\r\n        relative.appendChild(resize_back);\r\n        relative.appendChild(loading_box);\r\n        relative.appendChild(line_breaker);\r\n        relative.appendChild(line_breaker_t);\r\n        relative.appendChild(line_breaker_b);\r\n        if (resizing_bar && !resizingBarContainer) relative.appendChild(resizing_bar);\r\n        top_div.appendChild(relative);\r\n\r\n        textarea = this._checkCodeMirror(options, textarea);\r\n    \r\n        return {\r\n            constructed: {\r\n                _top: top_div,\r\n                _relative: relative,\r\n                _toolBar: tool_bar.element,\r\n                _toolbarShadow: toolbarShadow,\r\n                _menuTray: tool_bar._menuTray,\r\n                _editorArea: editor_div,\r\n                _wysiwygArea: wysiwyg_div,\r\n                _codeArea: textarea,\r\n                _placeholder: placeholder_span,\r\n                _resizingBar: resizing_bar,\r\n                _navigation: navigation,\r\n                _charWrapper: char_wrapper,\r\n                _charCounter: char_counter,\r\n                _loading: loading_box,\r\n                _lineBreaker: line_breaker,\r\n                _lineBreaker_t: line_breaker_t,\r\n                _lineBreaker_b: line_breaker_b,\r\n                _resizeBack: resize_back,\r\n                _stickyDummy: sticky_dummy,\r\n                _arrow: arrow\r\n            },\r\n            options: options,\r\n            plugins: tool_bar.plugins,\r\n            pluginCallButtons: tool_bar.pluginCallButtons,\r\n            _responsiveButtons: tool_bar.responsiveButtons\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Check the CodeMirror option to apply the CodeMirror and return the CodeMirror element.\r\n     * @param {Object} options options\r\n     * @param {Element} textarea textarea element\r\n     * @private\r\n     */\r\n    _checkCodeMirror: function (options, textarea) {\r\n        if (options.codeMirror) {\r\n            const cmOptions = [{\r\n                mode: 'htmlmixed',\r\n                htmlMode: true,\r\n                lineNumbers: true,\r\n                lineWrapping: true\r\n            }, (options.codeMirror.options || {})].reduce(function (init, option) {\r\n                for (let key in option) {\r\n                    if (util.hasOwn(option, key)) init[key] = option[key];\r\n                }\r\n                return init;\r\n            }, {});\r\n\r\n            if (options.height === 'auto') {\r\n                cmOptions.viewportMargin = Infinity;\r\n                cmOptions.height = 'auto';\r\n            }\r\n            \r\n            const cm = options.codeMirror.src.fromTextArea(textarea, cmOptions);\r\n            cm.display.wrapper.style.cssText = textarea.style.cssText;\r\n            \r\n            options.codeMirrorEditor = cm;\r\n            textarea = cm.display.wrapper;\r\n            textarea.className += ' se-wrapper-code-mirror';\r\n        }\r\n\r\n        return textarea;\r\n    },\r\n\r\n    /**\r\n     * @description Check for a katex object.\r\n     * @param {Object} katex katex object\r\n     * @private\r\n     */\r\n    _checkKatexMath: function (katex) {\r\n        if (!katex) throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a \"katex\" object to the options.');\r\n\r\n        const katexOptions = [{\r\n            throwOnError: false,\r\n        }, (katex.options || {})].reduce(function (init, option) {\r\n            for (let key in option) {\r\n                if (util.hasOwn(option, key)) init[key] = option[key];\r\n            }\r\n            return init;\r\n        }, {});\r\n\r\n        katex.options = katexOptions;\r\n    },\r\n\r\n    /**\r\n     * @description Add or reset options\r\n     * @param {Object} mergeOptions New options property\r\n     * @param {Object} context Context object of core\r\n     * @param {Object} originOptions Origin options\r\n     * @returns {Object} pluginCallButtons\r\n     * @private\r\n     */\r\n    _setOptions: function (mergeOptions, context, originOptions) {\r\n        this._initOptions(context.element.originElement, mergeOptions);\r\n\r\n        const el = context.element;\r\n        const relative = el.relative;\r\n        const editorArea = el.editorArea;\r\n        const isNewToolbarContainer = mergeOptions.toolbarContainer && mergeOptions.toolbarContainer !== originOptions.toolbarContainer;\r\n        const isNewToolbar = mergeOptions.lang !== originOptions.lang || mergeOptions.buttonList !== originOptions.buttonList || mergeOptions.mode !== originOptions.mode || isNewToolbarContainer;\r\n\r\n        const tool_bar = this._createToolBar(document, (isNewToolbar ? mergeOptions.buttonList : originOptions.buttonList), mergeOptions.plugins, mergeOptions);\r\n        if (tool_bar.pluginCallButtons.math) this._checkKatexMath(mergeOptions.katex);\r\n        const arrow = document.createElement('DIV');\r\n        arrow.className = 'se-arrow';\r\n\r\n        if (isNewToolbar) {\r\n            tool_bar.element.style.visibility = 'hidden';\r\n            // toolbar container\r\n            if (isNewToolbarContainer) {\r\n                mergeOptions.toolbarContainer.appendChild(tool_bar.element);\r\n                el.toolbar.parentElement.removeChild(el.toolbar);\r\n            } else {\r\n                el.toolbar.parentElement.replaceChild(tool_bar.element, el.toolbar);\r\n            }\r\n\r\n            el.toolbar = tool_bar.element;\r\n            el._menuTray = tool_bar._menuTray;\r\n            el._arrow = arrow;\r\n        }\r\n        \r\n        const initElements = this._initElements(mergeOptions, el.topArea, (isNewToolbar ? tool_bar.element : el.toolbar), arrow);\r\n\r\n        const bottomBar = initElements.bottomBar;\r\n        const wysiwygFrame = initElements.wysiwygFrame;\r\n        const placeholder_span = initElements.placeholder;\r\n        let code = initElements.codeView;\r\n\r\n        if (el.resizingBar) util.removeItem(el.resizingBar);\r\n        if (bottomBar.resizingBar) {\r\n            if (mergeOptions.resizingBarContainer && mergeOptions.resizingBarContainer !== originOptions.resizingBarContainer) {\r\n                mergeOptions.resizingBarContainer.appendChild(bottomBar.resizingBar);\r\n            } else {\r\n                relative.appendChild(bottomBar.resizingBar);\r\n            }\r\n        }\r\n\r\n        editorArea.innerHTML = '';\r\n        editorArea.appendChild(code);\r\n        if (placeholder_span) editorArea.appendChild(placeholder_span);\r\n\r\n        code = this._checkCodeMirror(mergeOptions, code);\r\n        \r\n        el.resizingBar = bottomBar.resizingBar;\r\n        el.navigation = bottomBar.navigation;\r\n        el.charWrapper = bottomBar.charWrapper;\r\n        el.charCounter = bottomBar.charCounter;\r\n        el.wysiwygFrame = wysiwygFrame;\r\n        el.code = code;\r\n        el.placeholder = placeholder_span;\r\n\r\n        if (mergeOptions.rtl) util.addClass(el.topArea, 'se-rtl');\r\n        else util.removeClass(el.topArea, 'se-rtl');\r\n\r\n        return {\r\n            callButtons: tool_bar.pluginCallButtons,\r\n            plugins: tool_bar.plugins,\r\n            toolbar: tool_bar\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Initialize property of suneditor elements\r\n     * @param {Object} options Options\r\n     * @param {Element} topDiv Suneditor top div\r\n     * @param {Element} toolBar Tool bar\r\n     * @param {Element} toolBarArrow Tool bar arrow (balloon editor)\r\n     * @returns {Object} Bottom bar elements (resizingBar, navigation, charWrapper, charCounter)\r\n     * @private\r\n     */\r\n    _initElements: function (options, topDiv, toolBar, toolBarArrow) {\r\n        /** top div */\r\n        topDiv.style.cssText = options._editorStyles.top;\r\n\r\n        /** toolbar */\r\n        if (/inline/i.test(options.mode)) {\r\n            toolBar.className += ' se-toolbar-inline';\r\n            toolBar.style.width = options.toolbarWidth;\r\n        } else if (/balloon/i.test(options.mode)) {\r\n            toolBar.className += ' se-toolbar-balloon';\r\n            toolBar.style.width = options.toolbarWidth;\r\n            toolBar.appendChild(toolBarArrow);\r\n        }\r\n\r\n        /** editor */\r\n        // wysiwyg div or iframe\r\n        const wysiwygDiv = document.createElement(!options.iframe ? 'DIV' : 'IFRAME');\r\n        wysiwygDiv.className = 'se-wrapper-inner se-wrapper-wysiwyg';\r\n        \r\n        if (!options.iframe) {\r\n            wysiwygDiv.setAttribute('contenteditable', true);\r\n            wysiwygDiv.setAttribute('scrolling', 'auto');\r\n            for (let key in options.iframeAttributes) {\r\n                wysiwygDiv.setAttribute(key, options.iframeAttributes[key]);\r\n            }\r\n            wysiwygDiv.className += ' ' + options._editableClass;\r\n            wysiwygDiv.style.cssText = options._editorStyles.frame + options._editorStyles.editor;\r\n            wysiwygDiv.className += options.className;\r\n        } else {\r\n            wysiwygDiv.allowFullscreen = true;\r\n            wysiwygDiv.frameBorder = 0;\r\n            wysiwygDiv.style.cssText = options._editorStyles.frame;\r\n            wysiwygDiv.className += options.className;\r\n        }\r\n\r\n        // textarea for code view\r\n        const textarea = document.createElement('TEXTAREA');\r\n        textarea.className = 'se-wrapper-inner se-wrapper-code' + options.className;\r\n        textarea.style.cssText = options._editorStyles.frame;\r\n        textarea.style.display = 'none';\r\n        if (options.height === 'auto') textarea.style.overflow = 'hidden';\r\n\r\n        /** resize bar */\r\n        let resizingBar = null;\r\n        let navigation = null;\r\n        let charWrapper = null;\r\n        let charCounter = null;\r\n        if (options.resizingBar) {\r\n            resizingBar = document.createElement('DIV');\r\n            resizingBar.className = 'se-resizing-bar sun-editor-common';\r\n\r\n            /** navigation */\r\n            navigation = document.createElement('DIV');\r\n            navigation.className = 'se-navigation sun-editor-common';\r\n            resizingBar.appendChild(navigation);\r\n\r\n            /** char counter */\r\n            if (options.charCounter) {\r\n                charWrapper = document.createElement('DIV');\r\n                charWrapper.className = 'se-char-counter-wrapper';\r\n\r\n                if (options.charCounterLabel) {\r\n                    const charLabel = document.createElement('SPAN');\r\n                    charLabel.className = 'se-char-label';\r\n                    charLabel.textContent = options.charCounterLabel;\r\n                    charWrapper.appendChild(charLabel);\r\n                }\r\n    \r\n                charCounter = document.createElement('SPAN');\r\n                charCounter.className = 'se-char-counter';\r\n                charCounter.textContent = '0';\r\n                charWrapper.appendChild(charCounter);\r\n    \r\n                if (options.maxCharCount > 0) {\r\n                    const char_max = document.createElement('SPAN');\r\n                    char_max.textContent = ' / ' + options.maxCharCount;\r\n                    charWrapper.appendChild(char_max);\r\n                }\r\n\r\n                resizingBar.appendChild(charWrapper);\r\n            }\r\n        }\r\n        \r\n        let placeholder = null;\r\n        if (options.placeholder) {\r\n            placeholder = document.createElement('SPAN');\r\n            placeholder.className = 'se-placeholder';\r\n            placeholder.innerText = options.placeholder;\r\n        }\r\n\r\n        return {\r\n            bottomBar: {\r\n                resizingBar: resizingBar,\r\n                navigation: navigation,\r\n                charWrapper: charWrapper,\r\n                charCounter: charCounter\r\n            },\r\n            wysiwygFrame: wysiwygDiv,\r\n            codeView: textarea,\r\n            placeholder: placeholder\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Initialize options\r\n     * @param {Element} element Options object\r\n     * @param {Object} options Options object\r\n     * @private\r\n     */\r\n    _initOptions: function (element, options) {\r\n        const plugins = {};\r\n        if (options.plugins) {\r\n            const _plugins = options.plugins;\r\n            const pluginsValues = _plugins.length ? _plugins : Object.keys(_plugins).map(function(name) { return _plugins[name]; });\r\n            for (let i = 0, len = pluginsValues.length, p; i < len; i++) {\r\n                p = pluginsValues[i].default || pluginsValues[i];\r\n                plugins[p.name] = p;\r\n            }\r\n        }\r\n        options.plugins = plugins;\r\n        /** Values */\r\n        options.lang = options.lang || _defaultLang;\r\n        options.value = typeof options.value === 'string' ? options.value : null;\r\n        options.historyStackDelayTime = typeof options.historyStackDelayTime === 'number' ? options.historyStackDelayTime : 400;\r\n        // tag style\r\n        options.defaultTag = typeof options.defaultTag === 'string' && options.defaultTag.length > 0 ? options.defaultTag : 'p';\r\n        const textTags = options.textTags = [{bold: 'STRONG', underline: 'U', italic: 'EM', strike: 'DEL', sub: 'SUB', sup: 'SUP'}, (options.textTags || {})].reduce(function (_default, _new) {\r\n            for (let key in _new) {\r\n                _default[key] = _new[key];\r\n            }\r\n            return _default;\r\n        }, {});\r\n        options._textTagsMap = {\r\n            'strong': textTags.bold.toLowerCase(),\r\n            'b': textTags.bold.toLowerCase(),\r\n            'u': textTags.underline.toLowerCase(),\r\n            'ins': textTags.underline.toLowerCase(),\r\n            'em': textTags.italic.toLowerCase(),\r\n            'i': textTags.italic.toLowerCase(),\r\n            'del': textTags.strike.toLowerCase(),\r\n            'strike': textTags.strike.toLowerCase(),\r\n            's': textTags.strike.toLowerCase(),\r\n            'sub': textTags.sub.toLowerCase(),\r\n            'sup': textTags.sup.toLowerCase()\r\n        };\r\n        options._defaultCommand = {\r\n            bold: options.textTags.bold,\r\n            underline: options.textTags.underline,\r\n            italic: options.textTags.italic,\r\n            strike: options.textTags.strike,\r\n            subscript: options.textTags.sub,\r\n            superscript: options.textTags.sup\r\n        };\r\n        /** Whitelist, Blacklist */\r\n        const whitelist = 'br|p|div|pre|blockquote|h1|h2|h3|h4|h5|h6|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code|svg|path|details|summary';\r\n        // tags\r\n        options.tagsBlacklist = options.tagsBlacklist || '';\r\n        options._defaultTagsWhitelist = typeof options._defaultTagsWhitelist === 'string' ? options._defaultTagsWhitelist : whitelist;\r\n        options._editorTagsWhitelist = options.addTagsWhitelist === '*' ? '*' : this._setWhitelist(options._defaultTagsWhitelist + (typeof options.addTagsWhitelist === 'string' && options.addTagsWhitelist.length > 0 ? '|' + options.addTagsWhitelist : ''), options.tagsBlacklist);\r\n        // paste tags\r\n        options.pasteTagsBlacklist = options.tagsBlacklist + (options.tagsBlacklist && options.pasteTagsBlacklist ? ('|' + options.pasteTagsBlacklist) : (options.pasteTagsBlacklist || ''));\r\n        options.pasteTagsWhitelist = options.pasteTagsWhitelist === '*' ? '*' : this._setWhitelist(typeof options.pasteTagsWhitelist === 'string' ? options.pasteTagsWhitelist : options._editorTagsWhitelist, options.pasteTagsBlacklist);\r\n        // tag attributes\r\n        options.attributesWhitelist = (!options.attributesWhitelist || typeof options.attributesWhitelist !== 'object') ? null : options.attributesWhitelist;\r\n        options.attributesBlacklist = (!options.attributesBlacklist || typeof options.attributesBlacklist !== 'object') ? null : options.attributesBlacklist;\r\n        /** Layout */\r\n        options.mode = options.mode || 'classic'; // classic, inline, balloon, balloon-always\r\n        options.rtl = !!options.rtl;\r\n        options.lineAttrReset = typeof options.lineAttrReset === 'string' && options.lineAttrReset ? options.lineAttrReset === '*' ? '*' : new RegExp('^(' + options.lineAttrReset + ')$', 'i') : null;\r\n        options._editableClass = 'sun-editor-editable' + (options.rtl ? ' se-rtl' : '');\r\n        options._printClass = typeof options._printClass === 'string' ? options._printClass : null;\r\n        options.toolbarWidth = options.toolbarWidth ? (util.isNumber(options.toolbarWidth) ? options.toolbarWidth + 'px' : options.toolbarWidth) : 'auto';\r\n        options.toolbarContainer = typeof options.toolbarContainer === 'string' ? document.querySelector(options.toolbarContainer) : options.toolbarContainer;\r\n        options.stickyToolbar = (/balloon/i.test(options.mode) || !!options.toolbarContainer) ? -1 : options.stickyToolbar === undefined ? 0 : (/^\\d+/.test(options.stickyToolbar) ? util.getNumber(options.stickyToolbar, 0) : -1);\r\n        options.hideToolbar = !!options.hideToolbar;\r\n        options.fullScreenOffset = options.fullScreenOffset === undefined ? 0 : (/^\\d+/.test(options.fullScreenOffset) ? util.getNumber(options.fullScreenOffset, 0) : 0);\r\n        options.fullPage = !!options.fullPage;\r\n        options.iframe = options.fullPage || !!options.iframe;\r\n        options.iframeAttributes = options.iframeAttributes || {};\r\n        options.iframeCSSFileName = options.iframe ? typeof options.iframeCSSFileName === 'string' ? [options.iframeCSSFileName] : (options.iframeCSSFileName || ['suneditor']) : null;\r\n        options.previewTemplate = typeof options.previewTemplate === 'string' ? options.previewTemplate : null;\r\n        options.printTemplate = typeof options.printTemplate === 'string' ? options.printTemplate : null;\r\n        /** CodeMirror object */\r\n        options.codeMirror = options.codeMirror ? options.codeMirror.src ? options.codeMirror : {src: options.codeMirror} : null;\r\n        /** katex object (Math plugin) */\r\n        options.katex = options.katex ? options.katex.src ? options.katex : {src: options.katex} : null;\r\n        options.mathFontSize = !!options.mathFontSize ? options.mathFontSize : [\r\n            {text: '1', value: '1em'},\r\n            {text: '1.5', value: '1.5em'},\r\n            {text: '2', value: '2em'},\r\n            {text: '2.5', value: '2.5em'}\r\n        ];\r\n        /** Display */\r\n        options.position = typeof options.position === 'string' ? options.position : null;\r\n        options.display = options.display || (element.style.display === 'none' || !element.style.display ? 'block' : element.style.display);\r\n        options.popupDisplay = options.popupDisplay || 'full';\r\n        /** Bottom resizing bar */\r\n        options.resizingBar = options.resizingBar === undefined ? (/inline|balloon/i.test(options.mode) ? false : true) : options.resizingBar;\r\n        options.showPathLabel = !options.resizingBar ? false : typeof options.showPathLabel === 'boolean' ? options.showPathLabel : true;\r\n        options.resizeEnable = options.resizeEnable === undefined ? true : !!options.resizeEnable;\r\n        options.resizingBarContainer = typeof options.resizingBarContainer === 'string' ? document.querySelector(options.resizingBarContainer) : options.resizingBarContainer;\r\n        /** Character count */\r\n        options.charCounter = options.maxCharCount > 0 ? true : typeof options.charCounter === 'boolean' ? options.charCounter : false;\r\n        options.charCounterType = typeof options.charCounterType === 'string' ? options.charCounterType : 'char';\r\n        options.charCounterLabel = typeof options.charCounterLabel === 'string' ? options.charCounterLabel.trim() : null;\r\n        options.maxCharCount = util.isNumber(options.maxCharCount) && options.maxCharCount > -1 ? options.maxCharCount * 1 : null;\r\n        /** Width size */\r\n        options.width = options.width ? (util.isNumber(options.width) ? options.width + 'px' : options.width) : (element.clientWidth ? element.clientWidth + 'px' : '100%');\r\n        options.minWidth = (util.isNumber(options.minWidth) ? options.minWidth + 'px' : options.minWidth) || '';\r\n        options.maxWidth = (util.isNumber(options.maxWidth) ? options.maxWidth + 'px' : options.maxWidth) || '';\r\n        /** Height size */\r\n        options.height = options.height ? (util.isNumber(options.height) ? options.height + 'px' : options.height) : (element.clientHeight ? element.clientHeight + 'px' : 'auto');\r\n        options.minHeight = (util.isNumber(options.minHeight) ? options.minHeight + 'px' : options.minHeight) || '';\r\n        options.maxHeight = (util.isNumber(options.maxHeight) ? options.maxHeight + 'px' : options.maxHeight) || '';\r\n        /** Editing area */\r\n        options.className = (typeof options.className === 'string' && options.className.length > 0) ? ' ' + options.className : '';\r\n        options.defaultStyle = typeof options.defaultStyle === 'string' ? options.defaultStyle : '';\r\n        /** Defining menu items */\r\n        options.font = !options.font ? ['Arial', 'Comic Sans MS', 'Courier New', 'Impact', 'Georgia', 'tahoma', 'Trebuchet MS', 'Verdana'] : options.font;\r\n        options.fontSize = !options.fontSize ? null : options.fontSize;\r\n        options.formats = !options.formats ? null : options.formats;\r\n        options.colorList = !options.colorList ? null : options.colorList;\r\n        options.lineHeights = !options.lineHeights ? null : options.lineHeights;\r\n        options.paragraphStyles = !options.paragraphStyles ? null : options.paragraphStyles;\r\n        options.textStyles = !options.textStyles ? null : options.textStyles;\r\n        options.fontSizeUnit = typeof options.fontSizeUnit === 'string' ? (options.fontSizeUnit.trim() || 'px') : 'px';\r\n        options.alignItems = typeof options.alignItems === 'object' ? options.alignItems : (options.rtl ? ['right', 'center', 'left', 'justify'] : ['left', 'center', 'right', 'justify']);\r\n        /** Image */\r\n        options.imageResizing = options.imageResizing === undefined ? true : options.imageResizing;\r\n        options.imageHeightShow = options.imageHeightShow === undefined ? true : !!options.imageHeightShow;\r\n        options.imageAlignShow = options.imageAlignShow === undefined ? true : !!options.imageAlignShow;\r\n        options.imageWidth = !options.imageWidth ? 'auto' : util.isNumber(options.imageWidth) ? options.imageWidth + 'px' : options.imageWidth;\r\n        options.imageHeight = !options.imageHeight ? 'auto' : util.isNumber(options.imageHeight) ? options.imageHeight + 'px' : options.imageHeight;\r\n        options.imageSizeOnlyPercentage = !!options.imageSizeOnlyPercentage;\r\n        options._imageSizeUnit = options.imageSizeOnlyPercentage ? '%' : 'px';\r\n        options.imageRotation = options.imageRotation !== undefined ? options.imageRotation : !(options.imageSizeOnlyPercentage || !options.imageHeightShow);\r\n        options.imageFileInput = options.imageFileInput === undefined ? true : options.imageFileInput;\r\n        options.imageUrlInput = (options.imageUrlInput === undefined || !options.imageFileInput) ? true : options.imageUrlInput;\r\n        options.imageUploadHeader = options.imageUploadHeader || null;\r\n        options.imageUploadUrl = typeof options.imageUploadUrl === 'string' ? options.imageUploadUrl : null;\r\n        options.imageUploadSizeLimit = /\\d+/.test(options.imageUploadSizeLimit) ? util.getNumber(options.imageUploadSizeLimit, 0) : null;\r\n        options.imageMultipleFile = !!options.imageMultipleFile;\r\n        options.imageAccept = (typeof options.imageAccept !== 'string' || options.imageAccept.trim() === \"*\") ? 'image/*' : options.imageAccept.trim() || 'image/*';\r\n        /** Image - image gallery */\r\n        options.imageGalleryUrl = typeof options.imageGalleryUrl === 'string' ? options.imageGalleryUrl : null;\r\n        options.imageGalleryHeader = options.imageGalleryHeader || null;\r\n        /** Video */\r\n        options.videoResizing = options.videoResizing === undefined ? true : options.videoResizing;\r\n        options.videoHeightShow = options.videoHeightShow === undefined ? true : !!options.videoHeightShow;\r\n        options.videoAlignShow = options.videoAlignShow === undefined ? true : !!options.videoAlignShow;\r\n        options.videoRatioShow = options.videoRatioShow === undefined ? true : !!options.videoRatioShow;\r\n        options.videoWidth = !options.videoWidth || !util.getNumber(options.videoWidth, 0) ? '' : util.isNumber(options.videoWidth) ? options.videoWidth + 'px' : options.videoWidth;\r\n        options.videoHeight = !options.videoHeight || !util.getNumber(options.videoHeight, 0) ? '' : util.isNumber(options.videoHeight) ? options.videoHeight + 'px' : options.videoHeight;\r\n        options.videoSizeOnlyPercentage = !!options.videoSizeOnlyPercentage;\r\n        options._videoSizeUnit = options.videoSizeOnlyPercentage ? '%' : 'px';\r\n        options.videoRotation = options.videoRotation !== undefined ? options.videoRotation : !(options.videoSizeOnlyPercentage || !options.videoHeightShow);\r\n        options.videoRatio = (util.getNumber(options.videoRatio, 4) || 0.5625);\r\n        options.videoRatioList = !options.videoRatioList ? null : options.videoRatioList;\r\n        options.youtubeQuery = (options.youtubeQuery || '').replace('?', '');\r\n        options.videoFileInput = !!options.videoFileInput;\r\n        options.videoUrlInput = (options.videoUrlInput === undefined || !options.videoFileInput) ? true : options.videoUrlInput;\r\n        options.videoUploadHeader = options.videoUploadHeader || null;\r\n        options.videoUploadUrl = typeof options.videoUploadUrl === 'string' ? options.videoUploadUrl : null;\r\n        options.videoUploadSizeLimit = /\\d+/.test(options.videoUploadSizeLimit) ? util.getNumber(options.videoUploadSizeLimit, 0) : null;\r\n        options.videoMultipleFile = !!options.videoMultipleFile;\r\n        options.videoTagAttrs = options.videoTagAttrs || null;\r\n        options.videoIframeAttrs = options.videoIframeAttrs || null;\r\n        options.videoAccept = (typeof options.videoAccept !== 'string' || options.videoAccept.trim() === \"*\") ? 'video/*' : options.videoAccept.trim() || 'video/*';\r\n        /** Audio */\r\n        options.audioWidth = !options.audioWidth ? '' : util.isNumber(options.audioWidth) ? options.audioWidth + 'px' : options.audioWidth;\r\n        options.audioHeight = !options.audioHeight ? '' : util.isNumber(options.audioHeight) ? options.audioHeight + 'px' : options.audioHeight;\r\n        options.audioFileInput = !!options.audioFileInput;\r\n        options.audioUrlInput = (options.audioUrlInput === undefined || !options.audioFileInput) ? true : options.audioUrlInput;\r\n        options.audioUploadHeader = options.audioUploadHeader || null;\r\n        options.audioUploadUrl = typeof options.audioUploadUrl === 'string' ? options.audioUploadUrl : null;\r\n        options.audioUploadSizeLimit = /\\d+/.test(options.audioUploadSizeLimit) ? util.getNumber(options.audioUploadSizeLimit, 0) : null;\r\n        options.audioMultipleFile = !!options.audioMultipleFile;\r\n        options.audioTagAttrs = options.audioTagAttrs || null;\r\n        options.audioAccept = (typeof options.audioAccept !== 'string' || options.audioAccept.trim() === \"*\") ? 'audio/*' : options.audioAccept.trim() || 'audio/*';\r\n        /** Table */\r\n        options.tableCellControllerPosition = typeof options.tableCellControllerPosition === 'string' ? options.tableCellControllerPosition.toLowerCase() : 'cell';\r\n        /** Link */\r\n        options.linkTargetNewWindow = !!options.linkTargetNewWindow;\r\n        options.linkProtocol = typeof options.linkProtocol === 'string' ? options.linkProtocol : null;\r\n        options.linkRel = Array.isArray(options.linkRel) ? options.linkRel : [];\r\n        options.linkRelDefault = options.linkRelDefault || {};\r\n        /** HR */\r\n        // options.hrItems = options.hrItems;\r\n        /** Key actions */\r\n        options.tabDisable = !!options.tabDisable;\r\n        options.shortcutsDisable = Array.isArray(options.shortcutsDisable) ? options.shortcutsDisable : [];\r\n        options.shortcutsHint = options.shortcutsHint === undefined ? true : !!options.shortcutsHint;\r\n        /** Defining save button */\r\n        options.callBackSave = !options.callBackSave ? null : options.callBackSave;\r\n        /** Templates Array */\r\n        options.templates = !options.templates ? null : options.templates;\r\n        /** ETC */\r\n        options.placeholder = typeof options.placeholder === 'string' ? options.placeholder : null;\r\n        options.mediaAutoSelect = options.mediaAutoSelect === undefined ? true : !!options.mediaAutoSelect;\r\n        /** Buttons */\r\n        options.buttonList = !!options.buttonList ? options.buttonList : [\r\n            ['undo', 'redo'],\r\n            ['bold', 'underline', 'italic', 'strike', 'subscript', 'superscript'],\r\n            ['removeFormat'],\r\n            ['outdent', 'indent'],\r\n            ['fullScreen', 'showBlocks', 'codeView'],\r\n            ['preview', 'print']\r\n        ];\r\n\r\n        /** RTL - buttons */\r\n        if (options.rtl) {\r\n            options.buttonList = options.buttonList.reverse();\r\n        }\r\n\r\n        /** --- Define icons --- */\r\n        // custom icons\r\n        options.icons = (!options.icons || typeof options.icons !== 'object') ? _icons : [_icons, options.icons].reduce(function (_default, _new) {\r\n            for (let key in _new) {\r\n                if (util.hasOwn(_new, key)) _default[key] = _new[key];\r\n            }\r\n            return _default;\r\n        }, {});\r\n        // rtl icons\r\n        options.icons = !options.rtl ? options.icons : [options.icons, options.icons.rtl].reduce(function (_default, _new) {\r\n            for (let key in _new) {\r\n                if (util.hasOwn(_new, key)) _default[key] = _new[key];\r\n            }\r\n            return _default;\r\n        }, {});\r\n\r\n        /** Private options */\r\n        // options.__defaultFontSize;\r\n        options.__listCommonStyle = options.__listCommonStyle || ['fontSize', 'color', 'fontFamily', 'fontWeight', 'fontStyle'];\r\n\r\n        /** _init options */\r\n        options._editorStyles = util._setDefaultOptionStyle(options, options.defaultStyle);\r\n    },\r\n\r\n    _setWhitelist: function (whitelist, blacklist) {\r\n        if (typeof blacklist !== 'string') return whitelist;\r\n        blacklist = blacklist.split('|');\r\n        whitelist = whitelist.split('|');\r\n        for (let i = 0, len = blacklist.length, index; i < len; i++) {\r\n            index = whitelist.indexOf(blacklist[i]);\r\n            if (index > -1) whitelist.splice(index, 1);\r\n        }\r\n        return whitelist.join('|');\r\n    },\r\n\r\n    /**\r\n     * @description Suneditor's Default button list\r\n     * @param {Object} options options\r\n     * @private\r\n     */\r\n    _defaultButtons: function (options) {\r\n        const icons = options.icons;\r\n        const lang = options.lang;\r\n        const cmd = util.isOSX_IOS ? '⌘' : 'CTRL';\r\n        const addShift = util.isOSX_IOS ? '⇧' : '+SHIFT';\r\n        const shortcutsDisable = !options.shortcutsHint ? ['bold', 'strike', 'underline', 'italic', 'undo', 'indent', 'save'] : options.shortcutsDisable;\r\n        const indentKey = options.rtl ? ['[',']'] : [']','['];\r\n        const indentIcon = options.rtl ? [icons.outdent, icons.indent] : [icons.indent, icons.outdent];\r\n\r\n        return {\r\n            /** default command */\r\n            bold: ['', lang.toolbar.bold + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('bold') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">B</span>') + '</span>', 'bold', '', icons.bold],\r\n            underline: ['', lang.toolbar.underline + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('underline') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">U</span>') + '</span>', 'underline', '', icons.underline],\r\n            italic: ['', lang.toolbar.italic + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('italic') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">I</span>') + '</span>', 'italic', '', icons.italic],\r\n            strike: ['', lang.toolbar.strike + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('strike') > -1 ? '' : cmd + addShift + '+<span class=\"se-shortcut-key\">S</span>') + '</span>', 'strike', '', icons.strike],\r\n            subscript: ['', lang.toolbar.subscript, 'SUB', '', icons.subscript],\r\n            superscript: ['', lang.toolbar.superscript, 'SUP', '', icons.superscript],\r\n            removeFormat: ['', lang.toolbar.removeFormat, 'removeFormat', '', icons.erase],\r\n            indent: ['', lang.toolbar.indent + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('indent') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">' + indentKey[0] + '</span>') + '</span>', 'indent', '', indentIcon[0]],\r\n            outdent: ['', lang.toolbar.outdent + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('indent') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">' + indentKey[1] + '</span>') + '</span>', 'outdent', '', indentIcon[1]],\r\n            fullScreen: ['se-code-view-enabled se-resizing-enabled', lang.toolbar.fullScreen, 'fullScreen', '', icons.expansion],\r\n            showBlocks: ['', lang.toolbar.showBlocks, 'showBlocks', '', icons.show_blocks],\r\n            codeView: ['se-code-view-enabled se-resizing-enabled', lang.toolbar.codeView, 'codeView', '', icons.code_view],\r\n            undo: ['', lang.toolbar.undo + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('undo') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">Z</span>') + '</span>', 'undo', '', icons.undo],\r\n            redo: ['', lang.toolbar.redo + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('undo') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">Y</span> / ' + cmd + addShift + '+<span class=\"se-shortcut-key\">Z</span>') + '</span>', 'redo', '', icons.redo],\r\n            preview: ['se-resizing-enabled', lang.toolbar.preview, 'preview', '', icons.preview],\r\n            print: ['se-resizing-enabled', lang.toolbar.print, 'print', '', icons.print],\r\n            dir: ['', lang.toolbar[options.rtl ? 'dir_ltr' : 'dir_rtl'], 'dir', '',  icons[options.rtl ? 'dir_ltr' : 'dir_rtl']],\r\n            dir_ltr: ['', lang.toolbar.dir_ltr, 'dir_ltr', '',  icons.dir_ltr],\r\n            dir_rtl: ['', lang.toolbar.dir_rtl, 'dir_rtl', '',  icons.dir_rtl],\r\n            save: ['se-resizing-enabled', lang.toolbar.save + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('save') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">S</span>') + '</span>', 'save', '', icons.save],\r\n            /** plugins - command */\r\n            blockquote: ['', lang.toolbar.tag_blockquote, 'blockquote', 'command', icons.blockquote],\r\n            /** plugins - submenu */\r\n            font: ['se-btn-select se-btn-tool-font', lang.toolbar.font, 'font', 'submenu', '<span class=\"txt\">' + lang.toolbar.font + '</span>' + icons.arrow_down],\r\n            formatBlock: ['se-btn-select se-btn-tool-format', lang.toolbar.formats, 'formatBlock', 'submenu', '<span class=\"txt\">' + lang.toolbar.formats + '</span>' + icons.arrow_down],\r\n            fontSize: ['se-btn-select se-btn-tool-size', lang.toolbar.fontSize, 'fontSize', 'submenu', '<span class=\"txt\">' + lang.toolbar.fontSize + '</span>' + icons.arrow_down],\r\n            fontColor: ['', lang.toolbar.fontColor, 'fontColor', 'submenu', icons.font_color],\r\n            hiliteColor: ['', lang.toolbar.hiliteColor, 'hiliteColor', 'submenu', icons.highlight_color],\r\n            align: ['se-btn-align', lang.toolbar.align, 'align', 'submenu', (options.rtl ? icons.align_right : icons.align_left)],\r\n            list: ['', lang.toolbar.list, 'list', 'submenu', icons.list_number],\r\n            horizontalRule: ['btn_line', lang.toolbar.horizontalRule, 'horizontalRule', 'submenu', icons.horizontal_rule],\r\n            table: ['', lang.toolbar.table, 'table', 'submenu', icons.table],\r\n            lineHeight: ['', lang.toolbar.lineHeight, 'lineHeight', 'submenu', icons.line_height],\r\n            template: ['', lang.toolbar.template, 'template', 'submenu', icons.template],\r\n            paragraphStyle: ['', lang.toolbar.paragraphStyle, 'paragraphStyle', 'submenu', icons.paragraph_style],\r\n            textStyle: ['', lang.toolbar.textStyle, 'textStyle', 'submenu', icons.text_style],\r\n            /** plugins - dialog */\r\n            link: ['', lang.toolbar.link, 'link', 'dialog', icons.link],\r\n            image: ['', lang.toolbar.image, 'image', 'dialog', icons.image],\r\n            video: ['', lang.toolbar.video, 'video', 'dialog', icons.video],\r\n            audio: ['', lang.toolbar.audio, 'audio', 'dialog', icons.audio],\r\n            math: ['', lang.toolbar.math, 'math', 'dialog', icons.math],\r\n            /** plugins - fileBrowser */\r\n            imageGallery: ['', lang.toolbar.imageGallery, 'imageGallery', 'fileBrowser', icons.image_gallery]\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create a group div containing each module\r\n     * @returns {Object}\r\n     * @private\r\n     */\r\n    _createModuleGroup: function () {\r\n        const oDiv = util.createElement('DIV');\r\n        oDiv.className = 'se-btn-module se-btn-module-border';\r\n\r\n        const oUl = util.createElement('UL');\r\n        oUl.className = 'se-menu-list';\r\n        oDiv.appendChild(oUl);\r\n\r\n        return {\r\n            'div': oDiv,\r\n            'ul': oUl\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create a button element\r\n     * @param {string} buttonClass className in button\r\n     * @param {string} title Title in button\r\n     * @param {string} dataCommand The data-command property of the button\r\n     * @param {string} dataDisplay The data-display property of the button ('dialog', 'submenu', 'command')\r\n     * @param {string} innerHTML Html in button\r\n     * @param {string} _disabled Button disabled\r\n     * @param {Object} _icons Icons\r\n     * @returns {Object}\r\n     * @private\r\n     */\r\n    _createButton: function (buttonClass, title, dataCommand, dataDisplay, innerHTML, _disabled, _icons) {\r\n        const oLi = util.createElement('LI');\r\n        const oButton = util.createElement('BUTTON');\r\n        const label = (title || dataCommand);\r\n\r\n        oButton.setAttribute('type', 'button');\r\n        oButton.setAttribute('class', 'se-btn' + (buttonClass ? ' ' + buttonClass : '') + ' se-tooltip');\r\n        oButton.setAttribute('data-command', dataCommand);\r\n        oButton.setAttribute('data-display', dataDisplay);\r\n        oButton.setAttribute('aria-label', label.replace(/<span .+<\\/span>/, ''));\r\n        oButton.setAttribute('tabindex', '-1');\r\n        \r\n        if (!innerHTML) innerHTML = '<span class=\"se-icon-text\">!</span>';\r\n        if (/^default\\./i.test(innerHTML)) {\r\n            innerHTML = _icons[innerHTML.replace(/^default\\./i, '')];\r\n        }\r\n        if (/^text\\./i.test(innerHTML)) {\r\n            innerHTML = innerHTML.replace(/^text\\./i, '');\r\n            oButton.className += ' se-btn-more-text';\r\n        }\r\n\r\n        innerHTML += '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + label + '</span></span>';\r\n\r\n        if (_disabled) oButton.setAttribute('disabled', true);\r\n        \r\n        oButton.innerHTML = innerHTML;\r\n        oLi.appendChild(oButton);\r\n\r\n        return {\r\n            'li': oLi,\r\n            'button': oButton\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create editor HTML\r\n     * @param {Array} doc document object\r\n     * @param {Array} buttonList option.buttonList\r\n     * @param {Object|null} plugins Plugins\r\n     * @param {Array} options options\r\n     * @returns {Object} { element: (Element) Toolbar element, plugins: (Array|null) Plugins Array, pluginCallButtons: (Object), responsiveButtons: (Array) }\r\n     * @private\r\n     */\r\n    _createToolBar: function (doc, buttonList, plugins, options) {\r\n        const separator_vertical = doc.createElement('DIV');\r\n        separator_vertical.className = 'se-toolbar-separator-vertical';\r\n\r\n        const tool_bar = doc.createElement('DIV');\r\n        tool_bar.className = 'se-toolbar sun-editor-common';\r\n\r\n        const _buttonTray = doc.createElement('DIV');\r\n        _buttonTray.className = 'se-btn-tray';\r\n        tool_bar.appendChild(_buttonTray);\r\n\r\n        /** create button list */\r\n        buttonList = JSON.parse(JSON.stringify(buttonList));\r\n        const icons = options.icons;\r\n        const defaultButtonList = this._defaultButtons(options);\r\n        const pluginCallButtons = {};\r\n        const responsiveButtons = [];\r\n\r\n        let module = null;\r\n        let button = null;\r\n        let moduleElement = null;\r\n        let buttonElement = null;\r\n        let pluginName = '';\r\n        let vertical = false;\r\n        const moreLayer = util.createElement('DIV');\r\n        moreLayer.className = 'se-toolbar-more-layer';\r\n\r\n        buttonGroupLoop:\r\n        for (let i = 0, more, moreContainer, moreCommand, buttonGroup, align; i < buttonList.length; i++) {\r\n            more = false;\r\n            align = '';\r\n            buttonGroup = buttonList[i];\r\n            moduleElement = this._createModuleGroup();\r\n\r\n            // button object\r\n            if (typeof buttonGroup === 'object') {\r\n                // buttons loop\r\n                for (let j = 0, moreButton; j < buttonGroup.length; j++) {\r\n                    button = buttonGroup[j];\r\n                    moreButton = false;\r\n\r\n                    if (/^\\%\\d+/.test(button) && j === 0) {\r\n                        buttonGroup[0] = button.replace(/[^\\d]/g, '');\r\n                        responsiveButtons.push(buttonGroup);\r\n                        buttonList.splice(i--, 1);\r\n                        continue buttonGroupLoop;\r\n                    }\r\n                    \r\n                    if (typeof button === 'object') {\r\n                        if (typeof button.add === 'function') {\r\n                            pluginName = button.name;\r\n                            module = defaultButtonList[pluginName];\r\n                            plugins[pluginName] = button;\r\n                        } else {\r\n                            pluginName = button.name;\r\n                            module = [button.buttonClass, button.title, button.name, button.dataDisplay, button.innerHTML, button._disabled];\r\n                        }\r\n                    } else {\r\n                        // align\r\n                        if (/^\\-/.test(button)) {\r\n                            align = button.substr(1);\r\n                            moduleElement.div.className += ' module-float-' + align;\r\n                            continue;\r\n                        }\r\n\r\n                        // rtl fix\r\n                        if (/^\\#/.test(button)) {\r\n                            const option = button.substr(1);\r\n                            if (option === 'fix') moduleElement.ul.className += ' se-menu-dir-fix';\r\n                            continue;\r\n                        }\r\n                        \r\n                        // more button\r\n                        if (/^\\:/.test(button)) {\r\n                            moreButton = true;\r\n                            const matched = button.match(/^\\:([^\\-]+)\\-([^\\-]+)\\-([^\\-]+)/);\r\n                            moreCommand = '__se__' + matched[1].trim();\r\n                            const title = matched[2].trim();\r\n                            const innerHTML = matched[3].trim();\r\n                            module = ['se-btn-more', title, moreCommand, 'MORE', innerHTML];\r\n                        }\r\n                        // buttons\r\n                        else {\r\n                            module = defaultButtonList[button];\r\n                        }\r\n\r\n                        pluginName = button;\r\n                        if (!module) {\r\n                            const custom = plugins[pluginName];\r\n                            if (!custom) throw Error('[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. [' + pluginName + ']');\r\n                            module = [custom.buttonClass, custom.title, custom.name, custom.display, custom.innerHTML, custom._disabled];\r\n                        }\r\n                    }\r\n\r\n                    buttonElement = this._createButton(module[0], module[1], module[2], module[3], module[4], module[5], icons);\r\n                    (more ? moreContainer : moduleElement.ul).appendChild(buttonElement.li);\r\n\r\n                    if (plugins[pluginName]) {\r\n                        pluginCallButtons[pluginName] = buttonElement.button;\r\n                    }\r\n\r\n                    // more button\r\n                    if (moreButton) {\r\n                        more = true;\r\n                        moreContainer = util.createElement('DIV');\r\n                        moreContainer.className = 'se-more-layer ' + moreCommand;\r\n                        moreContainer.innerHTML = '<div class=\"se-more-form\"><ul class=\"se-menu-list\"' + (align ? ' style=\"float: ' + align + ';\"' : '') + '></ul></div>';\r\n                        moreLayer.appendChild(moreContainer);\r\n                        moreContainer = moreContainer.firstElementChild.firstElementChild;\r\n                    }\r\n                }\r\n\r\n                if (vertical) {\r\n                    const sv =  separator_vertical.cloneNode(false);\r\n                    _buttonTray.appendChild(sv);\r\n                }\r\n                \r\n                _buttonTray.appendChild(moduleElement.div);\r\n                vertical = true;\r\n            }\r\n            /** line break  */\r\n            else if (/^\\/$/.test(buttonGroup)) {\r\n                const enterDiv = doc.createElement('DIV');\r\n                enterDiv.className = 'se-btn-module-enter';\r\n                _buttonTray.appendChild(enterDiv);\r\n                vertical = false;\r\n            }\r\n        }\r\n\r\n        switch (_buttonTray.children.length) {\r\n            case 0:\r\n                _buttonTray.style.display = 'none';\r\n                break;\r\n            case 1:\r\n                util.removeClass(_buttonTray.firstElementChild, 'se-btn-module-border');\r\n                break;\r\n            default:\r\n                if (options.rtl) {\r\n                    const sv =  separator_vertical.cloneNode(false);\r\n                    sv.style.float = _buttonTray.lastElementChild.style.float;\r\n                    _buttonTray.appendChild(sv);\r\n                }\r\n        }\r\n\r\n        if (responsiveButtons.length > 0) responsiveButtons.unshift(buttonList);\r\n        if (moreLayer.children.length > 0) _buttonTray.appendChild(moreLayer);\r\n\r\n        // menu tray\r\n        const _menuTray = doc.createElement('DIV');\r\n        _menuTray.className = 'se-menu-tray';\r\n        tool_bar.appendChild(_menuTray);\r\n\r\n        // cover\r\n        const tool_cover = doc.createElement('DIV');\r\n        tool_cover.className = 'se-toolbar-cover';\r\n        tool_bar.appendChild(tool_cover);\r\n\r\n        if (options.hideToolbar) tool_bar.style.display = 'none';\r\n\r\n        return {\r\n            'element': tool_bar,\r\n            'plugins': plugins,\r\n            'pluginCallButtons': pluginCallButtons,\r\n            'responsiveButtons': responsiveButtons,\r\n            '_menuTray': _menuTray,\r\n            '_buttonTray': _buttonTray\r\n        };\r\n    }\r\n};"]},"metadata":{},"sourceType":"module"}