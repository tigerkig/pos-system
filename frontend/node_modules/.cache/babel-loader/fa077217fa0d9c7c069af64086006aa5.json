{"ast":null,"code":"import { normalize } from '../fns.js'; //round to either current, or +1 of this unit\n\nconst nearest = (s, unit) => {\n  //how far have we gone?\n  let prog = s.progress();\n  unit = normalize(unit); //fix camel-case for this one\n\n  if (unit === 'quarterhour') {\n    unit = 'quarterHour';\n  }\n\n  if (prog[unit] !== undefined) {\n    // go forward one?\n    if (prog[unit] > 0.5) {\n      s = s.add(1, unit);\n    } // go to start\n\n\n    s = s.startOf(unit);\n  } else if (s.silent === false) {\n    console.warn(\"no known unit '\" + unit + \"'\");\n  }\n\n  return s;\n};\n\nexport default nearest;","map":{"version":3,"sources":["E:/React/pos-system/main/node_modules/spacetime/src/methods/nearest.js"],"names":["normalize","nearest","s","unit","prog","progress","undefined","add","startOf","silent","console","warn"],"mappings":"AAAA,SAASA,SAAT,QAA0B,WAA1B,C,CAEA;;AACA,MAAMC,OAAO,GAAG,CAACC,CAAD,EAAIC,IAAJ,KAAa;AAC3B;AACA,MAAIC,IAAI,GAAGF,CAAC,CAACG,QAAF,EAAX;AACAF,EAAAA,IAAI,GAAGH,SAAS,CAACG,IAAD,CAAhB,CAH2B,CAI3B;;AACA,MAAIA,IAAI,KAAK,aAAb,EAA4B;AAC1BA,IAAAA,IAAI,GAAG,aAAP;AACD;;AACD,MAAIC,IAAI,CAACD,IAAD,CAAJ,KAAeG,SAAnB,EAA8B;AAC5B;AACA,QAAIF,IAAI,CAACD,IAAD,CAAJ,GAAa,GAAjB,EAAsB;AACpBD,MAAAA,CAAC,GAAGA,CAAC,CAACK,GAAF,CAAM,CAAN,EAASJ,IAAT,CAAJ;AACD,KAJ2B,CAK5B;;;AACAD,IAAAA,CAAC,GAAGA,CAAC,CAACM,OAAF,CAAUL,IAAV,CAAJ;AACD,GAPD,MAOO,IAAID,CAAC,CAACO,MAAF,KAAa,KAAjB,EAAwB;AAC7BC,IAAAA,OAAO,CAACC,IAAR,CAAa,oBAAoBR,IAApB,GAA2B,GAAxC;AACD;;AACD,SAAOD,CAAP;AACD,CAnBD;;AAoBA,eAAeD,OAAf","sourcesContent":["import { normalize } from '../fns.js'\n\n//round to either current, or +1 of this unit\nconst nearest = (s, unit) => {\n  //how far have we gone?\n  let prog = s.progress()\n  unit = normalize(unit)\n  //fix camel-case for this one\n  if (unit === 'quarterhour') {\n    unit = 'quarterHour'\n  }\n  if (prog[unit] !== undefined) {\n    // go forward one?\n    if (prog[unit] > 0.5) {\n      s = s.add(1, unit)\n    }\n    // go to start\n    s = s.startOf(unit)\n  } else if (s.silent === false) {\n    console.warn(\"no known unit '\" + unit + \"'\")\n  }\n  return s\n}\nexport default nearest\n"]},"metadata":{},"sourceType":"module"}