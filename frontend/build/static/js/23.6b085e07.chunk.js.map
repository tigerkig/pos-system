{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","auth/UserFunction.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","auth/Login.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"],"names":["_getPrototypeOf","o","Object","setPrototypeOf","getPrototypeOf","__proto__","_possibleConstructorReturn","self","call","assertThisInitialized","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","e","result","Super","NewTarget","this","constructor","arguments","apply","api_url","register","newUser","axios","post","firstName","lastName","email","password","confirmPassword","then","response","login","user","localStorage","setItem","data","token","catch","err","console","log","_defineProperty","obj","key","value","defineProperty","enumerable","configurable","writable","Login","handleFormSubmit","event","preventDefault","state","res","props","history","push","errors","onChange","bind","submitted","setState","target","name","className","to","htmlFor","type","placeholder","onClick","style","backgroundImage","Component","_defineProperties","i","length","descriptor","_createClass","Constructor","protoProps","staticProps","_classCallCheck","instance","TypeError"],"mappings":"mHAAe,SAASA,EAAgBC,GAItC,OAHAD,EAAkBE,OAAOC,eAAiBD,OAAOE,eAAiB,SAAyBH,GACzF,OAAOA,EAAEI,WAAaH,OAAOE,eAAeH,IAEvCD,EAAgBC,G,uDCFV,SAASK,EAA2BC,EAAMC,GACvD,OAAIA,GAA2B,WAAlB,YAAQA,IAAsC,oBAATA,EAI3C,OAAAC,EAAA,GAAsBF,GAHpBC,ECDI,SAASE,EAAaC,GACnC,IAAIC,ECJS,WACb,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EACjE,GAAID,QAAQC,UAAUC,KAAM,OAAO,EACnC,GAAqB,oBAAVC,MAAsB,OAAO,EAExC,IAEE,OADAC,KAAKC,UAAUC,SAASX,KAAKK,QAAQC,UAAUG,KAAM,IAAI,iBAClD,EACP,MAAOG,GACP,OAAO,GDLuB,GAChC,OAAO,WACL,IACIC,EADAC,EAAQ,EAAeX,GAG3B,GAAIC,EAA2B,CAC7B,IAAIW,EAAY,EAAeC,MAAMC,YACrCJ,EAASR,QAAQC,UAAUQ,EAAOI,UAAWH,QAE7CF,EAASC,EAAMK,MAAMH,KAAME,WAG7B,OAAO,EAA0BF,KAAMH,M,iCEhB3C,0FAGMO,EAAU,yBAEHC,EAAW,SAAAC,GACtB,OAAOC,IACJC,KAAKJ,EAAU,iBAAkB,CAChCK,UAAWH,EAAQG,UACnBC,SAAUJ,EAAQI,SAClBC,MAAOL,EAAQK,MACfC,SAAUN,EAAQM,SAClBC,gBAAiBP,EAAQO,kBAE1BC,MAAK,SAAAC,GACJ,OAAOA,MAIAC,EAAQ,SAAAC,GACnB,OAAOV,IACJC,KAAKJ,EAAU,cAAe,CAC7BO,MAAOM,EAAKN,MACZC,SAAUK,EAAKL,WAEhBE,MAAK,SAAAC,GAEJ,OADAG,aAAaC,QAAQ,YAAaJ,EAASK,KAAKC,OACzCN,EAASK,QAEjBE,OAAM,SAAAC,GACLC,QAAQC,IAAIF,Q,sDC9BH,SAASG,EAAgBC,EAAKC,EAAKC,GAYhD,OAXID,KAAOD,EACTjD,OAAOoD,eAAeH,EAAKC,EAAK,CAC9BC,MAAOA,EACPE,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZN,EAAIC,GAAOC,EAGNF,EAZT,mC,qICKMO,E,kDACD,aAAe,IAAD,8BACT,gBAgBLC,iBAAmB,SAAAC,GACdA,EAAMC,iBAGN,IAAMpB,EAAO,CACRN,MAAO,EAAK2B,MAAM3B,MAClBC,SAAU,EAAK0B,MAAM1B,UAG1BI,YAAMC,GAAMH,MAAK,SAAAyB,GACRA,GACC,EAAKC,MAAMC,QAAQC,KAAnB,gBAzBV,EAAKJ,MAAQ,CACR3B,MAAO,GACPC,SAAU,GACV+B,OAAQ,IAGb,EAAKC,SAAW,EAAKA,SAASC,KAAd,gBAChB,EAAKC,WAAY,EAVR,E,4CAad,SAASlD,GACJI,KAAK+C,SAAL,eAAiBnD,EAAEoD,OAAOC,KAAOrD,EAAEoD,OAAOnB,U,oBAmB/C,WACK,OACK,sBAAKqB,UAAU,yBAAf,UACK,qBAAKA,UAAU,OAAf,SACK,uBAAMA,UAAU,WAAhB,UACK,oBAAIA,UAAU,6BAAd,qDACA,qBAAKA,UAAU,WAAf,SACK,cAAC,IAAD,CAAMC,GAAG,YAAT,+BAEL,sBAAKD,UAAU,aAAf,UACK,uBAAOE,QAAQ,QAAf,2BACA,uBACKC,KAAK,QACLH,UAAU,eACVD,KAAK,QACLK,YAAY,cACZzB,MAAO7B,KAAKsC,MAAM3B,MAClBiC,SAAU5C,KAAK4C,cAGzB,sBAAKM,UAAU,aAAf,UACK,uBAAOE,QAAQ,WAAf,sBACA,uBACKC,KAAK,WACLH,UAAU,eACVD,KAAK,WACLK,YAAY,WACZzB,MAAO7B,KAAKsC,MAAM1B,SAClBgC,SAAU5C,KAAK4C,cAGzB,sBAAKM,UAAU,cAAf,UACK,cAAC,IAAD,CAAMC,GAAG,IAAT,mCAGA,wBACKE,KAAK,SACLE,QAASvD,KAAKmC,iBACde,UAAU,kBAHf,6BAYf,qBAAKA,UAAU,uBAAuBM,MAAO,CAAEC,gBAAgB,iH,GAjF/DC,aAwFLxB,a,gCC7Ff,SAASyB,EAAkBX,EAAQR,GACjC,IAAK,IAAIoB,EAAI,EAAGA,EAAIpB,EAAMqB,OAAQD,IAAK,CACrC,IAAIE,EAAatB,EAAMoB,GACvBE,EAAW/B,WAAa+B,EAAW/B,aAAc,EACjD+B,EAAW9B,cAAe,EACtB,UAAW8B,IAAYA,EAAW7B,UAAW,GACjDvD,OAAOoD,eAAekB,EAAQc,EAAWlC,IAAKkC,IAInC,SAASC,EAAaC,EAAaC,EAAYC,GAG5D,OAFID,GAAYN,EAAkBK,EAAYtE,UAAWuE,GACrDC,GAAaP,EAAkBK,EAAaE,GACzCF,EAbT,mC,gCCAe,SAASG,EAAgBC,EAAUJ,GAChD,KAAMI,aAAoBJ,GACxB,MAAM,IAAIK,UAAU,qCAFxB","file":"static/js/23.6b085e07.chunk.js","sourcesContent":["export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import axios from 'axios'\r\n\r\n// const { api_url } = process.env\r\nconst api_url = \"http://localhost:8080/\"\r\n\r\nexport const register = newUser => {\r\n  return axios\r\n    .post(api_url + 'users/register', {\r\n      firstName: newUser.firstName,\r\n      lastName: newUser.lastName,\r\n      email: newUser.email,\r\n      password: newUser.password,\r\n      confirmPassword: newUser.confirmPassword\r\n    })\r\n    .then(response => {\r\n      return response\r\n    })\r\n}\r\n\r\nexport const login = user => {\r\n  return axios\r\n    .post(api_url + 'users/login', {\r\n      email: user.email,\r\n      password: user.password\r\n    })\r\n    .then(response => {\r\n      localStorage.setItem('usertoken', response.data.token)\r\n      return response.data\r\n    })\r\n    .catch(err => {\r\n      console.log(err)\r\n    })\r\n}\r\n\r\nexport const getProfile = token => {\r\n  return axios\r\n    .get('users/profile', {\r\n      headers: { Authorization: token }\r\n    })\r\n    .then(response => {\r\n      response.data.status = 'success';\r\n      return response.data\r\n    })\r\n    .catch(err => {\r\n      console.dir(err)\r\n      return {'error':err.message,'status':'failed'};\r\n    })\r\n}\r\n\r\n\r\n\r\nexport const updatePassword = updatePasswordRequest => {\r\n  return axios\r\n    .put(\r\n      `/users/password/`,\r\n      {\r\n        email:updatePasswordRequest.email,\r\n        password: updatePasswordRequest.password,\r\n        new_password: updatePasswordRequest.new_password\r\n      },\r\n      {\r\n        headers: { \r\n            'Content-Type': 'application/json', \r\n            'Authorization': updatePasswordRequest.token \r\n        }\r\n      }\r\n    )\r\n    .then(function(response) {\r\n        return response.data;\r\n    }).catch(err=>{\r\n      console.dir(\"err\",err);\r\n      return err.message;\r\n    })\r\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { login } from './UserFunction'\r\nimport './auth.css'\r\n\r\nclass Login extends Component {\r\n     constructor() {\r\n          super()\r\n\r\n          this.state = {\r\n               email: '',\r\n               password: '',\r\n               errors: {}\r\n          }\r\n\r\n          this.onChange = this.onChange.bind(this)\r\n          this.submitted = false;\r\n     }\r\n\r\n     onChange(e) {\r\n          this.setState({ [e.target.name]: e.target.value })\r\n     }\r\n\r\n     handleFormSubmit = event => {\r\n          event.preventDefault();\r\n\r\n          // handle actual form submission here\r\n          const user = {\r\n               email: this.state.email,\r\n               password: this.state.password\r\n          }\r\n\r\n          login(user).then(res => {\r\n               if (res) {\r\n                    this.props.history.push(`/profile`)\r\n               }\r\n          })\r\n     }\r\n\r\n     render() {\r\n          return (\r\n               <div className='main-content-container'>\r\n                    <div className=\"form\">\r\n                         <form className='signForm'>\r\n                              <h1 className=\"h3 mb-3 font-weight-normal\">Sign in to Lightspeed Retail (X-Series)</h1>\r\n                              <div className='notStore'>\r\n                                   <Link to='/register'>Not your store?</Link>\r\n                              </div>\r\n                              <div className=\"form-group\">\r\n                                   <label htmlFor=\"email\">Email address</label>\r\n                                   <input\r\n                                        type=\"email\"\r\n                                        className=\"form-control\"\r\n                                        name=\"email\"\r\n                                        placeholder=\"Enter email\"\r\n                                        value={this.state.email}\r\n                                        onChange={this.onChange}\r\n                                   />\r\n                              </div>\r\n                              <div className=\"form-group\">\r\n                                   <label htmlFor=\"password\">Password</label>\r\n                                   <input\r\n                                        type=\"password\"\r\n                                        className=\"form-control\"\r\n                                        name=\"password\"\r\n                                        placeholder=\"Password\"\r\n                                        value={this.state.password}\r\n                                        onChange={this.onChange}\r\n                                   />\r\n                              </div>\r\n                              <div className='loginButton'>\r\n                                   <Link to='/'>\r\n                                        Forgot your password?\r\n                                   </Link>\r\n                                   <button\r\n                                        type=\"submit\"\r\n                                        onClick={this.handleFormSubmit}\r\n                                        className=\"btn btn-primary\"\r\n                                   >\r\n                                        Sign in\r\n                                   </button>\r\n                              </div>\r\n\r\n                         </form>\r\n                    </div>\r\n\r\n                    <div className='vd-signin-background' style={{ backgroundImage: `url(\"https://vendfrontendassets.freetls.fastly.net/images/backgrounds/login-background-xseries.jpg\")` }}>\r\n                    </div>\r\n               </div>\r\n          )\r\n     }\r\n}\r\n\r\nexport default Login\r\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}"],"sourceRoot":""}