{"ast":null,"code":"/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nexport default {\n  name: 'template',\n  display: 'submenu',\n  add: function add(core, targetElement) {\n    var context = core.context;\n    context.template = {\n      selectedIndex: -1\n    };\n    /** set submenu */\n\n    var templateDiv = this.setSubmenu(core);\n    /** add event listeners */\n\n    templateDiv.querySelector('ul').addEventListener('click', this.pickup.bind(core));\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, templateDiv);\n    /** empty memory */\n\n    templateDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var templateList = core.options.templates;\n\n    if (!templateList || templateList.length === 0) {\n      throw Error('[SUNEDITOR.plugins.template.fail] To use the \"template\" plugin, please define the \"templates\" option.');\n    }\n\n    var listDiv = core.util.createElement('DIV');\n    listDiv.className = 'se-list-layer';\n    var list = '<div class=\"se-submenu se-list-inner\">' + '<ul class=\"se-list-basic\">';\n\n    for (var i = 0, len = templateList.length, t; i < len; i++) {\n      t = templateList[i];\n      list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + i + '\" title=\"' + t.name + '\" aria-label=\"' + t.name + '\">' + t.name + '</button></li>';\n    }\n\n    list += '</ul></div>';\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n  pickup: function pickup(e) {\n    if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n    e.preventDefault();\n    e.stopPropagation();\n    this.context.template.selectedIndex = e.target.getAttribute('data-value') * 1;\n    var temp = this.options.templates[this.context.template.selectedIndex];\n\n    if (temp.html) {\n      this.setContents(temp.html);\n    } else {\n      this.submenuOff();\n      throw Error('[SUNEDITOR.template.fail] cause : \"templates[i].html not found\"');\n    }\n\n    this.submenuOff();\n  }\n};","map":{"version":3,"sources":["E:/React/pos-system/main/node_modules/suneditor/src/plugins/submenu/template.js"],"names":["name","display","add","core","targetElement","context","template","selectedIndex","templateDiv","setSubmenu","querySelector","addEventListener","pickup","bind","initMenuTarget","templateList","options","templates","length","Error","listDiv","util","createElement","className","list","i","len","t","innerHTML","e","test","target","tagName","preventDefault","stopPropagation","getAttribute","temp","html","setContents","submenuOff"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe;AACXA,EAAAA,IAAI,EAAE,UADK;AAEXC,EAAAA,OAAO,EAAE,SAFE;AAGXC,EAAAA,GAAG,EAAE,aAAUC,IAAV,EAAgBC,aAAhB,EAA+B;AAChC,QAAMC,OAAO,GAAGF,IAAI,CAACE,OAArB;AACAA,IAAAA,OAAO,CAACC,QAAR,GAAmB;AACfC,MAAAA,aAAa,EAAE,CAAC;AADD,KAAnB;AAIA;;AACA,QAAIC,WAAW,GAAG,KAAKC,UAAL,CAAgBN,IAAhB,CAAlB;AAEA;;AACAK,IAAAA,WAAW,CAACE,aAAZ,CAA0B,IAA1B,EAAgCC,gBAAhC,CAAiD,OAAjD,EAA0D,KAAKC,MAAL,CAAYC,IAAZ,CAAiBV,IAAjB,CAA1D;AAEA;;AACAA,IAAAA,IAAI,CAACW,cAAL,CAAoB,KAAKd,IAAzB,EAA+BI,aAA/B,EAA8CI,WAA9C;AAEA;;AACAA,IAAAA,WAAW,GAAG,IAAd;AACH,GApBU;AAsBXC,EAAAA,UAAU,EAAE,oBAAUN,IAAV,EAAgB;AACxB,QAAMY,YAAY,GAAGZ,IAAI,CAACa,OAAL,CAAaC,SAAlC;;AACA,QAAI,CAACF,YAAD,IAAiBA,YAAY,CAACG,MAAb,KAAwB,CAA7C,EAAgD;AAC5C,YAAMC,KAAK,CAAC,uGAAD,CAAX;AACH;;AAED,QAAMC,OAAO,GAAGjB,IAAI,CAACkB,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAhB;AACAF,IAAAA,OAAO,CAACG,SAAR,GAAoB,eAApB;AAEA,QAAIC,IAAI,GAAG,2CACH,4BADR;;AAEA,SAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGX,YAAY,CAACG,MAA9B,EAAsCS,CAA3C,EAA8CF,CAAC,GAAGC,GAAlD,EAAuDD,CAAC,EAAxD,EAA4D;AACxDE,MAAAA,CAAC,GAAGZ,YAAY,CAACU,CAAD,CAAhB;AACAD,MAAAA,IAAI,IAAI,+DAA+DC,CAA/D,GAAmE,WAAnE,GAAiFE,CAAC,CAAC3B,IAAnF,GAA0F,gBAA1F,GAA6G2B,CAAC,CAAC3B,IAA/G,GAAsH,IAAtH,GAA6H2B,CAAC,CAAC3B,IAA/H,GAAsI,gBAA9I;AACH;;AACDwB,IAAAA,IAAI,IAAI,aAAR;AAEAJ,IAAAA,OAAO,CAACQ,SAAR,GAAoBJ,IAApB;AAEA,WAAOJ,OAAP;AACH,GA1CU;AA4CXR,EAAAA,MAAM,EAAE,gBAAUiB,CAAV,EAAa;AACjB,QAAI,CAAC,YAAYC,IAAZ,CAAiBD,CAAC,CAACE,MAAF,CAASC,OAA1B,CAAL,EAAyC,OAAO,KAAP;AAEzCH,IAAAA,CAAC,CAACI,cAAF;AACAJ,IAAAA,CAAC,CAACK,eAAF;AAEA,SAAK7B,OAAL,CAAaC,QAAb,CAAsBC,aAAtB,GAAsCsB,CAAC,CAACE,MAAF,CAASI,YAAT,CAAsB,YAAtB,IAAsC,CAA5E;AACA,QAAMC,IAAI,GAAG,KAAKpB,OAAL,CAAaC,SAAb,CAAuB,KAAKZ,OAAL,CAAaC,QAAb,CAAsBC,aAA7C,CAAb;;AAEA,QAAI6B,IAAI,CAACC,IAAT,EAAe;AACX,WAAKC,WAAL,CAAiBF,IAAI,CAACC,IAAtB;AACH,KAFD,MAEO;AACH,WAAKE,UAAL;AACA,YAAMpB,KAAK,CAAC,iEAAD,CAAX;AACH;;AAED,SAAKoB,UAAL;AACH;AA7DU,CAAf","sourcesContent":["/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nexport default {\n    name: 'template',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.template = {\n            selectedIndex: -1\n        };\n\n        /** set submenu */\n        let templateDiv = this.setSubmenu(core);\n\n        /** add event listeners */\n        templateDiv.querySelector('ul').addEventListener('click', this.pickup.bind(core));\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, templateDiv);\n\n        /** empty memory */\n        templateDiv = null;\n    },\n\n    setSubmenu: function (core) {\n        const templateList = core.options.templates;\n        if (!templateList || templateList.length === 0) {\n            throw Error('[SUNEDITOR.plugins.template.fail] To use the \"template\" plugin, please define the \"templates\" option.');\n        }\n\n        const listDiv = core.util.createElement('DIV');\n        listDiv.className = 'se-list-layer';\n\n        let list = '<div class=\"se-submenu se-list-inner\">' +\n                '<ul class=\"se-list-basic\">';\n        for (let i = 0, len = templateList.length, t; i < len; i++) {\n            t = templateList[i];\n            list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + i + '\" title=\"' + t.name + '\" aria-label=\"' + t.name + '\">' + t.name + '</button></li>';\n        }\n        list += '</ul></div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n    pickup: function (e) {\n        if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        this.context.template.selectedIndex = e.target.getAttribute('data-value') * 1;\n        const temp = this.options.templates[this.context.template.selectedIndex];\n\n        if (temp.html) {\n            this.setContents(temp.html);\n        } else {\n            this.submenuOff();\n            throw Error('[SUNEDITOR.template.fail] cause : \"templates[i].html not found\"');\n        }\n        \n        this.submenuOff();\n    }\n};"]},"metadata":{},"sourceType":"module"}